(function(){function e(e){this.tokens=[],this.tokens.links={},this.options=e||u.defaults,this.rules=c.normal,this.options.gfm&&(this.options.tables?this.rules=c.tables:this.rules=c.gfm)}function t(e,t){if(this.options=t||u.defaults,this.links=e,this.rules=h.normal,this.renderer=this.options.renderer||new i,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=h.breaks:this.rules=h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function i(e){this.options=e||{}}function n(e){this.tokens=[],this.token=null,this.options=e||u.defaults,this.options.renderer=this.options.renderer||new i,this.renderer=this.options.renderer,this.renderer.options=this.options}function r(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(e){return e.replace(/&([#\w]+);/g,function(e,t){return t=t.toLowerCase(),"colon"===t?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function o(e,t){return e=e.source,t=t||"",function i(n,r){return n?(r=r.source||r,r=r.replace(/(^|[^\[])\^/g,"$1"),e=e.replace(n,r),i):new RegExp(e,t)}}function a(){}function l(e){for(var t,i,n=1;n<arguments.length;n++){t=arguments[n];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}function u(t,i,s){if(s||"function"==typeof i){s||(s=i,i=null),i=l({},u.defaults,i||{});var o,a,c=i.highlight,h=0;try{o=e.lex(t,i)}catch(d){return s(d)}a=o.length;var f=function(e){if(e)return i.highlight=c,s(e);var t;try{t=n.parse(o,i)}catch(r){e=r}return i.highlight=c,e?s(e):s(null,t)};if(!c||c.length<3)return f();if(delete i.highlight,!a)return f();for(;h<o.length;h++)!function(e){return"code"!==e.type?--a||f():c(e.text,e.lang,function(t,i){return t?f(t):null==i||i===e.text?--a||f():(e.text=i,e.escaped=!0,void(--a||f()))})}(o[h])}else try{return i&&(i=l({},u.defaults,i)),n.parse(e.lex(t,i),i)}catch(d){if(d.message+="\nPlease report this to https://github.com/chjj/marked.",(i||u.defaults).silent)return"<p>An error occured:</p><pre>"+r(d.message+"",!0)+"</pre>";throw d}}var c={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:a,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:a,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};c.bullet=/(?:[*+-]|\d+\.)/,c.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,c.item=o(c.item,"gm")(/bull/g,c.bullet)(),c.list=o(c.list)(/bull/g,c.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+c.def.source+")")(),c.blockquote=o(c.blockquote)("def",c.def)(),c._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",c.html=o(c.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,c._tag)(),c.paragraph=o(c.paragraph)("hr",c.hr)("heading",c.heading)("lheading",c.lheading)("blockquote",c.blockquote)("tag","<"+c._tag)("def",c.def)(),c.normal=l({},c),c.gfm=l({},c.normal,{fences:/^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,paragraph:/^/}),c.gfm.paragraph=o(c.paragraph)("(?!","(?!"+c.gfm.fences.source.replace("\\1","\\2")+"|"+c.list.source.replace("\\1","\\3")+"|")(),c.tables=l({},c.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),e.rules=c,e.lex=function(t,i){var n=new e(i);return n.lex(t)},e.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},e.prototype.token=function(e,t,i){for(var n,r,s,o,a,l,u,h,d,e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(t&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),l={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},h=0;h<l.align.length;h++)/^ *-+: *$/.test(l.align[h])?l.align[h]="right":/^ *:-+: *$/.test(l.align[h])?l.align[h]="center":/^ *:-+ *$/.test(l.align[h])?l.align[h]="left":l.align[h]=null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].split(/ *\| */);this.tokens.push(l)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,t,!0),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),o=s[2],this.tokens.push({type:"list_start",ordered:o.length>1}),s=s[0].match(this.rules.item),n=!1,d=s.length,h=0;h<d;h++)l=s[h],u=l.length,l=l.replace(/^ *([*+-]|\d+\.) +/,""),~l.indexOf("\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&h!==d-1&&(a=c.bullet.exec(s[h+1])[0],o===a||o.length>1&&a.length>1||(e=s.slice(h+1).join("\n")+e,h=d-1)),r=n||/\n\n(?!\s*$)/.test(l),h!==d-1&&(n="\n"===l.charAt(l.length-1),r||(r=n)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(l,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===s[1]||"script"===s[1]||"style"===s[1],text:s[0]});else if(!i&&t&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(t&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),l={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},h=0;h<l.align.length;h++)/^ *-+: *$/.test(l.align[h])?l.align[h]="right":/^ *:-+: *$/.test(l.align[h])?l.align[h]="center":/^ *:-+ *$/.test(l.align[h])?l.align[h]="left":l.align[h]=null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(l)}else if(t&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var h={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:a,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:a,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};h._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,h._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,h.link=o(h.link)("inside",h._inside)("href",h._href)(),h.reflink=o(h.reflink)("inside",h._inside)(),h.normal=l({},h),h.pedantic=l({},h.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),h.gfm=l({},h.normal,{escape:o(h.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:o(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=l({},h.gfm,{br:o(h.br)("{2,}","*")(),text:o(h.gfm.text)("{2,}","*")()}),t.rules=h,t.output=function(e,i,n){var r=new t(i,n);return r.output(e)},t.prototype.output=function(e){for(var t,i,n,s,o="";e;)if(s=this.rules.escape.exec(e))e=e.substring(s[0].length),o+=s[1];else if(s=this.rules.autolink.exec(e))e=e.substring(s[0].length),"@"===s[2]?(i=":"===s[1].charAt(6)?this.mangle(s[1].substring(7)):this.mangle(s[1]),n=this.mangle("mailto:")+i):(i=r(s[1]),n=i),o+=this.renderer.link(n,null,i);else if(this.inLink||!(s=this.rules.url.exec(e))){if(s=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),e=e.substring(s[0].length),o+=this.options.sanitize?r(s[0]):s[0];else if(s=this.rules.link.exec(e))e=e.substring(s[0].length),this.inLink=!0,o+=this.outputLink(s,{href:s[2],title:s[3]}),this.inLink=!1;else if((s=this.rules.reflink.exec(e))||(s=this.rules.nolink.exec(e))){if(e=e.substring(s[0].length),t=(s[2]||s[1]).replace(/\s+/g," "),t=this.links[t.toLowerCase()],!t||!t.href){o+=s[0].charAt(0),e=s[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(s,t),this.inLink=!1}else if(s=this.rules.strong.exec(e))e=e.substring(s[0].length),o+=this.renderer.strong(this.output(s[2]||s[1]));else if(s=this.rules.em.exec(e))e=e.substring(s[0].length),o+=this.renderer.em(this.output(s[2]||s[1]));else if(s=this.rules.code.exec(e))e=e.substring(s[0].length),o+=this.renderer.codespan(r(s[2],!0));else if(s=this.rules.br.exec(e))e=e.substring(s[0].length),o+=this.renderer.br();else if(s=this.rules.del.exec(e))e=e.substring(s[0].length),o+=this.renderer.del(this.output(s[1]));else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),o+=r(this.smartypants(s[0]));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(s[0].length),i=r(s[1]),n=i,o+=this.renderer.link(n,null,i);return o},t.prototype.outputLink=function(e,t){var i=r(t.href),n=t.title?r(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(i,n,this.output(e[1])):this.renderer.image(i,n,r(e[1]))},t.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/--/g,"—").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},t.prototype.mangle=function(e){for(var t,i="",n=e.length,r=0;r<n;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),i+="&#"+t+";";return i},i.prototype.code=function(e,t,i){if(this.options.highlight){var n=this.options.highlight(e,t);null!=n&&n!==e&&(i=!0,e=n)}return t?'<pre><code class="'+this.options.langPrefix+r(t,!0)+'">'+(i?e:r(e,!0))+"\n</code></pre>\n":"<pre><code>"+(i?e:r(e,!0))+"\n</code></pre>"},i.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},i.prototype.html=function(e){return e},i.prototype.heading=function(e,t,i){return"<h"+t+' id="'+this.options.headerPrefix+i.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},i.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},i.prototype.list=function(e,t){var i=t?"ol":"ul";return"<"+i+">\n"+e+"</"+i+">\n"},i.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},i.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},i.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},i.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},i.prototype.tablecell=function(e,t){var i=t.header?"th":"td",n=t.align?"<"+i+' style="text-align:'+t.align+'">':"<"+i+">";return n+e+"</"+i+">\n"},i.prototype.strong=function(e){return"<strong>"+e+"</strong>"},i.prototype.em=function(e){return"<em>"+e+"</em>"},i.prototype.codespan=function(e){return"<code>"+e+"</code>"},i.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},i.prototype.del=function(e){return"<del>"+e+"</del>"},i.prototype.link=function(e,t,i){if(this.options.sanitize){try{var n=decodeURIComponent(s(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(r){return""}if(0===n.indexOf("javascript:"))return""}var o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+i+"</a>"},i.prototype.image=function(e,t,i){var n='<img src="'+e+'" alt="'+i+'"';return t&&(n+=' title="'+t+'"'),n+=this.options.xhtml?"/>":">"},n.parse=function(e,t,i){var r=new n(t,i);return r.parse(e)},n.prototype.parse=function(e){this.inline=new t(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var i="";this.next();)i+=this.tok();return i},n.prototype.next=function(){return this.token=this.tokens.pop()},n.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},n.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},n.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,i,n,r,s="",o="";for(i="",e=0;e<this.token.header.length;e++)n={header:!0,align:this.token.align[e]},i+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(s+=this.renderer.tablerow(i),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],i="",r=0;r<t.length;r++)i+=this.renderer.tablecell(this.inline.output(t[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(i)}return this.renderer.table(s,o);case"blockquote_start":for(var o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",a=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a);case"list_item_start":for(var o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(var o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,u.options=u.setOptions=function(e){return l(u.defaults,e),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new i,xhtml:!1},u.Parser=n,u.parser=n.parse,u.Renderer=i,u.Lexer=e,u.lexer=e.lex,u.InlineLexer=t,u.inlineLexer=t.output,u.parse=u,"undefined"!=typeof module&&"object"==typeof exports?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):this.marked=u}).call(function(){return this||("undefined"!=typeof window?window:global)}()),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=e.length,i=Z.type(e);return"function"!==i&&!Z.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e))}function n(e,t,i){if(Z.isFunction(t))return Z.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return Z.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(ae.test(t))return Z.filter(t,e,i);t=Z.filter(t,e)}return Z.grep(e,function(e){return Y.call(t,e)>=0!==i})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function s(e){var t=pe[e]={};return Z.each(e.match(fe)||[],function(e,i){t[i]=!0}),t}function o(){J.removeEventListener("DOMContentLoaded",o,!1),e.removeEventListener("load",o,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+Math.random()}function l(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(xe,"-$1").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:be.test(i)?Z.parseJSON(i):i)}catch(r){}ve.set(e,t,i)}else i=void 0;return i}function u(){return!0}function c(){return!1}function h(){try{return J.activeElement}catch(e){}}function d(e,t){return Z.nodeName(e,"table")&&Z.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function f(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=De.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var i=0,n=e.length;n>i;i++)ye.set(e[i],"globalEval",!t||ye.get(t[i],"globalEval"))}function m(e,t){var i,n,r,s,o,a,l,u;if(1===t.nodeType){if(ye.hasData(e)&&(s=ye.access(e),o=ye.set(t,s),u=s.events)){delete o.handle,o.events={};for(r in u)for(i=0,n=u[r].length;n>i;i++)Z.event.add(t,r,u[r][i])}ve.hasData(e)&&(a=ve.access(e),l=Z.extend({},a),ve.set(t,l))}}function y(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Z.nodeName(e,t)?Z.merge([e],i):i}function v(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Se.test(e.type)?t.checked=e.checked:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}function b(t,i){var n,r=Z(i.createElement(t)).appendTo(i.body),s=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(r[0]))?n.display:Z.css(r[0],"display");return r.detach(),s}function x(e){var t=J,i=Fe[e];return i||(i=b(e,t),"none"!==i&&i||(ze=(ze||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=ze[0].contentDocument,t.write(),t.close(),i=b(e,t),ze.detach()),Fe[e]=i),i}function w(e,t,i){var n,r,s,o,a=e.style;return i=i||$e(e),i&&(o=i.getPropertyValue(t)||i[t]),i&&(""!==o||Z.contains(e.ownerDocument,e)||(o=Z.style(e,t)),Be.test(o)&&qe.test(t)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function E(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function k(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,r=Ke.length;r--;)if(t=Ke[r]+i,t in e)return t;return n}function S(e,t,i){var n=Ue.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function T(e,t,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,o=0;4>s;s+=2)"margin"===i&&(o+=Z.css(e,i+Ee[s],!0,r)),n?("content"===i&&(o-=Z.css(e,"padding"+Ee[s],!0,r)),"margin"!==i&&(o-=Z.css(e,"border"+Ee[s]+"Width",!0,r))):(o+=Z.css(e,"padding"+Ee[s],!0,r),"padding"!==i&&(o+=Z.css(e,"border"+Ee[s]+"Width",!0,r)));return o}function A(e,t,i){var n=!0,r="width"===t?e.offsetWidth:e.offsetHeight,s=$e(e),o="border-box"===Z.css(e,"boxSizing",!1,s);if(0>=r||null==r){if(r=w(e,t,s),(0>r||null==r)&&(r=e.style[t]),Be.test(r))return r;n=o&&(G.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+T(e,t,i||(o?"border":"content"),n,s)+"px"}function C(e,t){for(var i,n,r,s=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(s[o]=ye.get(n,"olddisplay"),i=n.style.display,t?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&ke(n)&&(s[o]=ye.access(n,"olddisplay",x(n.nodeName)))):(r=ke(n),"none"===i&&r||ye.set(n,"olddisplay",r?i:Z.css(n,"display"))));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[o]||"":"none"));return e}function N(e,t,i,n,r){return new N.prototype.init(e,t,i,n,r)}function _(){return setTimeout(function(){Ge=void 0}),Ge=Z.now()}function P(e,t){var i,n=0,r={height:e};for(t=t?1:0;4>n;n+=2-t)i=Ee[n],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function M(e,t,i){for(var n,r=(it[t]||[]).concat(it["*"]),s=0,o=r.length;o>s;s++)if(n=r[s].call(i,t,e))return n}function L(e,t,i){var n,r,s,o,a,l,u,c,h=this,d={},f=e.style,p=e.nodeType&&ke(e),g=ye.get(e,"fxshow");i.queue||(a=Z._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Z.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],u=Z.css(e,"display"),c="none"===u?ye.get(e,"olddisplay")||x(e.nodeName):u,"inline"===c&&"none"===Z.css(e,"float")&&(f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in t)if(r=t[n],Qe.exec(r)){if(delete t[n],s=s||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue;p=!0}d[n]=g&&g[n]||Z.style(e,n)}else u=void 0;if(Z.isEmptyObject(d))"inline"===("none"===u?x(e.nodeName):u)&&(f.display=u);else{g?"hidden"in g&&(p=g.hidden):g=ye.access(e,"fxshow",{}),s&&(g.hidden=!p),p?Z(e).show():h.done(function(){Z(e).hide()}),h.done(function(){var t;ye.remove(e,"fxshow");for(t in d)Z.style(e,t,d[t])});for(n in d)o=M(p?g[n]:0,n,h),n in g||(g[n]=o.start,p&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function O(e,t){var i,n,r,s,o;for(i in e)if(n=Z.camelCase(i),r=t[n],s=e[i],Z.isArray(s)&&(r=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),o=Z.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=r)}else t[n]=r}function R(e,t,i){var n,r,s=0,o=tt.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Ge||_(),i=Math.max(0,u.startTime+u.duration-t),n=i/u.duration||0,s=1-n,o=0,l=u.tweens.length;l>o;o++)u.tweens[o].run(s);return a.notifyWith(e,[u,s,i]),1>s&&l?i:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:Z.extend({},t),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Ge||_(),duration:i.duration,tweens:[],createTween:function(t,i){var n=Z.Tween(e,u.opts,t,i,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var i=0,n=t?u.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)u.tweens[i].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(O(c,u.opts.specialEasing);o>s;s++)if(n=tt[s].call(u,e,c,u.opts))return n;return Z.map(c,M,u),Z.isFunction(u.opts.start)&&u.opts.start.call(e,u),Z.fx.timer(Z.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function j(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,r=0,s=t.toLowerCase().match(fe)||[];if(Z.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function D(e,t,i,n){function r(a){var l;return s[a]=!0,Z.each(e[a]||[],function(e,a){var u=a(t,i,n);return"string"!=typeof u||o||s[u]?o?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var s={},o=e===wt;return r(t.dataTypes[0])||!s["*"]&&r("*")}function I(e,t){var i,n,r=Z.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&Z.extend(!0,e,n),e}function H(e,t,i){for(var n,r,s,o,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)s=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){s=r;break}o||(o=r)}s=s||o}return s?(s!==l[0]&&l.unshift(s),i[s]):void 0}function z(e,t,i,n){var r,s,o,a,l,u={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)u[o.toLowerCase()]=e.converters[o];for(s=c.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(o=u[l+" "+s]||u["* "+s],!o)for(r in u)if(a=r.split(" "),a[1]===s&&(o=u[l+" "+a[0]]||u["* "+a[0]])){o===!0?o=u[r]:u[r]!==!0&&(s=a[0],c.unshift(a[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(h){return{state:"parsererror",error:o?h:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function F(e,t,i,n){var r;if(Z.isArray(t))Z.each(t,function(t,r){i||Tt.test(e)?n(e,r):F(e+"["+("object"==typeof r?t:"")+"]",r,i,n)});else if(i||"object"!==Z.type(t))n(e,t);else for(r in t)F(e+"["+r+"]",t[r],i,n)}function q(e){return Z.isWindow(e)?e:9===e.nodeType&&e.defaultView}var B=[],$=B.slice,W=B.concat,U=B.push,Y=B.indexOf,V={},X=V.toString,K=V.hasOwnProperty,G={},J=e.document,Q="2.1.1",Z=function(e,t){return new Z.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ie=/-([\da-z])/gi,ne=function(e,t){return t.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return $.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:$.call(this)},pushStack:function(e){var t=Z.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Z.each(this,e,t)},map:function(e){return this.pushStack(Z.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack($.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:U,sort:B.sort,splice:B.splice},Z.extend=Z.fn.extend=function(){var e,t,i,n,r,s,o=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||Z.isFunction(o)||(o={}),a===l&&(o=this,a--);l>a;a++)if(null!=(e=arguments[a]))for(t in e)i=o[t],n=e[t],o!==n&&(u&&n&&(Z.isPlainObject(n)||(r=Z.isArray(n)))?(r?(r=!1,s=i&&Z.isArray(i)?i:[]):s=i&&Z.isPlainObject(i)?i:{},o[t]=Z.extend(u,s,n)):void 0!==n&&(o[t]=n));return o},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Z.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Z.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"===Z.type(e)&&!e.nodeType&&!Z.isWindow(e)&&!(e.constructor&&!K.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?V[X.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=Z.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ie,ne)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,s=0,o=e.length,a=i(e);if(n){if(a)for(;o>s&&(r=t.apply(e[s],n),r!==!1);s++);else for(s in e)if(r=t.apply(e[s],n),r===!1)break}else if(a)for(;o>s&&(r=t.call(e[s],s,e[s]),r!==!1);s++);else for(s in e)if(r=t.call(e[s],s,e[s]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?Z.merge(n,"string"==typeof e?[e]:e):U.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:Y.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;i>n;n++)e[r++]=t[n];return e.length=r,e},grep:function(e,t,i){for(var n,r=[],s=0,o=e.length,a=!i;o>s;s++)n=!t(e[s],s),n!==a&&r.push(e[s]);return r},map:function(e,t,n){var r,s=0,o=e.length,a=i(e),l=[];if(a)for(;o>s;s++)r=t(e[s],s,n),null!=r&&l.push(r);else for(s in e)r=t(e[s],s,n),null!=r&&l.push(r);return W.apply([],l)},guid:1,proxy:function(e,t){var i,n,r;return"string"==typeof t&&(i=e[t],t=e,e=i),Z.isFunction(e)?(n=$.call(arguments,2),r=function(){return e.apply(t||this,n.concat($.call(arguments)))},r.guid=e.guid=e.guid||Z.guid++,r):void 0},now:Date.now,support:G}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){V["[object "+t+"]"]=t.toLowerCase()});var re=function(e){function t(e,t,i,n){var r,s,o,a,l,u,h,f,p,g;if((t?t.ownerDocument||t:F)!==L&&M(t),t=t||L,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(R&&!n){if(r=ve.exec(e))if(o=r[1]){if(9===a){if(s=t.getElementById(o),!s||!s.parentNode)return i;if(s.id===o)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(o))&&H(t,s)&&s.id===o)return i.push(s),i}else{if(r[2])return Z.apply(i,t.getElementsByTagName(e)),i;if((o=r[3])&&w.getElementsByClassName&&t.getElementsByClassName)return Z.apply(i,t.getElementsByClassName(o)),i}if(w.qsa&&(!j||!j.test(e))){if(f=h=z,p=t,g=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=T(e),(h=t.getAttribute("id"))?f=h.replace(xe,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+d(u[l]);p=be.test(e)&&c(t.parentNode)||t,g=u.join(",")}if(g)try{return Z.apply(i,p.querySelectorAll(g)),i}catch(m){}finally{h||t.removeAttribute("id")}}}return C(e.replace(le,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>E.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[z]=!0,e}function r(e){var t=L.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var i=e.split("|"),n=e.length;n--;)E.attrHandle[i[n]]=t}function o(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function a(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return n(function(t){return t=+t,n(function(i,n){for(var r,s=e([],i.length,t),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function c(e){return e&&typeof e.getElementsByTagName!==V&&e}function h(){}function d(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,r=i&&"parentNode"===n,s=B++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||r)return e(t,i,s)}:function(t,i,o){var a,l,u=[q,s];if(o){for(;t=t[n];)if((1===t.nodeType||r)&&e(t,i,o))return!0}else for(;t=t[n];)if(1===t.nodeType||r){if(l=t[z]||(t[z]={}),(a=l[n])&&a[0]===q&&a[1]===s)return u[2]=a[2];if(l[n]=u,u[2]=e(t,i,o))return!0}}}function p(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1;return!0}:e[0]}function g(e,i,n){for(var r=0,s=i.length;s>r;r++)t(e,i[r],n);return n}function m(e,t,i,n,r){for(var s,o=[],a=0,l=e.length,u=null!=t;l>a;a++)(s=e[a])&&(!i||i(s,n,r))&&(o.push(s),u&&t.push(a));return o}function y(e,t,i,r,s,o){return r&&!r[z]&&(r=y(r)),s&&!s[z]&&(s=y(s,o)),n(function(n,o,a,l){var u,c,h,d=[],f=[],p=o.length,y=n||g(t||"*",a.nodeType?[a]:a,[]),v=!e||!n&&t?y:m(y,d,e,a,l),b=i?s||(n?e:p||r)?[]:o:v;if(i&&i(v,b,a,l),r)for(u=m(b,f),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[f[c]]=!(v[f[c]]=h));if(n){if(s||e){if(s){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(v[c]=h);s(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=s?te.call(n,h):d[c])>-1&&(n[u]=!(o[u]=h));
}}else b=m(b===o?b.splice(p,b.length):b),s?s(null,o,b,l):Z.apply(o,b)})}function v(e){for(var t,i,n,r=e.length,s=E.relative[e[0].type],o=s||E.relative[" "],a=s?1:0,l=f(function(e){return e===t},o,!0),u=f(function(e){return te.call(t,e)>-1},o,!0),c=[function(e,i,n){return!s&&(n||i!==N)||((t=i).nodeType?l(e,i,n):u(e,i,n))}];r>a;a++)if(i=E.relative[e[a].type])c=[f(p(c),i)];else{if(i=E.filter[e[a].type].apply(null,e[a].matches),i[z]){for(n=++a;r>n&&!E.relative[e[n].type];n++);return y(a>1&&p(c),a>1&&d(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(le,"$1"),i,n>a&&v(e.slice(a,n)),r>n&&v(e=e.slice(n)),r>n&&d(e))}c.push(i)}return p(c)}function b(e,i){var r=i.length>0,s=e.length>0,o=function(n,o,a,l,u){var c,h,d,f=0,p="0",g=n&&[],y=[],v=N,b=n||s&&E.find.TAG("*",u),x=q+=null==v?1:Math.random()||.1,w=b.length;for(u&&(N=o!==L&&o);p!==w&&null!=(c=b[p]);p++){if(s&&c){for(h=0;d=e[h++];)if(d(c,o,a)){l.push(c);break}u&&(q=x)}r&&((c=!d&&c)&&f--,n&&g.push(c))}if(f+=p,r&&p!==f){for(h=0;d=i[h++];)d(g,y,o,a);if(n){if(f>0)for(;p--;)g[p]||y[p]||(y[p]=J.call(l));y=m(y)}Z.apply(l,y),u&&!n&&y.length>0&&f+i.length>1&&t.uniqueSort(l)}return u&&(q=x,N=v),g};return r?n(o):o}var x,w,E,k,S,T,A,C,N,_,P,M,L,O,R,j,D,I,H,z="sizzle"+-new Date,F=e.document,q=0,B=0,$=i(),W=i(),U=i(),Y=function(e,t){return e===t&&(P=!0),0},V="undefined",X=1<<31,K={}.hasOwnProperty,G=[],J=G.pop,Q=G.push,Z=G.push,ee=G.slice,te=G.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",se=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+se+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(ae),fe=new RegExp("^"+se+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ie+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,xe=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ee=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Z.apply(G=ee.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(ke){Z={apply:G.length?function(e,t){Q.apply(e,ee.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}w=t.support={},S=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,i=e?e.ownerDocument||e:F,n=i.defaultView;return i!==L&&9===i.nodeType&&i.documentElement?(L=i,O=i.documentElement,R=!S(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){M()},!1):n.attachEvent&&n.attachEvent("onunload",function(){M()})),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=ye.test(i.getElementsByClassName)&&r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),w.getById=r(function(e){return O.appendChild(e).id=z,!i.getElementsByName||!i.getElementsByName(z).length}),w.getById?(E.find.ID=function(e,t){if(typeof t.getElementById!==V&&R){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},E.filter.ID=function(e){var t=e.replace(we,Ee);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var t=e.replace(we,Ee);return function(e){var i=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return i&&i.value===t}}),E.find.TAG=w.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==V?t.getElementsByTagName(e):void 0}:function(e,t){var i,n=[],r=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},E.find.CLASS=w.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==V&&R?t.getElementsByClassName(e):void 0},D=[],j=[],(w.qsa=ye.test(i.querySelectorAll))&&(r(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&j.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||j.push("\\["+ne+"*(?:value|"+ie+")"),e.querySelectorAll(":checked").length||j.push(":checked")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&j.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),j.push(",.*:")})),(w.matchesSelector=ye.test(I=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){w.disconnectedMatch=I.call(e,"div"),I.call(e,"[s!='']:x"),D.push("!=",ae)}),j=j.length&&new RegExp(j.join("|")),D=D.length&&new RegExp(D.join("|")),t=ye.test(O.compareDocumentPosition),H=t||ye.test(O.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return P=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===F&&H(F,e)?-1:t===i||t.ownerDocument===F&&H(F,t)?1:_?te.call(_,e)-te.call(_,t):0:4&n?-1:1)}:function(e,t){if(e===t)return P=!0,0;var n,r=0,s=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!s||!a)return e===i?-1:t===i?1:s?-1:a?1:_?te.call(_,e)-te.call(_,t):0;if(s===a)return o(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?o(l[r],u[r]):l[r]===F?-1:u[r]===F?1:0},i):L},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==L&&M(e),i=i.replace(he,"='$1']"),!(!w.matchesSelector||!R||D&&D.test(i)||j&&j.test(i)))try{var n=I.call(e,i);if(n||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return t(i,L,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==L&&M(e),H(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==L&&M(e);var i=E.attrHandle[t.toLowerCase()],n=i&&K.call(E.attrHandle,t.toLowerCase())?i(e,t,!R):void 0;return void 0!==n?n:w.attributes||!R?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,r=0;if(P=!w.detectDuplicates,_=!w.sortStable&&e.slice(0),e.sort(Y),P){for(;t=e[r++];)t===e[r]&&(n=i.push(r));for(;n--;)e.splice(i[n],1)}return _=null,e},k=t.getText=function(e){var t,i="",n=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n++];)i+=k(t);return i},E=t.selectors={cacheLength:50,createPseudo:n,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=T(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=$[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&$(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(r){var s=t.attr(r,e);return null==s?"!="===i:!i||(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s+" ").indexOf(n)>-1:"|="===i&&(s===n||s.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,r){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var u,c,h,d,f,p,g=s!==o?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),v=!l&&!a;if(m){if(s){for(;g;){for(h=t;h=h[g];)if(a?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?m.firstChild:m.lastChild],o&&v){for(c=m[z]||(m[z]={}),u=c[e]||[],f=u[0]===q&&u[1],d=u[0]===q&&u[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===t){c[e]=[q,f,d];break}}else if(v&&(u=(t[z]||(t[z]={}))[e])&&u[0]===q)d=u[1];else for(;(h=++f&&h&&h[g]||(d=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++d||(v&&((h[z]||(h[z]={}))[e]=[q,d]),h!==t)););return d-=r,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(e,i){var r,s=E.pseudos[e]||E.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return s[z]?s(i):s.length>1?(r=[e,e,"",i],E.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=s(e,i),o=r.length;o--;)n=te.call(e,r[o]),e[n]=!(t[n]=r[o])}):function(e){return s(e,0,r)}):s}},pseudos:{not:n(function(e){var t=[],i=[],r=A(e.replace(le,"$1"));return r[z]?n(function(e,t,i,n){for(var s,o=r(e,null,n,[]),a=e.length;a--;)(s=o[a])&&(e[a]=!(t[a]=s))}):function(e,n,s){return t[0]=e,r(t,null,s,i),!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:n(function(e){return fe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Ee).toLowerCase(),function(t){var i;do if(i=R?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===L.activeElement&&(!L.hasFocus||L.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return ge.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,i){return[0>i?i+t:i]}),even:u(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:u(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:u(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:u(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},E.pseudos.nth=E.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})E.pseudos[x]=l(x);return h.prototype=E.filters=E.pseudos,E.setFilters=new h,T=t.tokenize=function(e,i){var n,r,s,o,a,l,u,c=W[e+" "];if(c)return i?0:c.slice(0);for(a=e,l=[],u=E.preFilter;a;){(!n||(r=ue.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(s=[])),n=!1,(r=ce.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(le," ")}),a=a.slice(n.length));for(o in E.filter)!(r=pe[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?t.error(e):W(e,l).slice(0)},A=t.compile=function(e,t){var i,n=[],r=[],s=U[e+" "];if(!s){for(t||(t=T(e)),i=t.length;i--;)s=v(t[i]),s[z]?n.push(s):r.push(s);s=U(e,b(r,n)),s.selector=e}return s},C=t.select=function(e,t,i,n){var r,s,o,a,l,u="function"==typeof e&&e,h=!n&&T(e=u.selector||e);if(i=i||[],1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&w.getById&&9===t.nodeType&&R&&E.relative[s[1].type]){if(t=(E.find.ID(o.matches[0].replace(we,Ee),t)||[])[0],!t)return i;u&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(r=pe.needsContext.test(e)?0:s.length;r--&&(o=s[r],!E.relative[a=o.type]);)if((l=E.find[a])&&(n=l(o.matches[0].replace(we,Ee),be.test(s[0].type)&&c(t.parentNode)||t))){if(s.splice(r,1),e=n.length&&d(s),!e)return Z.apply(i,n),i;break}}return(u||A(e,h))(n,t,!R,i,be.test(e)&&c(t.parentNode)||t),i},w.sortStable=z.split("").sort(Y).join("")===z,w.detectDuplicates=!!P,M(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(L.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||s(ie,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);Z.find=re,Z.expr=re.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=re.uniqueSort,Z.text=re.getText,Z.isXMLDoc=re.isXML,Z.contains=re.contains;var se=Z.expr.match.needsContext,oe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ae=/^.[^:#\[\.,]*$/;Z.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?Z.find.matchesSelector(n,e)?[n]:[]:Z.find.matches(e,Z.grep(t,function(e){return 1===e.nodeType}))},Z.fn.extend({find:function(e){var t,i=this.length,n=[],r=this;if("string"!=typeof e)return this.pushStack(Z(e).filter(function(){for(t=0;i>t;t++)if(Z.contains(r[t],this))return!0}));for(t=0;i>t;t++)Z.find(e,r[t],n);return n=this.pushStack(i>1?Z.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&se.test(e)?Z(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Z.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof Z?t[0]:t,Z.merge(this,Z.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),oe.test(i[1])&&Z.isPlainObject(t))for(i in t)Z.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return n=J.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Z.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Z):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Z.makeArray(e,this))};ce.prototype=Z.fn,le=Z(J);var he=/^(?:parents|prev(?:Until|All))/,de={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Z(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),Z.fn.extend({has:function(e){var t=Z(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(Z.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,r=this.length,s=[],o=se.test(e)||"string"!=typeof e?Z(e,t||this.context):0;r>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&Z.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(s.length>1?Z.unique(s):s)},index:function(e){return e?"string"==typeof e?Y.call(Z(e),this[0]):Y.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Z.unique(Z.merge(this.get(),Z(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Z.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Z.dir(e,"parentNode")},parentsUntil:function(e,t,i){return Z.dir(e,"parentNode",i)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Z.dir(e,"nextSibling")},prevAll:function(e){return Z.dir(e,"previousSibling")},nextUntil:function(e,t,i){return Z.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return Z.dir(e,"previousSibling",i)},siblings:function(e){return Z.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Z.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Z.merge([],e.childNodes)}},function(e,t){Z.fn[e]=function(i,n){var r=Z.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=Z.filter(n,r)),this.length>1&&(de[e]||Z.unique(r),he.test(e)&&r.reverse()),this.pushStack(r)}});var fe=/\S+/g,pe={};Z.Callbacks=function(e){e="string"==typeof e?pe[e]||s(e):Z.extend({},e);var t,i,n,r,o,a,l=[],u=!e.once&&[],c=function(s){for(t=e.memory&&s,i=!0,a=r||0,r=0,o=l.length,n=!0;l&&o>a;a++)if(l[a].apply(s[0],s[1])===!1&&e.stopOnFalse){t=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function s(t){Z.each(t,function(t,i){var n=Z.type(i);"function"===n?e.unique&&h.has(i)||l.push(i):i&&i.length&&"string"!==n&&s(i)})}(arguments),n?o=l.length:t&&(r=i,c(t))}return this},remove:function(){return l&&Z.each(arguments,function(e,t){for(var i;(i=Z.inArray(t,l,i))>-1;)l.splice(i,1),n&&(o>=i&&o--,a>=i&&a--)}),this},has:function(e){return e?Z.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],o=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||i&&!u||(t=t||[],t=[e,t.slice?t.slice():t],n?u.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},Z.extend({Deferred:function(e){var t=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Z.Deferred(function(i){Z.each(t,function(t,s){var o=Z.isFunction(e[t])&&e[t];r[s[1]](function(){var e=o&&o.apply(this,arguments);e&&Z.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===n?i.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Z.extend(e,n):n}},r={};return n.pipe=n.then,Z.each(t,function(e,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?n:this,arguments),this},r[s[0]+"With"]=o.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,s=$.call(arguments),o=s.length,a=1!==o||e&&Z.isFunction(e.promise)?o:0,l=1===a?e:Z.Deferred(),u=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?$.call(arguments):r,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(o>1)for(t=new Array(o),i=new Array(o),n=new Array(o);o>r;r++)s[r]&&Z.isFunction(s[r].promise)?s[r].promise().done(u(r,n,s)).fail(l.reject).progress(u(r,i,t)):--a;return a||l.resolveWith(n,s),l.promise()}});var ge;Z.fn.ready=function(e){return Z.ready.promise().done(e),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Z.readyWait++:Z.ready(!0)},ready:function(e){(e===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,e!==!0&&--Z.readyWait>0||(ge.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(t){return ge||(ge=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",o,!1),e.addEventListener("load",o,!1))),ge.promise(t)},Z.ready.promise();var me=Z.access=function(e,t,i,n,r,s,o){var a=0,l=e.length,u=null==i;if("object"===Z.type(i)){r=!0;for(a in i)Z.access(e,t,a,i[a],!0,s,o)}else if(void 0!==n&&(r=!0,Z.isFunction(n)||(o=!0),u&&(o?(t.call(e,n),t=null):(u=t,t=function(e,t,i){return u.call(Z(e),i)})),t))for(;l>a;a++)t(e[a],i,o?n:n.call(e[a],a,t(e[a],i)));return r?e:u?t.call(e):l?t(e[0],i):s};Z.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(e){if(!a.accepts(e))return 0;var t={},i=e[this.expando];if(!i){i=a.uid++;try{t[this.expando]={value:i},Object.defineProperties(e,t)}catch(n){t[this.expando]=i,Z.extend(e,t)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,i){var n,r=this.key(e),s=this.cache[r];if("string"==typeof t)s[t]=i;else if(Z.isEmptyObject(s))Z.extend(this.cache[r],t);else for(n in t)s[n]=t[n];return s},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?(n=this.get(e,t),void 0!==n?n:this.get(e,Z.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,r,s=this.key(e),o=this.cache[s];if(void 0===t)this.cache[s]={};else{Z.isArray(t)?n=t.concat(t.map(Z.camelCase)):(r=Z.camelCase(t),t in o?n=[t,r]:(n=r,n=n in o?[n]:n.match(fe)||[])),i=n.length;for(;i--;)delete o[n[i]]}},hasData:function(e){return!Z.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ye=new a,ve=new a,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;Z.extend({hasData:function(e){return ve.hasData(e)||ye.hasData(e)},data:function(e,t,i){return ve.access(e,t,i)},removeData:function(e,t){ve.remove(e,t)},_data:function(e,t,i){return ye.access(e,t,i)},_removeData:function(e,t){ye.remove(e,t)}}),Z.fn.extend({data:function(e,t){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===e){if(this.length&&(r=ve.get(s),1===s.nodeType&&!ye.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=Z.camelCase(n.slice(5)),l(s,n,r[n])));ye.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){ve.set(this,e)}):me(this,function(t){var i,n=Z.camelCase(e);if(s&&void 0===t){if(i=ve.get(s,e),void 0!==i)return i;if(i=ve.get(s,n),void 0!==i)return i;if(i=l(s,n,void 0),void 0!==i)return i}else this.each(function(){var i=ve.get(this,n);ve.set(this,n,t),-1!==e.indexOf("-")&&void 0!==i&&ve.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){ve.remove(this,e)})}}),Z.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=ye.get(e,t),i&&(!n||Z.isArray(i)?n=ye.access(e,t,Z.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=Z.queue(e,t),n=i.length,r=i.shift(),s=Z._queueHooks(e,t),o=function(){Z.dequeue(e,t)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete s.stop,r.call(e,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ye.get(e,i)||ye.access(e,i,{empty:Z.Callbacks("once memory").add(function(){ye.remove(e,[t+"queue",i])})})}}),Z.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?Z.queue(this[0],e):void 0===t?this:this.each(function(){var i=Z.queue(this,e,t);Z._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&Z.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Z.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=Z.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)i=ye.get(s[o],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(t)}});var we=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ee=["Top","Right","Bottom","Left"],ke=function(e,t){return e=t||e,"none"===Z.css(e,"display")||!Z.contains(e.ownerDocument,e)},Se=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),i=J.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),G.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Te="undefined";G.focusinBubbles="onfocusin"in e;var Ae=/^key/,Ce=/^(?:mouse|pointer|contextmenu)|click/,Ne=/^(?:focusinfocus|focusoutblur)$/,_e=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(e,t,i,n,r){var s,o,a,l,u,c,h,d,f,p,g,m=ye.get(e);if(m)for(i.handler&&(s=i,i=s.handler,r=s.selector),i.guid||(i.guid=Z.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof Z!==Te&&Z.event.triggered!==t.type?Z.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(fe)||[""],u=t.length;u--;)a=_e.exec(t[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f&&(h=Z.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,h=Z.event.special[f]||{},c=Z.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:p.join(".")},s),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&h.setup.call(e,n,p,o)!==!1||e.addEventListener&&e.addEventListener(f,o,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),Z.event.global[f]=!0)},remove:function(e,t,i,n,r){var s,o,a,l,u,c,h,d,f,p,g,m=ye.hasData(e)&&ye.get(e);if(m&&(l=m.events)){for(t=(t||"").match(fe)||[""],u=t.length;u--;)if(a=_e.exec(t[u])||[],f=g=a[1],p=(a[2]||"").split(".").sort(),f){for(h=Z.event.special[f]||{},f=(n?h.delegateType:h.bindType)||f,d=l[f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=d.length;s--;)c=d[s],!r&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(e,c));o&&!d.length&&(h.teardown&&h.teardown.call(e,p,m.handle)!==!1||Z.removeEvent(e,f,m.handle),delete l[f])}else for(f in l)Z.event.remove(e,f+t[u],i,n,!0);Z.isEmptyObject(l)&&(delete m.handle,ye.remove(e,"events"))}},trigger:function(t,i,n,r){var s,o,a,l,u,c,h,d=[n||J],f=K.call(t,"type")?t.type:t,p=K.call(t,"namespace")?t.namespace.split("."):[];if(o=a=n=n||J,3!==n.nodeType&&8!==n.nodeType&&!Ne.test(f+Z.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,t=t[Z.expando]?t:new Z.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:Z.makeArray(i,[t]),h=Z.event.special[f]||{},r||!h.trigger||h.trigger.apply(n,i)!==!1)){if(!r&&!h.noBubble&&!Z.isWindow(n)){for(l=h.delegateType||f,Ne.test(l+f)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(n.ownerDocument||J)&&d.push(a.defaultView||a.parentWindow||e)}for(s=0;(o=d[s++])&&!t.isPropagationStopped();)t.type=s>1?l:h.bindType||f,c=(ye.get(o,"events")||{})[t.type]&&ye.get(o,"handle"),c&&c.apply(o,i),c=u&&o[u],c&&c.apply&&Z.acceptData(o)&&(t.result=c.apply(o,i),t.result===!1&&t.preventDefault());return t.type=f,r||t.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),i)!==!1||!Z.acceptData(n)||u&&Z.isFunction(n[f])&&!Z.isWindow(n)&&(a=n[u],a&&(n[u]=null),Z.event.triggered=f,n[f](),Z.event.triggered=void 0,a&&(n[u]=a)),t.result}},dispatch:function(e){e=Z.event.fix(e);var t,i,n,r,s,o=[],a=$.call(arguments),l=(ye.get(this,"events")||{})[e.type]||[],u=Z.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(o=Z.event.handlers.call(this,e,l),t=0;(r=o[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,n=((Z.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,r,s,o=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(n=[],i=0;a>i;i++)s=t[i],r=s.selector+" ",void 0===n[r]&&(n[r]=s.needsContext?Z(r,this).index(l)>=0:Z.find(r,this,null,[l]).length),n[r]&&n.push(s);n.length&&o.push({elem:l,handlers:n})}return a<t.length&&o.push({elem:this,handlers:t.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,r,s=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||J,n=i.documentElement,r=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[Z.expando])return e;var t,i,n,r=e.type,s=e,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Ce.test(r)?this.mouseHooks:Ae.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,e=new Z.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"
},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Z.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var r=Z.extend(new Z.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(r,null,t):Z.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},Z.Event=function(e,t){return this instanceof Z.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:c):this.type=e,t&&Z.extend(this,t),this.timeStamp=e&&e.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(e,t)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Z.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,r=e.relatedTarget,s=e.handleObj;return(!r||r!==n&&!Z.contains(n,r))&&(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),G.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){Z.event.simulate(t,e.target,Z.event.fix(e),!0)};Z.event.special[t]={setup:function(){var n=this.ownerDocument||this,r=ye.access(n,t);r||n.addEventListener(e,i,!0),ye.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=ye.access(n,t)-1;r?ye.access(n,t,r):(n.removeEventListener(e,i,!0),ye.remove(n,t))}}}),Z.fn.extend({on:function(e,t,i,n,r){var s,o;if("object"==typeof e){"string"!=typeof t&&(i=i||t,t=void 0);for(o in e)this.on(o,t,i,e[o],r);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),n===!1)n=c;else if(!n)return this;return 1===r&&(s=n,n=function(e){return Z().off(e),s.apply(this,arguments)},n.guid=s.guid||(s.guid=Z.guid++)),this.each(function(){Z.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,r;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,Z(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(i=t,t=void 0),i===!1&&(i=c),this.each(function(){Z.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){Z.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?Z.event.trigger(e,t,i,!0):void 0}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Me=/<([\w:]+)/,Le=/<|&#?\w+;/,Oe=/<(?:script|style|link)/i,Re=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,De=/^true\/(.*)/,Ie=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,He={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td,Z.extend({clone:function(e,t,i){var n,r,s,o,a=e.cloneNode(!0),l=Z.contains(e.ownerDocument,e);if(!(G.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Z.isXMLDoc(e)))for(o=y(a),s=y(e),n=0,r=s.length;r>n;n++)v(s[n],o[n]);if(t)if(i)for(s=s||y(e),o=o||y(a),n=0,r=s.length;r>n;n++)m(s[n],o[n]);else m(e,a);return o=y(a,"script"),o.length>0&&g(o,!l&&y(e,"script")),a},buildFragment:function(e,t,i,n){for(var r,s,o,a,l,u,c=t.createDocumentFragment(),h=[],d=0,f=e.length;f>d;d++)if(r=e[d],r||0===r)if("object"===Z.type(r))Z.merge(h,r.nodeType?[r]:r);else if(Le.test(r)){for(s=s||c.appendChild(t.createElement("div")),o=(Me.exec(r)||["",""])[1].toLowerCase(),a=He[o]||He._default,s.innerHTML=a[1]+r.replace(Pe,"<$1></$2>")+a[2],u=a[0];u--;)s=s.lastChild;Z.merge(h,s.childNodes),s=c.firstChild,s.textContent=""}else h.push(t.createTextNode(r));for(c.textContent="",d=0;r=h[d++];)if((!n||-1===Z.inArray(r,n))&&(l=Z.contains(r.ownerDocument,r),s=y(c.appendChild(r),"script"),l&&g(s),i))for(u=0;r=s[u++];)je.test(r.type||"")&&i.push(r);return c},cleanData:function(e){for(var t,i,n,r,s=Z.event.special,o=0;void 0!==(i=e[o]);o++){if(Z.acceptData(i)&&(r=i[ye.expando],r&&(t=ye.cache[r]))){if(t.events)for(n in t.events)s[n]?Z.event.remove(i,n):Z.removeEvent(i,n,t.handle);ye.cache[r]&&delete ye.cache[r]}delete ve.cache[i[ve.expando]]}}}),Z.fn.extend({text:function(e){return me(this,function(e){return void 0===e?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=d(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?Z.filter(e,this):this,r=0;null!=(i=n[r]);r++)t||1!==i.nodeType||Z.cleanData(y(i)),i.parentNode&&(t&&Z.contains(i.ownerDocument,i)&&g(y(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Z.cleanData(y(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Z.clone(this,e,t)})},html:function(e){return me(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!He[(Me.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Pe,"<$1></$2>");try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(Z.cleanData(y(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Z.cleanData(y(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=W.apply([],e);var i,n,r,s,o,a,l=0,u=this.length,c=this,h=u-1,d=e[0],g=Z.isFunction(d);if(g||u>1&&"string"==typeof d&&!G.checkClone&&Re.test(d))return this.each(function(i){var n=c.eq(i);g&&(e[0]=d.call(this,i,n.html())),n.domManip(e,t)});if(u&&(i=Z.buildFragment(e,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(r=Z.map(y(i,"script"),f),s=r.length;u>l;l++)o=i,l!==h&&(o=Z.clone(o,!0,!0),s&&Z.merge(r,y(o,"script"))),t.call(this[l],o,l);if(s)for(a=r[r.length-1].ownerDocument,Z.map(r,p),l=0;s>l;l++)o=r[l],je.test(o.type||"")&&!ye.access(o,"globalEval")&&Z.contains(a,o)&&(o.src?Z._evalUrl&&Z._evalUrl(o.src):Z.globalEval(o.textContent.replace(Ie,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Z.fn[e]=function(e){for(var i,n=[],r=Z(e),s=r.length-1,o=0;s>=o;o++)i=o===s?this:this.clone(!0),Z(r[o])[t](i),U.apply(n,i.get());return this.pushStack(n)}});var ze,Fe={},qe=/^margin/,Be=new RegExp("^("+we+")(?!px)[a-z%]+$","i"),$e=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(s);var t=e.getComputedStyle(o,null);i="1%"!==t.top,n="4px"===t.width,r.removeChild(s)}var i,n,r=J.documentElement,s=J.createElement("div"),o=J.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===o.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(o),e.getComputedStyle&&Z.extend(G,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==n&&t(),n},reliableMarginRight:function(){var t,i=o.appendChild(J.createElement("div"));return i.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",o.style.width="1px",r.appendChild(s),t=!parseFloat(e.getComputedStyle(i,null).marginRight),r.removeChild(s),t}}))}(),Z.swap=function(e,t,i,n){var r,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];r=i.apply(e,n||[]);for(s in t)e.style[s]=o[s];return r};var We=/^(none|table(?!-c[ea]).+)/,Ue=new RegExp("^("+we+")(.*)$","i"),Ye=new RegExp("^([+-])=("+we+")","i"),Ve={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=w(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,s,o,a=Z.camelCase(t),l=e.style;return t=Z.cssProps[a]||(Z.cssProps[a]=k(l,a)),o=Z.cssHooks[t]||Z.cssHooks[a],void 0===i?o&&"get"in o&&void 0!==(r=o.get(e,!1,n))?r:l[t]:(s=typeof i,"string"===s&&(r=Ye.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(Z.css(e,t)),s="number"),void(null!=i&&i===i&&("number"!==s||Z.cssNumber[a]||(i+="px"),G.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(i=o.set(e,i,n))||(l[t]=i))))}},css:function(e,t,i,n){var r,s,o,a=Z.camelCase(t);return t=Z.cssProps[a]||(Z.cssProps[a]=k(e.style,a)),o=Z.cssHooks[t]||Z.cssHooks[a],o&&"get"in o&&(r=o.get(e,!0,i)),void 0===r&&(r=w(e,t,n)),"normal"===r&&t in Xe&&(r=Xe[t]),""===i||i?(s=parseFloat(r),i===!0||Z.isNumeric(s)?s||0:r):r}}),Z.each(["height","width"],function(e,t){Z.cssHooks[t]={get:function(e,i,n){return i?We.test(Z.css(e,"display"))&&0===e.offsetWidth?Z.swap(e,Ve,function(){return A(e,t,n)}):A(e,t,n):void 0},set:function(e,i,n){var r=n&&$e(e);return S(e,i,n?T(e,t,n,"border-box"===Z.css(e,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=E(G.reliableMarginRight,function(e,t){return t?Z.swap(e,{display:"inline-block"},w,[e,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(e,t){Z.cssHooks[e+t]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];4>n;n++)r[e+Ee[n]+t]=s[n]||s[n-2]||s[0];return r}},qe.test(e)||(Z.cssHooks[e+t].set=S)}),Z.fn.extend({css:function(e,t){return me(this,function(e,t,i){var n,r,s={},o=0;if(Z.isArray(t)){for(n=$e(e),r=t.length;r>o;o++)s[t[o]]=Z.css(e,t[o],!1,n);return s}return void 0!==i?Z.style(e,t,i):Z.css(e,t)},e,t,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ke(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=N,N.prototype={constructor:N,init:function(e,t,i,n,r,s){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(Z.cssNumber[i]?"":"px")},cur:function(){var e=N.propHooks[this.prop];return e&&e.get?e.get(this):N.propHooks._default.get(this)},run:function(e){var t,i=N.propHooks[this.prop];return this.pos=t=this.options.duration?Z.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Z.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Z.fx.step[e.prop]?Z.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Z.cssProps[e.prop]]||Z.cssHooks[e.prop])?Z.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Z.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Z.fx=N.prototype.init,Z.fx.step={};var Ge,Je,Qe=/^(?:toggle|show|hide)$/,Ze=new RegExp("^(?:([+-])=|)("+we+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[L],it={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),r=Ze.exec(t),s=r&&r[3]||(Z.cssNumber[e]?"":"px"),o=(Z.cssNumber[e]||"px"!==s&&+n)&&Ze.exec(Z.css(i.elem,e)),a=1,l=20;if(o&&o[3]!==s){s=s||o[3],r=r||[],o=+n||1;do a=a||".5",o/=a,Z.style(i.elem,e,o+s);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return r&&(o=i.start=+o||+n||0,i.unit=s,i.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),i}]};Z.Animation=Z.extend(R,{tweener:function(e,t){Z.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,r=e.length;r>n;n++)i=e[n],it[i]=it[i]||[],it[i].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Z.speed=function(e,t,i){var n=e&&"object"==typeof e?Z.extend({},e):{complete:i||!i&&t||Z.isFunction(e)&&e,duration:e,easing:i&&t||t&&!Z.isFunction(t)&&t};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.fn.extend({fadeTo:function(e,t,i,n){return this.filter(ke).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=Z.isEmptyObject(e),s=Z.speed(t,i,n),o=function(){var t=R(this,Z.extend({},e),s);(r||ye.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",s=Z.timers,o=ye.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&et.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=e&&s[r].queue!==e||(s[r].anim.stop(i),t=!1,s.splice(r,1));(t||!i)&&Z.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ye.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],s=Z.timers,o=n?n.length:0;for(i.finish=!0,Z.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;o>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),Z.each(["toggle","show","hide"],function(e,t){var i=Z.fn[t];Z.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(P(t,!0),e,n,r)}}),Z.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Z.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),Z.timers=[],Z.fx.tick=function(){var e,t=0,i=Z.timers;for(Ge=Z.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);i.length||Z.fx.stop(),Ge=void 0},Z.fx.timer=function(e){Z.timers.push(e),e()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Je||(Je=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Je),Je=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(e,t){return e=Z.fx?Z.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),i=t.appendChild(J.createElement("option"));e.type="checkbox",G.checkOn=""!==e.value,G.optSelected=i.selected,t.disabled=!0,G.optDisabled=!i.disabled,e=J.createElement("input"),e.value="t",e.type="radio",G.radioValue="t"===e.value}();var nt,rt,st=Z.expr.attrHandle;Z.fn.extend({attr:function(e,t){return me(this,Z.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Z.removeAttr(this,e)})}}),Z.extend({attr:function(e,t,i){var n,r,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===Te?Z.prop(e,t,i):(1===s&&Z.isXMLDoc(e)||(t=t.toLowerCase(),n=Z.attrHooks[t]||(Z.expr.match.bool.test(t)?rt:nt)),void 0===i?n&&"get"in n&&null!==(r=n.get(e,t))?r:(r=Z.find.attr(e,t),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(e,i,t))?r:(e.setAttribute(t,i+""),i):void Z.removeAttr(e,t))},removeAttr:function(e,t){var i,n,r=0,s=t&&t.match(fe);if(s&&1===e.nodeType)for(;i=s[r++];)n=Z.propFix[i]||i,Z.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!G.radioValue&&"radio"===t&&Z.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),rt={set:function(e,t,i){return t===!1?Z.removeAttr(e,i):e.setAttribute(i,i),i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(e,t){var i=st[t]||Z.find.attr;st[t]=function(e,t,n){var r,s;return n||(s=st[t],st[t]=r,r=null!=i(e,t,n)?t.toLowerCase():null,st[t]=s),r}});var ot=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(e,t){return me(this,Z.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Z.propFix[e]||e]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,r,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return s=1!==o||!Z.isXMLDoc(e),s&&(t=Z.propFix[t]||t,r=Z.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||ot.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),G.optSelected||(Z.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var at=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(e){var t,i,n,r,s,o,a="string"==typeof e&&e,l=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(fe)||[];u>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(at," "):" ")){for(s=0;r=t[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o=Z.trim(n),i.className!==o&&(i.className=o)}return this},removeClass:function(e){var t,i,n,r,s,o,a=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(Z.isFunction(e))return this.each(function(t){Z(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(fe)||[];u>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(at," "):"")){for(s=0;r=t[s++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");o=e?Z.trim(n):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):this.each(Z.isFunction(e)?function(i){Z(this).toggleClass(e.call(this,i,this.className,t),t)}:function(){if("string"===i)for(var t,n=0,r=Z(this),s=e.match(fe)||[];t=s[n++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(i===Te||"boolean"===i)&&(this.className&&ye.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ye.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(at," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Z.fn.extend({val:function(e){var t,i,n,r=this[0];return arguments.length?(n=Z.isFunction(e),this.each(function(i){var r;1===this.nodeType&&(r=n?e.call(this,i,Z(this).val()):e,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(e){return null==e?"":e+""})),t=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(lt,""):null==i?"":i)):void 0}}),Z.extend({valHooks:{option:{get:function(e){var t=Z.find.attr(e,"value");return null!=t?t:Z.trim(Z.text(e))}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,s="select-one"===e.type||0>r,o=s?null:[],a=s?r+1:n.length,l=0>r?a:s?r:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==r||(G.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(t=Z(i).val(),s)return t;o.push(t)}return o},set:function(e,t){for(var i,n,r=e.options,s=Z.makeArray(t),o=r.length;o--;)n=r[o],(n.selected=Z.inArray(n.value,s)>=0)&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(e,t){return Z.isArray(t)?e.checked=Z.inArray(Z(e).val(),t)>=0:void 0}},G.checkOn||(Z.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Z.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),Z.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var ut=Z.now(),ct=/\?/;Z.parseJSON=function(e){return JSON.parse(e+"")},Z.parseXML=function(e){var t,i;if(!e||"string"!=typeof e)return null;try{i=new DOMParser,t=i.parseFromString(e,"text/xml")}catch(n){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+e),t};var ht,dt,ft=/#.*$/,pt=/([?&])_=[^&]*/,gt=/^(.*?):[ \t]*([^\r\n]*)$/gm,mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,yt=/^(?:GET|HEAD)$/,vt=/^\/\//,bt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,xt={},wt={},Et="*/".concat("*");try{dt=location.href}catch(kt){dt=J.createElement("a"),dt.href="",dt=dt.href}ht=bt.exec(dt.toLowerCase())||[],Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:dt,type:"GET",isLocal:mt.test(ht[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Et,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?I(I(e,Z.ajaxSettings),t):I(Z.ajaxSettings,e)},ajaxPrefilter:j(xt),ajaxTransport:j(wt),ajax:function(e,t){function i(e,t,i,o){var l,c,y,v,x,E=t;2!==b&&(b=2,a&&clearTimeout(a),n=void 0,s=o||"",w.readyState=e>0?4:0,l=e>=200&&300>e||304===e,i&&(v=H(h,w,i)),v=z(h,v,w,l),l?(h.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Z.lastModified[r]=x),x=w.getResponseHeader("etag"),x&&(Z.etag[r]=x)),204===e||"HEAD"===h.type?E="nocontent":304===e?E="notmodified":(E=v.state,c=v.data,y=v.error,l=!y)):(y=E,(e||!E)&&(E="error",0>e&&(e=0))),w.status=e,w.statusText=(t||E)+"",l?p.resolveWith(d,[c,E,w]):p.rejectWith(d,[w,E,y]),w.statusCode(m),m=void 0,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[w,h,l?c:y]),g.fireWith(d,[w,E]),u&&(f.trigger("ajaxComplete",[w,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,s,o,a,l,u,c,h=Z.ajaxSetup({},t),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?Z(d):Z.event,p=Z.Deferred(),g=Z.Callbacks("once memory"),m=h.statusCode||{},y={},v={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=gt.exec(s);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=v[i]=v[i]||e,y[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||x;return n&&n.abort(t),i(0,t),this}};if(p.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,h.url=((e||h.url||dt)+"").replace(ft,"").replace(vt,ht[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().match(fe)||[""],null==h.crossDomain&&(l=bt.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===ht[1]&&l[2]===ht[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ht[3]||("http:"===ht[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),D(xt,h,t,w),2===b)return w;u=h.global,u&&0===Z.active++&&Z.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!yt.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(ct.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=pt.test(r)?r.replace(pt,"$1_="+ut++):r+(ct.test(r)?"&":"?")+"_="+ut++)),h.ifModified&&(Z.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&w.setRequestHeader("If-None-Match",Z.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Et+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)w.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(d,w,h)===!1||2===b))return w.abort();x="abort";for(c in{success:1,error:1,complete:1})w[c](h[c]);if(n=D(wt,h,t,w)){w.readyState=1,u&&f.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{b=1,n.send(y,i)}catch(E){if(!(2>b))throw E;i(-1,E)}}else i(-1,"No Transport");return w},getJSON:function(e,t,i){return Z.get(e,t,i,"json")},getScript:function(e,t){return Z.get(e,void 0,t,"script")}}),Z.each(["get","post"],function(e,t){Z[t]=function(e,i,n,r){return Z.isFunction(i)&&(r=r||n,n=i,i=void 0),Z.ajax({url:e,type:t,dataType:r,data:i,success:n})}}),Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Z.fn[t]=function(e){return this.on(t,e)}}),Z._evalUrl=function(e){return Z.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(e){var t;return Z.isFunction(e)?this.each(function(t){Z(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Z(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Z.isFunction(e)?function(t){Z(this).wrapInner(e.call(this,t))}:function(){var t=Z(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=Z.isFunction(e);return this.each(function(i){Z(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Z.expr.filters.visible=function(e){return!Z.expr.filters.hidden(e)};var St=/%20/g,Tt=/\[\]$/,At=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;Z.param=function(e,t){var i,n=[],r=function(e,t){t=Z.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(e)||e.jquery&&!Z.isPlainObject(e))Z.each(e,function(){r(this.name,this.value)});else for(i in e)F(i,e[i],t,r);return n.join("&").replace(St,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Z.prop(this,"elements");return e?Z.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Z(this).is(":disabled")&&Nt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!Se.test(e))}).map(function(e,t){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:i.replace(At,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var _t=0,Pt={},Mt={0:200,1223:204},Lt=Z.ajaxSettings.xhr();e.ActiveXObject&&Z(e).on("unload",function(){for(var e in Pt)Pt[e]()}),G.cors=!!Lt&&"withCredentials"in Lt,G.ajax=Lt=!!Lt,Z.ajaxTransport(function(e){var t;return G.cors||Lt&&!e.crossDomain?{send:function(i,n){var r,s=e.xhr(),o=++_t;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)s.setRequestHeader(r,i[r]);t=function(e){return function(){t&&(delete Pt[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?n(s.status,s.statusText):n(Mt[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=Pt[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(a){if(t)throw a}},abort:function(){t&&t()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Z.globalEval(e),e}}}),Z.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Z.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,r){t=Z("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Ot=[],Rt=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ot.pop()||Z.expando+"_"+ut++;return this[e]=!0,e}}),Z.ajaxPrefilter("json jsonp",function(t,i,n){var r,s,o,a=t.jsonp!==!1&&(Rt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Rt.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=Z.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Rt,"$1"+r):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||Z.error(r+" was not called"),
o[0]},t.dataTypes[0]="json",s=e[r],e[r]=function(){o=arguments},n.always(function(){e[r]=s,t[r]&&(t.jsonpCallback=i.jsonpCallback,Ot.push(r)),o&&Z.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),Z.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||J;var n=oe.exec(e),r=!i&&[];return n?[t.createElement(n[1])]:(n=Z.buildFragment([e],t,r),r&&r.length&&Z(r).remove(),Z.merge([],n.childNodes))};var jt=Z.fn.load;Z.fn.load=function(e,t,i){if("string"!=typeof e&&jt)return jt.apply(this,arguments);var n,r,s,o=this,a=e.indexOf(" ");return a>=0&&(n=Z.trim(e.slice(a)),e=e.slice(0,a)),Z.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&Z.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){s=arguments,o.html(n?Z("<div>").append(Z.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){o.each(i,s||[e.responseText,t,e])}),this},Z.expr.filters.animated=function(e){return Z.grep(Z.timers,function(t){return e===t.elem}).length};var Dt=e.document.documentElement;Z.offset={setOffset:function(e,t,i){var n,r,s,o,a,l,u,c=Z.css(e,"position"),h=Z(e),d={};"static"===c&&(e.style.position="relative"),a=h.offset(),s=Z.css(e,"top"),l=Z.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1,u?(n=h.position(),o=n.top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(l)||0),Z.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):h.css(d)}},Z.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Z.offset.setOffset(this,e,t)});var t,i,n=this[0],r={top:0,left:0},s=n&&n.ownerDocument;return s?(t=s.documentElement,Z.contains(t,n)?(typeof n.getBoundingClientRect!==Te&&(r=n.getBoundingClientRect()),i=q(s),{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===Z.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Z.nodeName(e[0],"html")||(n=e.offset()),n.top+=Z.css(e[0],"borderTopWidth",!0),n.left+=Z.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-Z.css(i,"marginTop",!0),left:t.left-n.left-Z.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Dt;e&&!Z.nodeName(e,"html")&&"static"===Z.css(e,"position");)e=e.offsetParent;return e||Dt})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n="pageYOffset"===i;Z.fn[t]=function(r){return me(this,function(t,r,s){var o=q(t);return void 0===s?o?o[i]:t[r]:void(o?o.scrollTo(n?e.pageXOffset:s,n?s:e.pageYOffset):t[r]=s)},t,r,arguments.length,null)}}),Z.each(["top","left"],function(e,t){Z.cssHooks[t]=E(G.pixelPosition,function(e,i){return i?(i=w(e,t),Be.test(i)?Z(e).position()[t]+"px":i):void 0})}),Z.each({Height:"height",Width:"width"},function(e,t){Z.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){Z.fn[n]=function(n,r){var s=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||r===!0?"margin":"border");return me(this,function(t,i,n){var r;return Z.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===n?Z.css(t,i,o):Z.style(t,i,n,o)},t,s?n:void 0,s,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var It=e.jQuery,Ht=e.$;return Z.noConflict=function(t){return e.$===Z&&(e.$=Ht),t&&e.jQuery===Z&&(e.jQuery=It),Z},typeof t===Te&&(e.jQuery=e.$=Z),Z});var Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return a[e]||"&amp;"}function i(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function n(e){return e instanceof o?e.toString():e||0===e?(e=""+e,u.test(e)?e.replace(l,t):e):""}function r(e){return!e&&0!==e||!(!d(e)||0!==e.length)}var s={},o=e,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,u=/[&<>"'`]/;s.extend=i;var c=Object.prototype.toString;s.toString=c;var h=function(e){return"function"==typeof e};h(/x/)&&(h=function(e){return"function"==typeof e&&"[object Function]"===c.call(e)});var h;s.isFunction=h;var d=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===c.call(e)};return s.isArray=d,s.escapeExpression=n,s.isEmpty=r,s}(e),i=function(){"use strict";function e(e,t){var n;t&&t.firstLine&&(n=t.firstLine,e+=" - "+n+":"+t.firstColumn);for(var r=Error.prototype.constructor.call(this,e),s=0;s<i.length;s++)this[i[s]]=r[i[s]];n&&(this.lineNumber=n,this.column=t.firstColumn)}var t,i=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),n=function(e,t){"use strict";function i(e,t){this.helpers=e||{},this.partials=t||{},n(this)}function n(e){e.registerHelper("helperMissing",function(e){if(2!==arguments.length)throw new a("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,i){var n=i.inverse||function(){},r=i.fn;return d(t)&&(t=t.call(this)),t===!0?r(this):t===!1||null==t?n(this):h(t)?t.length>0?e.helpers.each(t,i):n(this):r(t)}),e.registerHelper("each",function(e,t){var i,n=t.fn,r=t.inverse,s=0,o="";if(d(e)&&(e=e.call(this)),t.data&&(i=m(t.data)),e&&"object"==typeof e)if(h(e))for(var a=e.length;a>s;s++)i&&(i.index=s,i.first=0===s,i.last=s===e.length-1),o+=n(e[s],{data:i});else for(var l in e)e.hasOwnProperty(l)&&(i&&(i.key=l,i.index=s,i.first=0===s),o+=n(e[l],{data:i}),s++);return 0===s&&(o=r(this)),o}),e.registerHelper("if",function(e,t){return d(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||o.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})}),e.registerHelper("with",function(e,t){return d(e)&&(e=e.call(this)),o.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;e.log(n,t)})}function r(e,t){g.log(e,t)}var s={},o=e,a=t,l="1.3.0";s.VERSION=l;var u=4;s.COMPILER_REVISION=u;var c={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};s.REVISION_CHANGES=c;var h=o.isArray,d=o.isFunction,f=o.toString,p="[object Object]";s.HandlebarsEnvironment=i,i.prototype={constructor:i,logger:g,log:r,registerHelper:function(e,t,i){if(f.call(e)===p){if(i||t)throw new a("Arg not supported with multiple helpers");o.extend(this.helpers,e)}else i&&(t.not=i),this.helpers[e]=t},registerPartial:function(e,t){f.call(e)===p?o.extend(this.partials,e):this.partials[e]=t}};var g={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(g.level<=e){var i=g.methodMap[e];"undefined"!=typeof console&&console[i]&&console[i].call(console,t)}}};s.logger=g,s.log=r;var m=function(e){var t={};return o.extend(t,e),t};return s.createFrame=m,s}(t,i),r=function(e,t,i){"use strict";function n(e){var t=e&&e[0]||1,i=d;if(t!==i){if(i>t){var n=f[i],r=f[t];throw new h("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+r+").")}throw new h("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){if(!t)throw new h("No environment passed to template");var i=function(e,i,n,r,s,o){var a=t.VM.invokePartial.apply(this,arguments);if(null!=a)return a;if(t.compile){var l={helpers:r,partials:s,data:o};return s[i]=t.compile(e,{data:void 0!==o},t),s[i](n,l)}throw new h("The partial "+i+" could not be compiled when running in runtime-only mode")},n={escapeExpression:c.escapeExpression,invokePartial:i,programs:[],program:function(e,t,i){var n=this.programs[e];return i?n=o(e,t,i):n||(n=this.programs[e]=o(e,t)),n},merge:function(e,t){var i=e||t;return e&&t&&e!==t&&(i={},c.extend(i,t),c.extend(i,e)),i},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(i,r){r=r||{};var s,o,a=r.partial?r:t;r.partial||(s=r.helpers,o=r.partials);var l=e.call(n,a,i,s,o,r.data);return r.partial||t.VM.checkRevision(n.compilerInfo),l}}function s(e,t,i){var n=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||i].concat(n))};return r.program=e,r.depth=n.length,r}function o(e,t,i){var n=function(e,n){return n=n||{},t(e,n.data||i)};return n.program=e,n.depth=0,n}function a(e,t,i,n,r,s){var o={partial:!0,helpers:n,partials:r,data:s};if(void 0===e)throw new h("The partial "+t+" could not be found");return e instanceof Function?e(i,o):void 0}function l(){return""}var u={},c=e,h=t,d=i.COMPILER_REVISION,f=i.REVISION_CHANGES;return u.checkRevision=n,u.template=r,u.programWithDepth=s,u.program=o,u.invokePartial=a,u.noop=l,u}(t,i,n),s=function(e,t,i,n,r){"use strict";var s,o=e,a=t,l=i,u=n,c=r,h=function(){var e=new o.HandlebarsEnvironment;return u.extend(e,o),e.SafeString=a,e.Exception=l,e.Utils=u,e.VM=c,e.template=function(t){return c.template(t,e)},e},d=h();return d.create=h,s=d}(n,e,i,t,r),o=function(e){"use strict";function t(e){e=e||{},this.firstLine=e.first_line,this.firstColumn=e.first_column,this.lastColumn=e.last_column,this.lastLine=e.last_line}var i,n=e,r={ProgramNode:function(e,i,n,s){var o,a;3===arguments.length?(s=n,n=null):2===arguments.length&&(s=i,i=null),t.call(this,s),this.type="program",this.statements=e,this.strip={},n?(a=n[0],a?(o={first_line:a.firstLine,last_line:a.lastLine,last_column:a.lastColumn,first_column:a.firstColumn},this.inverse=new r.ProgramNode(n,i,o)):this.inverse=new r.ProgramNode(n,i),this.strip.right=i.left):i&&(this.strip.left=i.right)},MustacheNode:function(e,i,n,s,o){if(t.call(this,o),this.type="mustache",this.strip=s,null!=n&&n.charAt){var a=n.charAt(3)||n.charAt(2);this.escaped="{"!==a&&"&"!==a}else this.escaped=!!n;this.sexpr=e instanceof r.SexprNode?e:new r.SexprNode(e,i),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(e,i,n){t.call(this,n),this.type="sexpr",this.hash=i;var r=this.id=e[0],s=this.params=e.slice(1),o=this.eligibleHelper=r.isSimple;this.isHelper=o&&(s.length||i)},PartialNode:function(e,i,n,r){t.call(this,r),this.type="partial",this.partialName=e,this.context=i,this.strip=n},BlockNode:function(e,i,r,s,o){if(t.call(this,o),e.sexpr.id.original!==s.path.original)throw new n(e.sexpr.id.original+" doesn't match "+s.path.original,this);this.type="block",this.mustache=e,this.program=i,this.inverse=r,this.strip={left:e.strip.left,right:s.strip.right},(i||r).strip.left=e.strip.right,(r||i).strip.right=s.strip.left,r&&!i&&(this.isInverse=!0)},ContentNode:function(e,i){t.call(this,i),this.type="content",this.string=e},HashNode:function(e,i){t.call(this,i),this.type="hash",this.pairs=e},IdNode:function(e,i){t.call(this,i),this.type="ID";for(var r="",s=[],o=0,a=0,l=e.length;l>a;a++){var u=e[a].part;if(r+=(e[a].separator||"")+u,".."===u||"."===u||"this"===u){if(s.length>0)throw new n("Invalid path: "+r,this);".."===u?o++:this.isScoped=!0}else s.push(u)}this.original=r,this.parts=s,this.string=s.join("."),this.depth=o,this.isSimple=1===e.length&&!this.isScoped&&0===o,this.stringModeValue=this.string},PartialNameNode:function(e,i){t.call(this,i),this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e,i){t.call(this,i),this.type="DATA",this.id=e},StringNode:function(e,i){t.call(this,i),this.type="STRING",this.original=this.string=this.stringModeValue=e},IntegerNode:function(e,i){t.call(this,i),this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},BooleanNode:function(e,i){t.call(this,i),this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},CommentNode:function(e,i){t.call(this,i),this.type="comment",this.comment=e}};return i=r}(i),a=function(){"use strict";var e,t=function(){function e(e,t){return{left:"~"===e.charAt(2),right:"~"===t.charAt(0)||"~"===t.charAt(1)}}function t(){this.yy={}}var i={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(t,i,n,r,s,o){var a=o.length-1;switch(s){case 1:return new r.ProgramNode(o[a-1],this._$);case 2:return new r.ProgramNode([],this._$);case 3:this.$=new r.ProgramNode([],o[a-1],o[a],this._$);break;case 4:this.$=new r.ProgramNode(o[a-2],o[a-1],o[a],this._$);break;case 5:this.$=new r.ProgramNode(o[a-1],o[a],[],this._$);break;case 6:this.$=new r.ProgramNode(o[a],this._$);break;case 7:this.$=new r.ProgramNode([],this._$);break;case 8:this.$=new r.ProgramNode([],this._$);break;case 9:this.$=[o[a]];break;case 10:o[a-1].push(o[a]),this.$=o[a-1];break;case 11:this.$=new r.BlockNode(o[a-2],o[a-1].inverse,o[a-1],o[a],this._$);break;case 12:this.$=new r.BlockNode(o[a-2],o[a-1],o[a-1].inverse,o[a],this._$);break;case 13:this.$=o[a];break;case 14:this.$=o[a];break;case 15:this.$=new r.ContentNode(o[a],this._$);break;case 16:this.$=new r.CommentNode(o[a],this._$);break;case 17:this.$=new r.MustacheNode(o[a-1],null,o[a-2],e(o[a-2],o[a]),this._$);break;case 18:this.$=new r.MustacheNode(o[a-1],null,o[a-2],e(o[a-2],o[a]),this._$);break;case 19:this.$={path:o[a-1],strip:e(o[a-2],o[a])};break;case 20:this.$=new r.MustacheNode(o[a-1],null,o[a-2],e(o[a-2],o[a]),this._$);break;case 21:this.$=new r.MustacheNode(o[a-1],null,o[a-2],e(o[a-2],o[a]),this._$);break;case 22:this.$=new r.PartialNode(o[a-2],o[a-1],e(o[a-3],o[a]),this._$);break;case 23:this.$=e(o[a-1],o[a]);break;case 24:this.$=new r.SexprNode([o[a-2]].concat(o[a-1]),o[a],this._$);break;case 25:this.$=new r.SexprNode([o[a]],null,this._$);break;case 26:this.$=o[a];break;case 27:this.$=new r.StringNode(o[a],this._$);break;case 28:this.$=new r.IntegerNode(o[a],this._$);break;case 29:this.$=new r.BooleanNode(o[a],this._$);break;case 30:this.$=o[a];break;case 31:o[a-1].isHelper=!0,this.$=o[a-1];break;case 32:this.$=new r.HashNode(o[a],this._$);break;case 33:this.$=[o[a-2],o[a]];break;case 34:this.$=new r.PartialNameNode(o[a],this._$);break;case 35:this.$=new r.PartialNameNode(new r.StringNode(o[a],this._$),this._$);break;case 36:this.$=new r.PartialNameNode(new r.IntegerNode(o[a],this._$));break;case 37:this.$=new r.DataNode(o[a],this._$);break;case 38:this.$=new r.IdNode(o[a],this._$);break;case 39:o[a-2].push({part:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 40:this.$=[{part:o[a]}];break;case 43:this.$=[];break;case 44:o[a-1].push(o[a]);break;case 47:this.$=[o[a]];break;case 48:o[a-1].push(o[a])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=i.lexer.lex()||1,"number"!=typeof e&&(e=i.symbols_[e]||e),e}var i=this,n=[0],r=[null],s=[],o=this.table,a="",l=0,u=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;s.push(h);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var f,p,g,m,y,v,b,x,w,E={};;){if(g=n[n.length-1],this.defaultActions[g]?m=this.defaultActions[g]:((null===f||"undefined"==typeof f)&&(f=t()),m=o[g]&&o[g][f]),"undefined"==typeof m||!m.length||!m[0]){var k="";if(!c){w=[];for(v in o[g])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:h,expected:w})}}if(m[0]instanceof Array&&m.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+f);switch(m[0]){case 1:n.push(f),r.push(this.lexer.yytext),s.push(this.lexer.yylloc),n.push(m[1]),f=null,p?(f=p,p=null):(u=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,h=this.lexer.yylloc,c>0&&c--);break;case 2:if(b=this.productions_[m[1]][1],E.$=r[r.length-b],E._$={first_line:s[s.length-(b||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(b||1)].first_column,last_column:s[s.length-1].last_column},d&&(E._$.range=[s[s.length-(b||1)].range[0],s[s.length-1].range[1]]),y=this.performAction.call(E,a,u,l,this.yy,m[1],r,s),"undefined"!=typeof y)return y;b&&(n=n.slice(0,-1*b*2),r=r.slice(0,-1*b),s=s.slice(0,-1*b)),n.push(this.productions_[m[1]][0]),r.push(E.$),s.push(E._$),x=o[n[n.length-2]][n[n.length-1]],n.push(x);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,n,r;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),o=0;o<s.length&&(i=this._input.match(this.rules[s[o]]),!i||t&&!(i[0].length>t[0].length)||(t=i,n=o,this.options.flex));o++);return t?(r=t[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,i,n){function r(e,i){return t.yytext=t.yytext.substr(e,t.yyleng-i)}switch(i){case 0:if("\\\\"===t.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return r(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return r(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return t.yytext=r(1,2).replace(/\\"/g,'"'),32;case 24:return t.yytext=r(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return t.yytext=r(1,2),40;case 31:return"INVALID";case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return i.lexer=n,t.prototype=i,i.Parser=t,new t}();return e=t}(),l=function(e,t){"use strict";function i(e){return e.constructor===s.ProgramNode?e:(r.yy=s,r.parse(e))}var n={},r=e,s=t;return n.parser=r,n.parse=i,n}(a,o),u=function(e){"use strict";function t(){}function i(e,t,i){if(null==e||"string"!=typeof e&&e.constructor!==i.AST.ProgramNode)throw new s("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var n=i.parse(e),r=(new i.Compiler).compile(n,t);return(new i.JavaScriptCompiler).compile(r,t)}function n(e,t,i){function n(){var n=i.parse(e),r=(new i.Compiler).compile(n,t),s=(new i.JavaScriptCompiler).compile(r,t,void 0,!0);return i.template(s)}if(null==e||"string"!=typeof e&&e.constructor!==i.AST.ProgramNode)throw new s("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var r;return function(e,t){return r||(r=n()),r.call(this,e,t)}}var r={},s=e;return r.Compiler=t,t.prototype={compiler:t,disassemble:function(){for(var e,t,i,n=this.opcodes,r=[],s=0,o=n.length;o>s;s++)if(e=n[s],"DECLARE"===e.opcode)r.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var a=0;a<e.args.length;a++)i=e.args[a],"string"==typeof i&&(i='"'+i.replace("\n","\\n")+'"'),t.push(i);r.push(e.opcode+" "+t.join(" "))}return r.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var i=0;t>i;i++){var n=this.opcodes[i],r=e.opcodes[i];if(n.opcode!==r.opcode||n.args.length!==r.args.length)return!1;for(var s=0;s<n.args.length;s++)if(n.args[s]!==r.args[s])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(i=0;t>i;i++)if(!this.children[i].equals(e.children[i]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.accept(e)},accept:function(e){var t,i=e.strip||{};return i.left&&this.opcode("strip"),t=this[e.type](e),i.right&&this.opcode("strip"),t},program:function(e){for(var t=e.statements,i=0,n=t.length;n>i;i++)this.accept(t[i]);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,i=(new this.compiler).compile(e,this.options),n=this.guid++;this.usePartial=this.usePartial||i.usePartial,this.children[n]=i;for(var r=0,s=i.depths.list.length;s>r;r++)t=i.depths.list[r],2>t||this.addDepth(t-1);return n},block:function(e){var t=e.mustache,i=e.program,n=e.inverse;i&&(i=this.compileProgram(i)),n&&(n=this.compileProgram(n));var r=t.sexpr,s=this.classifySexpr(r);"helper"===s?this.helperSexpr(r,i,n):"simple"===s?(this.simpleSexpr(r),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(r,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,i,n=e.pairs;this.opcode("pushHash");for(var r=0,s=n.length;s>r;r++)t=n[r],i=t[1],this.options.stringParams?(i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",i.stringModeValue,i.type),"sexpr"===i.type&&this.sexpr(i)):this.accept(i),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),
this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){this.sexpr(e.sexpr),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(e,t,i){var n=e.id,r=n.parts[0],s=null!=t||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",r,s)},simpleSexpr:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,i){var n=this.setupFullMustacheParams(e,t,i),r=e.id.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",n.length,r);else{if(this.options.knownHelpersOnly)throw new s("You specified knownHelpersOnly, but used the unknown helper "+r,e);this.opcode("invokeHelper",n.length,r,e.isRoot)}},sexpr:function(e){var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var i=1,n=e.parts.length;n>i;i++)this.opcode("lookup",e.parts[i])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new s("Scoped data references are not supported: "+e.original,e);this.opcode("lookupData");for(var t=e.id.parts,i=0,n=t.length;n>i;i++)this.opcode("lookup",t[i])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifySexpr:function(e){var t=e.isHelper,i=e.eligibleHelper,n=this.options;if(i&&!t){var r=e.id.parts[0];n.knownHelpers[r]?t=!0:n.knownHelpersOnly&&(i=!1)}return t?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t,i=e.length;i--;)t=e[i],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type),"sexpr"===t.type&&this.sexpr(t)):this[t.type](t)},setupFullMustacheParams:function(e,t,i){var n=e.params;return this.pushParams(n),this.opcode("pushProgram",t),this.opcode("pushProgram",i),e.hash?this.hash(e.hash):this.opcode("emptyHash"),n}},r.precompile=i,r.compile=n,r}(i),c=function(e,t){"use strict";function i(e){this.value=e}function n(){}var r,s=e.COMPILER_REVISION,o=e.REVISION_CHANGES,a=e.log,l=t;n.prototype={nameLookup:function(e,t){var i,r;return 0===e.indexOf("depth")&&(i=!0),r=/^[0-9]+$/.test(t)?e+"["+t+"]":n.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']",i?"("+e+" && "+r+")":r},compilerInfo:function(){var e=s,t=o[e];return"this.compilerInfo = ["+e+",'"+t+"'];\n"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,i,n){this.environment=e,this.options=t||{},a("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var r,s=e.opcodes;this.i=0;for(var o=s.length;this.i<o;this.i++)r=s[this.i],"DECLARE"===r.opcode?this[r.name]=r.value:this[r.opcode].apply(this,r.args),r.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(n)},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,i="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(i=i+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(i+=" data = data || {};"),e.push(i)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);if(t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var n=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,s=this.environment.depths.list.length;s>r;r++)n.push("depth"+this.environment.depths.list[r]);var o=this.mergeSource();if(this.isChild||(o=this.compilerInfo()+o),e)return n.push(o),Function.apply(this,n);var l="function "+(this.name||"")+"("+n.join(",")+") {\n  "+o+"}";return a("debug",l+"\n\n"),l},mergeSource:function(){for(var e,t="",i=0,n=this.source.length;n>i;i++){var r=this.source[i];r.appendToBuffer?e=e?e+"\n    + "+r.content:r.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=r+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.stripNext&&(e=e.replace(/^\s+/,"")),this.pendingContent=e},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"sexpr"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+e.contexts.join(",")+"}"),this.push("{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},invokeHelper:function(e,t,i){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var n=this.lastHelper=this.setupHelper(e,t,!0),r=this.nameLookup("depth"+this.lastContext,t,"context"),s="helper = "+n.name+" || "+r;n.paramsInit&&(s+=","+n.paramsInit),this.push("("+s+",helper ? helper.call("+n.callParams+") : helperMissing.call("+n.helperMissingParams+"))"),i||this.flushInline()},invokeKnownHelper:function(e,t){var i=this.setupHelper(e,t);this.push(i.name+".call("+i.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var i=this.setupHelper(0,e,t),n=this.lastHelper=this.nameLookup("helpers",e,"helper"),r=this.nameLookup("depth"+this.lastContext,e,"context"),s=this.nextStack();i.paramsInit&&this.pushSource(i.paramsInit),this.pushSource("if (helper = "+n+") { "+s+" = helper.call("+i.callParams+"); }"),this.pushSource("else { helper = "+r+"; "+s+" = typeof helper === functionType ? helper.call("+i.callParams+") : helper; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,i,n=this.popStack();this.options.stringParams&&(i=this.popStack(),t=this.popStack());var r=this.hash;t&&r.contexts.push("'"+e+"': "+t),i&&r.types.push("'"+e+"': "+i),r.values.push("'"+e+"': ("+n+")")},compiler:n,compileChildren:function(e,t){for(var i,n,r=e.children,s=0,o=r.length;o>s;s++){i=r[s],n=new this.compiler;var a=this.matchExistingProgram(i);null==a?(this.context.programs.push(""),a=this.context.programs.length,i.index=a,i.name="program"+a,this.context.programs[a]=n.compile(i,t,this.context),this.context.environments[a]=i):(i.index=a,i.name="program"+a)}},matchExistingProgram:function(e){for(var t=0,i=this.context.environments.length;i>t;t++){var n=this.context.environments[t];if(n&&n.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,i=this.environment.children[e],n=i.depths.list,r=[i.index,i.name,"data"],s=0,o=n.length;o>s;s++)t=n[s],1===t?r.push("depth0"):r.push("depth"+(t-1));return(0===n.length?"self.program(":"self.programWithDepth(")+r.join(", ")+")"},register:function(e,t){this.useRegister(e),this.pushSource(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new i(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,n,r,s="",o=this.isInline();if(o){var a=this.popStack(!0);if(a instanceof i)t=a.value,r=!0;else{n=!this.stackSlot;var l=n?this.incrStack():this.topStackName();s="("+this.push(l)+" = "+a+"),",t=this.topStack()}}else t=this.topStack();var u=e.call(this,t);return o?(r||this.popStack(),n&&this.stackSlot--,this.push("("+s+u+")")):(/^stack/.test(t)||(t=this.nextStack()),this.pushSource(t+" = ("+s+u+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,n=e.length;n>t;t++){var r=e[t];r instanceof i?this.compileStack.push(r):this.pushStack(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof i)return n.value;if(!t){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return n},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,n=t[t.length-1];return!e&&n instanceof i?n.value:n},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,i){var n=[],r=this.setupParams(e,n,i),s=this.nameLookup("helpers",t,"helper");return{params:n,paramsInit:r,name:s,callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(t)].concat(n).join(", ")}},setupOptions:function(e,t){var i,n,r,s=[],o=[],a=[];s.push("hash:"+this.popStack()),this.options.stringParams&&(s.push("hashTypes:"+this.popStack()),s.push("hashContexts:"+this.popStack())),n=this.popStack(),r=this.popStack(),(r||n)&&(r||(this.context.aliases.self="this",r="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),s.push("inverse:"+n),s.push("fn:"+r));for(var l=0;e>l;l++)i=this.popStack(),t.push(i),this.options.stringParams&&(a.push(this.popStack()),o.push(this.popStack()));return this.options.stringParams&&(s.push("contexts:["+o.join(",")+"]"),s.push("types:["+a.join(",")+"]")),this.options.data&&s.push("data:data"),s},setupParams:function(e,t,i){var n="{"+this.setupOptions(e,t).join(",")+"}";return i?(this.useRegister("options"),t.push("options"),"options="+n):(t.push(n),"")}};for(var u="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),c=n.RESERVED_WORDS={},h=0,d=u.length;d>h;h++)c[u[h]]=!0;return n.isValidJavaScriptVariableName=function(e){return!(n.RESERVED_WORDS[e]||!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))},r=n}(n,i),h=function(e,t,i,n,r){"use strict";var s,o=e,a=t,l=i.parser,u=i.parse,c=n.Compiler,h=n.compile,d=n.precompile,f=r,p=o.create,g=function(){var e=p();return e.compile=function(t,i){return h(t,i,e)},e.precompile=function(t,i){return d(t,i,e)},e.AST=a,e.Compiler=c,e.JavaScriptCompiler=f,e.Parser=l,e.parse=u,e};return o=g(),o.create=g,s=o}(s,o,l,u,c);return h}();!function(){var e,t,i,n,r,s,o,a,l,u,c,h,d,f,p,g,m,y,v,b,x,w,E,k,S,T,A,C,N,_,P,M,L,O,R,j,D,I,H;u=function(t,i,n,r){return new e(t,i,n,r)},"undefined"!=typeof module&&null!==module&&null!=module.exports&&(module.exports=u),"function"==typeof define&&define.amd?define([],function(){return u}):(O="undefined"!=typeof exports&&null!==exports?exports:this,O.chroma=u),u.color=function(t,i,n,r){return new e(t,i,n,r)},u.hsl=function(t,i,n,r){return new e(t,i,n,r,"hsl")},u.hsv=function(t,i,n,r){return new e(t,i,n,r,"hsv")},u.rgb=function(t,i,n,r){return new e(t,i,n,r,"rgb")},u.hex=function(t){return new e(t)},u.css=function(t){return new e(t)},u.lab=function(t,i,n){return new e(t,i,n,"lab")},u.lch=function(t,i,n){return new e(t,i,n,"lch")},u.hsi=function(t,i,n){return new e(t,i,n,"hsi")},u.gl=function(t,i,n,r){return new e(255*t,255*i,255*n,r,"gl")},u.interpolate=function(t,i,n,r){return null==t||null==i?"#000":("string"===R(t)&&(t=new e(t)),"string"===R(i)&&(i=new e(i)),t.interpolate(n,i,r))},u.mix=u.interpolate,u.contrast=function(t,i){var n,r;return"string"===R(t)&&(t=new e(t)),"string"===R(i)&&(i=new e(i)),n=t.luminance(),r=i.luminance(),n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},u.luminance=function(e){return u(e).luminance()},u._Color=e,e=function(){function e(){var e,t,i,n,r,s,o,a,l,u,h,d,f,v,x;for(r=this,i=[],u=0,h=arguments.length;u<h;u++)t=arguments[u],null!=t&&i.push(t);if(0===i.length)d=[255,0,255,1,"rgb"],o=d[0],a=d[1],l=d[2],e=d[3],n=d[4];else if("array"===R(i[0])){if(3===i[0].length)f=i[0],o=f[0],a=f[1],l=f[2],e=1;else{if(4!==i[0].length)throw"unknown input argument";v=i[0],o=v[0],a=v[1],l=v[2],e=v[3]}n=i[1]}else"string"===R(i[0])?(o=i[0],n="hex"):"object"===R(i[0])?(x=i[0]._rgb,o=x[0],a=x[1],l=x[2],e=x[3],n="rgb"):i.length>=3&&(o=i[0],a=i[1],l=i[2]);3===i.length?(n="rgb",e=1):4===i.length?"string"===R(i[3])?(n=i[3],e=1):"number"===R(i[3])&&(n="rgb",e=i[3]):5===i.length&&(e=i[3],n=i[4]),null==e&&(e=1),"rgb"===n?r._rgb=[o,a,l,e]:"gl"===n?r._rgb=[255*o,255*a,255*l,e]:"hsl"===n?(r._rgb=m(o,a,l),r._rgb[3]=e):"hsv"===n?(r._rgb=y(o,a,l),r._rgb[3]=e):"hex"===n?r._rgb=p(o):"lab"===n?(r._rgb=b(o,a,l),r._rgb[3]=e):"lch"===n?(r._rgb=E(o,a,l),r._rgb[3]=e):"hsi"===n&&(r._rgb=g(o,a,l),r._rgb[3]=e),s=c(r._rgb)}return e.prototype.rgb=function(){return this._rgb.slice(0,3)},e.prototype.rgba=function(){return this._rgb},e.prototype.hex=function(){return A(this._rgb)},e.prototype.toString=function(){return this.name()},e.prototype.hsl=function(){return N(this._rgb)},e.prototype.hsv=function(){return _(this._rgb)},e.prototype.lab=function(){return P(this._rgb)},e.prototype.lch=function(){return M(this._rgb)},e.prototype.hsi=function(){return C(this._rgb)},e.prototype.gl=function(){return[this._rgb[0]/255,this._rgb[1]/255,this._rgb[2]/255,this._rgb[3]]},e.prototype.luminance=function(){return S(this._rgb)},e.prototype.name=function(){var e,t;e=this.hex();for(t in u.colors)if(e===u.colors[t])return t;return e},e.prototype.alpha=function(e){return arguments.length?(this._rgb[3]=e,this):this._rgb[3]},e.prototype.css=function(e){var t,i,n,r;return null==e&&(e="rgb"),i=this,n=i._rgb,3===e.length&&n[3]<1&&(e+="a"),"rgb"===e?e+"("+n.slice(0,3).join(",")+")":"rgba"===e?e+"("+n.join(",")+")":"hsl"===e||"hsla"===e?(t=i.hsl(),r=function(e){return Math.round(100*e)/100},t[0]=r(t[0]),t[1]=r(100*t[1])+"%",t[2]=r(100*t[2])+"%",4===e.length&&(t[3]=n[3]),e+"("+t.join(",")+")"):void 0},e.prototype.interpolate=function(t,i,n){var r,s,o,a,l,u,c,h,d,f,p,g,m,y;if(h=this,null==n&&(n="rgb"),"string"===R(i)&&(i=new e(i)),"hsl"===n||"hsv"===n||"lch"===n||"hsi"===n)"hsl"===n?(m=h.hsl(),y=i.hsl()):"hsv"===n?(m=h.hsv(),y=i.hsv()):"hsi"===n?(m=h.hsi(),y=i.hsi()):"lch"===n&&(m=h.lch(),y=i.lch()),"h"===n.substr(0,1)?(o=m[0],p=m[1],u=m[2],a=y[0],g=y[1],c=y[2]):(u=m[0],p=m[1],o=m[2],c=y[0],g=y[1],a=y[2]),isNaN(o)||isNaN(a)?isNaN(o)?isNaN(a)?s=Number.NaN:(s=a,1!==u&&0!==u||(f=g)):(s=o,1!==c&&0!==c||(f=p)):(r=a>o&&a-o>180?a-(o+360):a<o&&o-a>180?a+360-o:a-o,s=o+t*r),null==f&&(f=p+t*(g-p)),l=u+t*(c-u),d="h"===n.substr(0,1)?new e(s,f,l,n):new e(l,f,s,n);else if("rgb"===n)m=h._rgb,y=i._rgb,d=new e(m[0]+t*(y[0]-m[0]),m[1]+t*(y[1]-m[1]),m[2]+t*(y[2]-m[2]),n);else{if("lab"!==n)throw"color mode "+n+" is not supported";m=h.lab(),y=i.lab(),d=new e(m[0]+t*(y[0]-m[0]),m[1]+t*(y[1]-m[1]),m[2]+t*(y[2]-m[2]),n)}return d.alpha(h.alpha()+t*(i.alpha()-h.alpha())),d},e.prototype.premultiply=function(){var e,t;return t=this.rgb(),e=this.alpha(),u(t[0]*e,t[1]*e,t[2]*e,e)},e.prototype.darken=function(e){var t,i;return null==e&&(e=20),i=this,t=i.lch(),t[0]-=e,u.lch(t).alpha(i.alpha())},e.prototype.darker=function(e){return this.darken(e)},e.prototype.brighten=function(e){return null==e&&(e=20),this.darken(-e)},e.prototype.brighter=function(e){return this.brighten(e)},e.prototype.saturate=function(e){var t,i;return null==e&&(e=20),i=this,t=i.lch(),t[1]+=e,u.lch(t).alpha(i.alpha())},e.prototype.desaturate=function(e){return null==e&&(e=20),this.saturate(-e)},e}(),c=function(e){var t;for(t in e)t<3?(e[t]<0&&(e[t]=0),e[t]>255&&(e[t]=255)):3===t&&(e[t]<0&&(e[t]=0),e[t]>1&&(e[t]=1));return e},f=function(e){var t,i,n,r,s,o,a,l;if(e=e.toLowerCase(),null!=u.colors&&u.colors[e])return p(u.colors[e]);if(n=e.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(r=n.slice(1,4),i=s=0;s<=2;i=++s)r[i]=+r[i];r[3]=1}else if(n=e.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(r=n.slice(1,5),i=o=0;o<=3;i=++o)r[i]=+r[i];else if(n=e.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(r=n.slice(1,4),i=a=0;a<=2;i=++a)r[i]=Math.round(2.55*r[i]);r[3]=1}else if(n=e.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(r=n.slice(1,5),i=l=0;l<=2;i=++l)r[i]=Math.round(2.55*r[i]);r[3]=+r[3]}else(n=e.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?(t=n.slice(1,4),t[1]*=.01,t[2]*=.01,r=m(t),r[3]=1):(n=e.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&(t=n.slice(1,4),t[1]*=.01,t[2]*=.01,r=m(t),r[3]=+n[4]);return r},p=function(e){var t,i,n,r,s,o;if(e.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return 4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=e.split(""),e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),o=parseInt(e,16),r=o>>16,n=o>>8&255,i=255&o,[r,n,i,1];if(e.match(/^#?([A-Fa-f0-9]{8})$/))return 9===e.length&&(e=e.substr(1)),o=parseInt(e,16),r=o>>24&255,n=o>>16&255,i=o>>8&255,t=255&o,[r,n,i,t];if(s=f(e))return s;throw"unknown color: "+e},g=function(e,t,r){var s,o,a,l;return l=j(arguments),e=l[0],t=l[1],r=l[2],e/=360,e<1/3?(s=(1-t)/3,a=(1+t*d(n*e)/d(i-n*e))/3,o=1-(s+a)):e<2/3?(e-=1/3,a=(1-t)/3,o=(1+t*d(n*e)/d(i-n*e))/3,s=1-(a+o)):(e-=2/3,o=(1-t)/3,s=(1+t*d(n*e)/d(i-n*e))/3,a=1-(o+s)),a=k(r*a*3),o=k(r*o*3),s=k(r*s*3),[255*a,255*o,255*s]},m=function(){var e,t,i,n,r,s,o,a,l,u,c,h,d,f;if(d=j(arguments),n=d[0],a=d[1],s=d[2],0===a)o=i=e=255*s;else{for(c=[0,0,0],t=[0,0,0],u=s<.5?s*(1+a):s+a-s*a,l=2*s-u,n/=360,c[0]=n+1/3,c[1]=n,c[2]=n-1/3,r=h=0;h<=2;r=++h)c[r]<0&&(c[r]+=1),c[r]>1&&(c[r]-=1),6*c[r]<1?t[r]=l+6*(u-l)*c[r]:2*c[r]<1?t[r]=u:3*c[r]<2?t[r]=l+(u-l)*(2/3-c[r])*6:t[r]=l;f=[Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])],o=f[0],i=f[1],e=f[2]}return[o,i,e]},y=function(){var e,t,i,n,r,s,o,a,l,u,c,h,d,f,p,g,m,y;if(h=j(arguments),n=h[0],l=h[1],c=h[2],c*=255,0===l)a=i=e=c;else switch(360===n&&(n=0),n>360&&(n-=360),n<0&&(n+=360),n/=60,r=Math.floor(n),t=n-r,s=c*(1-l),o=c*(1-l*t),u=c*(1-l*(1-t)),r){case 0:d=[c,u,s],a=d[0],i=d[1],e=d[2];break;case 1:f=[o,c,s],a=f[0],i=f[1],e=f[2];break;case 2:p=[s,c,u],a=p[0],i=p[1],e=p[2];break;case 3:g=[s,o,c],a=g[0],i=g[1],e=g[2];break;case 4:m=[u,s,c],a=m[0],i=m[1],e=m[2];break;case 5:y=[c,s,o],a=y[0],i=y[1],e=y[2]}return a=Math.round(a),i=Math.round(i),e=Math.round(e),[a,i,e]},t=18,r=.95047,s=1,o=1.08883,v=function(){var e,t,i,n,r,s;return s=j(arguments),r=s[0],e=s[1],t=s[2],i=Math.sqrt(e*e+t*t),n=Math.atan2(t,e)/Math.PI*180,[r,i,n]},b=function(e,t,i){var n,a,l,u,c,h,d;return void 0!==e&&3===e.length&&(h=e,e=h[0],t=h[1],i=h[2]),void 0!==e&&3===e.length&&(d=e,e=d[0],t=d[1],i=d[2]),u=(e+16)/116,l=u+t/500,c=u-i/200,l=x(l)*r,u=x(u)*s,c=x(c)*o,a=I(3.2404542*l-1.5371385*u-.4985314*c),n=I(-.969266*l+1.8760108*u+.041556*c),i=I(.0556434*l-.2040259*u+1.0572252*c),[k(a,0,255),k(n,0,255),k(i,0,255),1]},x=function(e){return e>.206893034?e*e*e:(e-4/29)/7.787037},I=function(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))},w=function(){var e,t,i,n;return n=j(arguments),i=n[0],e=n[1],t=n[2],t=t*Math.PI/180,[i,Math.cos(t)*e,Math.sin(t)*e]},E=function(e,t,i){var n,r,s,o,a,l,u;return l=w(e,t,i),n=l[0],r=l[1],s=l[2],u=b(n,r,s),a=u[0],o=u[1],s=u[2],[k(a,0,255),k(o,0,255),k(s,0,255)]},S=function(e,t,i){var n;return n=j(arguments),e=n[0],t=n[1],i=n[2],e=T(e),t=T(t),i=T(i),.2126*e+.7152*t+.0722*i},T=function(e){return e/=255,e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)},A=function(){var e,t,i,n,r,s;return s=j(arguments),i=s[0],t=s[1],e=s[2],r=i<<16|t<<8|e,n="000000"+r.toString(16),"#"+n.substr(n.length-6)},C=function(){var e,t,i,n,r,s,o,a,l;return l=j(arguments),o=l[0],i=l[1],t=l[2],e=2*Math.PI,o/=255,i/=255,t/=255,s=Math.min(o,i,t),r=(o+i+t)/3,a=1-s/r,0===a?n=0:(n=(o-i+(o-t))/2,n/=Math.sqrt((o-i)*(o-i)+(o-t)*(i-t)),n=Math.acos(n),t>i&&(n=e-n),n/=e),[360*n,a,r]},N=function(e,t,i){var n,r,s,o,a,l;return void 0!==e&&e.length>=3&&(l=e,e=l[0],t=l[1],i=l[2]),e/=255,t/=255,i/=255,o=Math.min(e,t,i),s=Math.max(e,t,i),r=(s+o)/2,s===o?(a=0,n=Number.NaN):a=r<.5?(s-o)/(s+o):(s-o)/(2-s-o),e===s?n=(t-i)/(s-o):t===s?n=2+(i-e)/(s-o):i===s&&(n=4+(e-t)/(s-o)),n*=60,n<0&&(n+=360),[n,a,r]},_=function(){var e,t,i,n,r,s,o,a,l,u;return u=j(arguments),o=u[0],i=u[1],e=u[2],s=Math.min(o,i,e),r=Math.max(o,i,e),t=r-s,l=r/255,0===r?(n=Number.NaN,a=0):(a=t/r,o===r&&(n=(i-e)/t),i===r&&(n=2+(e-o)/t),e===r&&(n=4+(o-i)/t),n*=60,n<0&&(n+=360)),[n,a,l]},P=function(){var e,t,i,n,a,l,u;return u=j(arguments),i=u[0],t=u[1],e=u[2],i=L(i),t=L(t),e=L(e),n=D((.4124564*i+.3575761*t+.1804375*e)/r),a=D((.2126729*i+.7151522*t+.072175*e)/s),l=D((.0193339*i+.119192*t+.9503041*e)/o),[116*a-16,500*(n-a),200*(a-l)]},L=function(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)},D=function(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29},M=function(){var e,t,i,n,r,s,o;return s=j(arguments),r=s[0],i=s[1],t=s[2],o=P(r,i,t),n=o[0],e=o[1],t=o[2],v(n,e,t)},u.scale=function(e,t){var i,n,r,s,o,a,l,c,h,d,f,p,g,m,y,v,b,x,w,E,k;return v="rgb",b=u("#ccc"),k=0,g=!1,p=[0,1],d=[],w=!1,E=[],y=0,m=1,f=!1,x=0,h={},a=function(e,t){var i,n,r,s,a,l,c;if(null==e&&(e=["#ddd","#222"]),null!=e&&"string"===R(e)&&null!=(null!=(a=u.brewer)?a[e]:void 0)&&(e=u.brewer[e]),"array"===R(e)){for(e=e.slice(0),i=r=0,l=e.length-1;0<=l?r<=l:r>=l;i=0<=l?++r:--r)n=e[i],"string"===R(n)&&(e[i]=u(n));if(null!=t)E=t;else for(E=[],i=s=0,c=e.length-1;0<=c?s<=c:s>=c;i=0<=c?++s:--s)E.push(i/(e.length-1))}return o(),d=e},l=function(e){return null==e&&(e=[]),p=e,y=e[0],m=e[e.length-1],o(),x=2===e.length?0:e.length-1},r=function(e){var t,i;if(null!=p){for(i=p.length-1,t=0;t<i&&e>=p[t];)t++;return t-1}return 0},c=function(e){return e},i=function(e){var t,i,n,s,o;return o=e,p.length>2&&(s=p.length-1,t=r(e),n=p[0]+(p[1]-p[0])*(0+.5*k),i=p[s-1]+(p[s]-p[s-1])*(1-.5*k),o=y+(p[t]+.5*(p[t+1]-p[t])-n)/(i-n)*(m-y)),o},s=function(e,t){var i,n,s,o,a,l,f,g,w;if(null==t&&(t=!1),isNaN(e))return b;if(t?f=e:p.length>2?(i=r(e),f=i/(x-1)):(f=s=(e-y)/(m-y),f=Math.min(1,Math.max(0,f))),t||(f=c(f)),a=Math.floor(1e4*f),h[a])n=h[a];else{if("array"===R(d))for(o=g=0,w=E.length-1;0<=w?g<=w:g>=w;o=0<=w?++g:--g){if(l=E[o],f<=l){n=d[o];break}if(f>=l&&o===E.length-1){n=d[o];break}if(f>l&&f<E[o+1]){f=(f-l)/(E[o+1]-l),n=u.interpolate(d[o],d[o+1],f,v);break}}else"function"===R(d)&&(n=d(f));h[a]=n}return n},o=function(){return h={}},a(e,t),n=function(e){var t;return t=s(e),w&&t[w]?t[w]():t},n.domain=function(e,t,i,r){var s;return null==i&&(i="e"),arguments.length?(null!=t&&(s=u.analyze(e,r),e=0===t?[s.min,s.max]:u.limits(s,i,t)),l(e),n):p},n.mode=function(e){return arguments.length?(v=e,o(),n):v},n.range=function(e,t){return a(e,t),n},n.out=function(e){return w=e,n},n.spread=function(e){return arguments.length?(k=e,n):k},n.correctLightness=function(e){return arguments.length?(f=e,o(),c=f?function(e){var t,i,n,r,o,a,l,u,c;for(t=s(0,!0).lab()[0],i=s(1,!0).lab()[0],l=t>i,n=s(e,!0).lab()[0],o=t+(i-t)*e,r=n-o,u=0,c=1,a=20;Math.abs(r)>.01&&a-- >0;)!function(){return l&&(r*=-1),r<0?(u=e,e+=.5*(c-e)):(c=e,e+=.5*(u-e)),n=s(e,!0).lab()[0],r=n-o}();return e}:function(e){return e},n):f},n.colors=function(t){var i,r,s,o,a,l;if(null==t&&(t="hex"),e=[],r=[],p.length>2)for(i=s=1,l=p.length;1<=l?s<l:s>l;i=1<=l?++s:--s)r.push(.5*(p[i-1]+p[i]));else r=p;for(o=0,a=r.length;o<a;o++)i=r[o],e.push(n(i)[t]());return e},n},null==(H=u.scales)&&(u.scales={}),u.scales.cool=function(){return u.scale([u.hsl(180,1,.9),u.hsl(250,.7,.4)])},u.scales.hot=function(){return u.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},u.analyze=function(e,t,i){var n,r,s,o,a,l,c;if(s={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0},null==i&&(i=function(){return!0}),n=function(e){null==e||isNaN(e)||(s.values.push(e),s.sum+=e,e<s.min&&(s.min=e),e>s.max&&(s.max=e),s.count+=1)},a=function(e,r){if(i(e,r))return n(null!=t&&"function"===R(t)?t(e):null!=t&&"string"===R(t)||"number"===R(t)?e[t]:e)},"array"===R(e))for(l=0,c=e.length;l<c;l++)o=e[l],a(o);else for(r in e)o=e[r],a(o,r);return s.domain=[s.min,s.max],s.limits=function(e,t){return u.limits(s,e,t)},s},u.limits=function(e,t,i){var n,r,s,o,a,l,c,h,d,f,p,g,m,y,v,b,x,w,E,k,S,T,A,C,N,_,P,M,L,O,R,j,D,I,H,z,F,q,B,$,W,U,Y,V,X,K,G,J,Q,Z,ee,te,ie,ne,re,se;if(null==t&&(t="equal"),null==i&&(i=7),null==e.values&&(e=u.analyze(e)),m=e.min,p=e.max,A=e.sum,_=e.values.sort(function(e,t){return e-t}),f=[],"c"===t.substr(0,1)&&(f.push(m),f.push(p)),"e"===t.substr(0,1)){for(f.push(m),c=P=1,F=i-1;1<=F?P<=F:P>=F;c=1<=F?++P:--P)f.push(m+c/i*(p-m));f.push(p)}else if("l"===t.substr(0,1)){if(m<=0)throw"Logarithmic scales are only possible for values > 0";for(y=Math.LOG10E*Math.log(m),g=Math.LOG10E*Math.log(p),f.push(m),c=M=1,V=i-1;1<=V?M<=V:M>=V;c=1<=V?++M:--M)f.push(Math.pow(10,y+c/i*(g-y)));f.push(p)}else if("q"===t.substr(0,1)){for(f.push(m),c=L=1,X=i-1;1<=X?L<=X:L>=X;c=1<=X?++L:--L)E=_.length*c/i,k=Math.floor(E),k===E?f.push(_[k]):(S=E-k,f.push(_[k]*S+_[k+1]*(1-S)));f.push(p)}else if("k"===t.substr(0,1)){for(b=_.length,n=new Array(b),a=new Array(i),T=!0,x=0,s=null,s=[],s.push(m),c=O=1,K=i-1;1<=K?O<=K:O>=K;c=1<=K?++O:--O)s.push(m+c/i*(p-m));for(s.push(p);T;){for(h=R=0,G=i-1;0<=G?R<=G:R>=G;h=0<=G?++R:--R)a[h]=0;for(c=j=0,J=b-1;0<=J?j<=J:j>=J;c=0<=J?++j:--j){for(N=_[c],v=Number.MAX_VALUE,h=D=0,Q=i-1;0<=Q?D<=Q:D>=Q;h=0<=Q?++D:--D)l=Math.abs(s[h]-N),l<v&&(v=l,r=h);a[r]++,n[c]=r}for(w=new Array(i),h=I=0,Z=i-1;0<=Z?I<=Z:I>=Z;h=0<=Z?++I:--I)w[h]=null;for(c=H=0,ee=b-1;0<=ee?H<=ee:H>=ee;c=0<=ee?++H:--H)o=n[c],null===w[o]?w[o]=_[c]:w[o]+=_[c];for(h=z=0,q=i-1;0<=q?z<=q:z>=q;h=0<=q?++z:--z)w[h]*=1/a[h];for(T=!1,h=te=0,B=i-1;0<=B?te<=B:te>=B;h=0<=B?++te:--te)if(w[h]!==s[c]){T=!0;break}s=w,x++,x>200&&(T=!1)}for(d={},h=ie=0,$=i-1;0<=$?ie<=$:ie>=$;h=0<=$?++ie:--ie)d[h]=[];for(c=ne=0,W=b-1;0<=W?ne<=W:ne>=W;c=0<=W?++ne:--ne)o=n[c],d[o].push(_[c]);for(C=[],h=re=0,U=i-1;0<=U?re<=U:re>=U;h=0<=U?++re:--re)C.push(d[h][0]),C.push(d[h][d[h].length-1]);for(C=C.sort(function(e,t){return e-t}),f.push(C[0]),c=se=1,Y=C.length-1;se<=Y;c=se+=2)isNaN(C[c])||f.push(C[c])}return f},u.brewer=l={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],
Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},u.colors=h={indigo:"#4b0082",gold:"#ffd700",hotpink:"#ff69b4",firebrick:"#b22222",indianred:"#cd5c5c",yellow:"#ffff00",mistyrose:"#ffe4e1",darkolivegreen:"#556b2f",olive:"#808000",darkseagreen:"#8fbc8f",pink:"#ffc0cb",tomato:"#ff6347",lightcoral:"#f08080",orangered:"#ff4500",navajowhite:"#ffdead",lime:"#00ff00",palegreen:"#98fb98",darkslategrey:"#2f4f4f",greenyellow:"#adff2f",burlywood:"#deb887",seashell:"#fff5ee",mediumspringgreen:"#00fa9a",fuchsia:"#ff00ff",papayawhip:"#ffefd5",blanchedalmond:"#ffebcd",chartreuse:"#7fff00",dimgray:"#696969",black:"#000000",peachpuff:"#ffdab9",springgreen:"#00ff7f",aquamarine:"#7fffd4",white:"#ffffff",orange:"#ffa500",lightsalmon:"#ffa07a",darkslategray:"#2f4f4f",brown:"#a52a2a",ivory:"#fffff0",dodgerblue:"#1e90ff",peru:"#cd853f",lawngreen:"#7cfc00",chocolate:"#d2691e",crimson:"#dc143c",forestgreen:"#228b22",darkgrey:"#a9a9a9",lightseagreen:"#20b2aa",cyan:"#00ffff",mintcream:"#f5fffa",silver:"#c0c0c0",antiquewhite:"#faebd7",mediumorchid:"#ba55d3",skyblue:"#87ceeb",gray:"#808080",darkturquoise:"#00ced1",goldenrod:"#daa520",darkgreen:"#006400",floralwhite:"#fffaf0",darkviolet:"#9400d3",darkgray:"#a9a9a9",moccasin:"#ffe4b5",saddlebrown:"#8b4513",grey:"#808080",darkslateblue:"#483d8b",lightskyblue:"#87cefa",lightpink:"#ffb6c1",mediumvioletred:"#c71585",slategrey:"#708090",red:"#ff0000",deeppink:"#ff1493",limegreen:"#32cd32",darkmagenta:"#8b008b",palegoldenrod:"#eee8aa",plum:"#dda0dd",turquoise:"#40e0d0",lightgrey:"#d3d3d3",lightgoldenrodyellow:"#fafad2",darkgoldenrod:"#b8860b",lavender:"#e6e6fa",maroon:"#800000",yellowgreen:"#9acd32",sandybrown:"#f4a460",thistle:"#d8bfd8",violet:"#ee82ee",navy:"#000080",magenta:"#ff00ff",dimgrey:"#696969",tan:"#d2b48c",rosybrown:"#bc8f8f",olivedrab:"#6b8e23",blue:"#0000ff",lightblue:"#add8e6",ghostwhite:"#f8f8ff",honeydew:"#f0fff0",cornflowerblue:"#6495ed",slateblue:"#6a5acd",linen:"#faf0e6",darkblue:"#00008b",powderblue:"#b0e0e6",seagreen:"#2e8b57",darkkhaki:"#bdb76b",snow:"#fffafa",sienna:"#a0522d",mediumblue:"#0000cd",royalblue:"#4169e1",lightcyan:"#e0ffff",green:"#008000",mediumpurple:"#9370db",midnightblue:"#191970",cornsilk:"#fff8dc",paleturquoise:"#afeeee",bisque:"#ffe4c4",slategray:"#708090",darkcyan:"#008b8b",khaki:"#f0e68c",wheat:"#f5deb3",teal:"#008080",darkorchid:"#9932cc",deepskyblue:"#00bfff",salmon:"#fa8072",darkred:"#8b0000",steelblue:"#4682b4",palevioletred:"#db7093",lightslategray:"#778899",aliceblue:"#f0f8ff",lightslategrey:"#778899",lightgreen:"#90ee90",orchid:"#da70d6",gainsboro:"#dcdcdc",mediumseagreen:"#3cb371",lightgray:"#d3d3d3",mediumturquoise:"#48d1cc",lemonchiffon:"#fffacd",cadetblue:"#5f9ea0",lightyellow:"#ffffe0",lavenderblush:"#fff0f5",coral:"#ff7f50",purple:"#800080",aqua:"#00ffff",whitesmoke:"#f5f5f5",mediumslateblue:"#7b68ee",darkorange:"#ff8c00",mediumaquamarine:"#66cdaa",darksalmon:"#e9967a",beige:"#f5f5dc",blueviolet:"#8a2be2",azure:"#f0ffff",lightsteelblue:"#b0c4de",oldlace:"#fdf5e6"},R=function(){var e,t,i,n,r;for(e={},r="Boolean Number String Function Array Date RegExp Undefined Null".split(" "),i=0,n=r.length;i<n;i++)t=r[i],e["[object "+t+"]"]=t.toLowerCase();return function(t){var i;return i=Object.prototype.toString.call(t),e[i]||"object"}}(),k=function(e,t,i){return null==t&&(t=0),null==i&&(i=1),e<t&&(e=t),e>i&&(e=i),e},j=function(e){return e.length>=3?e:e[0]},n=2*Math.PI,i=Math.PI/3,d=Math.cos,a=function(e){var t,i,n,r,s,o,l,c,h,d,f;return e=function(){var t,i,n;for(n=[],t=0,i=e.length;t<i;t++)r=e[t],n.push(u(r));return n}(),2===e.length?(h=function(){var t,i,n;for(n=[],t=0,i=e.length;t<i;t++)r=e[t],n.push(r.lab());return n}(),s=h[0],o=h[1],t=function(e){var t,i;return i=function(){var i,n;for(n=[],t=i=0;i<=2;t=++i)n.push(s[t]+e*(o[t]-s[t]));return n}(),u.lab.apply(u,i)}):3===e.length?(d=function(){var t,i,n;for(n=[],t=0,i=e.length;t<i;t++)r=e[t],n.push(r.lab());return n}(),s=d[0],o=d[1],l=d[2],t=function(e){var t,i;return i=function(){var i,n;for(n=[],t=i=0;i<=2;t=++i)n.push((1-e)*(1-e)*s[t]+2*(1-e)*e*o[t]+e*e*l[t]);return n}(),u.lab.apply(u,i)}):4===e.length?(f=function(){var t,i,n;for(n=[],t=0,i=e.length;t<i;t++)r=e[t],n.push(r.lab());return n}(),s=f[0],o=f[1],l=f[2],c=f[3],t=function(e){var t,i;return i=function(){var i,n;for(n=[],t=i=0;i<=2;t=++i)n.push((1-e)*(1-e)*(1-e)*s[t]+3*(1-e)*(1-e)*e*o[t]+3*(1-e)*e*e*l[t]+e*e*e*c[t]);return n}(),u.lab.apply(u,i)}):5===e.length&&(i=a(e.slice(0,3)),n=a(e.slice(2,5)),t=function(e){return e<.5?i(2*e):n(2*(e-.5))}),t},u.interpolate.bezier=a}.call(this),function(e){"use strict";var t={},i=function(e){var n,r,s,o,a;i.classes.dispatcher.extend(this);var l=this,u=e||{};if("string"==typeof u||u instanceof HTMLElement?u={renderers:[u]}:"[object Array]"===Object.prototype.toString.call(u)&&(u={renderers:u}),o=u.renderers||u.renderer||u.container,u.renderers&&0!==u.renderers.length||("string"==typeof o||o instanceof HTMLElement||"object"==typeof o&&"container"in o)&&(u.renderers=[o]),u.id){if(t[u.id])throw'sigma: Instance "'+u.id+'" already exists.';Object.defineProperty(this,"id",{value:u.id})}else{for(a=0;t[a];)a++;Object.defineProperty(this,"id",{value:""+a})}for(t[this.id]=this,this.settings=new i.classes.configurable(i.settings,u.settings||{}),Object.defineProperty(this,"graph",{value:new i.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),Object.defineProperty(this,"camera",{get:function(){return this.cameras[0]}}),Object.defineProperty(this,"events",{value:["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","doubleClickNode","doubleClickNodes","rightClickNode","rightClickNodes","overNode","overNodes","outNode","outNodes","downNode","downNodes","upNode","upNodes"],configurable:!0}),this._handler=function(e){var t,i={};for(t in e.data)i[t]=e.data[t];i.renderer=e.target,this.dispatchEvent(e.type,i)}.bind(this),s=u.renderers||[],n=0,r=s.length;n<r;n++)this.addRenderer(s[n]);for(s=u.middlewares||[],n=0,r=s.length;n<r;n++)this.middlewares.push("string"==typeof s[n]?i.middlewares[s[n]]:s[n]);"object"==typeof u.graph&&u.graph&&(this.graph.read(u.graph),this.refresh()),window.addEventListener("resize",function(){l.settings&&l.refresh()})};if(i.prototype.addCamera=function(t){var n,r=this;if(!arguments.length){for(t=0;this.cameras[""+t];)t++;t=""+t}if(this.cameras[t])throw'sigma.addCamera: The camera "'+t+'" already exists.';return n=new i.classes.camera(t,this.graph,this.settings),this.cameras[t]=n,n.quadtree=new i.classes.quad,i.classes.edgequad!==e&&(n.edgequadtree=new i.classes.edgequad),n.bind("coordinatesUpdated",function(e){r.renderCamera(n,n.isAnimated)}),this.renderersPerCamera[t]=[],n},i.prototype.killCamera=function(e){if(e="string"==typeof e?this.cameras[e]:e,!e)throw"sigma.killCamera: The camera is undefined.";var t,i,n=this.renderersPerCamera[e.id];for(i=n.length,t=i-1;t>=0;t--)this.killRenderer(n[t]);return delete this.renderersPerCamera[e.id],delete this.cameraFrames[e.id],delete this.cameras[e.id],e.kill&&e.kill(),this},i.prototype.addRenderer=function(e){var t,n,r,s,o=e||{};if("string"==typeof o?o={container:document.getElementById(o)}:o instanceof HTMLElement&&(o={container:o}),"string"==typeof o.container&&(o.container=document.getElementById(o.container)),"id"in o)t=o.id;else{for(t=0;this.renderers[""+t];)t++;t=""+t}if(this.renderers[t])throw'sigma.addRenderer: The renderer "'+t+'" already exists.';if(n="function"==typeof o.type?o.type:i.renderers[o.type],n=n||i.renderers.def,r="camera"in o?o.camera instanceof i.classes.camera?o.camera:this.cameras[o.camera]||this.addCamera(o.camera):this.addCamera(),this.cameras[r.id]!==r)throw"sigma.addRenderer: The camera is not properly referenced.";return s=new n(this.graph,r,this.settings,o),this.renderers[t]=s,Object.defineProperty(s,"id",{value:t}),s.bind&&s.bind(["click","rightClick","clickStage","doubleClickStage","rightClickStage","clickNode","clickNodes","clickEdge","clickEdges","doubleClickNode","doubleClickNodes","doubleClickEdge","doubleClickEdges","rightClickNode","rightClickNodes","rightClickEdge","rightClickEdges","overNode","overNodes","overEdge","overEdges","outNode","outNodes","outEdge","outEdges","downNode","downNodes","downEdge","downEdges","upNode","upNodes","upEdge","upEdges"],this._handler),this.renderersPerCamera[r.id].push(s),s},i.prototype.killRenderer=function(e){if(e="string"==typeof e?this.renderers[e]:e,!e)throw"sigma.killRenderer: The renderer is undefined.";var t=this.renderersPerCamera[e.camera.id],i=t.indexOf(e);return i>=0&&t.splice(i,1),e.kill&&e.kill(),delete this.renderers[e.id],this},i.prototype.refresh=function(t){var n,r,s,o,a,l,u=0;for(t=t||{},o=this.middlewares||[],n=0,r=o.length;n<r;n++)o[n].call(this,0===n?"":"tmp"+u+":",n===r-1?"ready:":"tmp"+ ++u+":");for(s in this.cameras)a=this.cameras[s],a.settings("autoRescale")&&this.renderersPerCamera[a.id]&&this.renderersPerCamera[a.id].length?i.middlewares.rescale.call(this,o.length?"ready:":"",a.readPrefix,{width:this.renderersPerCamera[a.id][0].width,height:this.renderersPerCamera[a.id][0].height}):i.middlewares.copy.call(this,o.length?"ready:":"",a.readPrefix),t.skipIndexation||(l=i.utils.getBoundaries(this.graph,a.readPrefix),a.quadtree.index(this.graph.nodes(),{prefix:a.readPrefix,bounds:{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}),a.edgequadtree!==e&&a.settings("drawEdges")&&a.settings("enableEdgeHovering")&&a.edgequadtree.index(this.graph,{prefix:a.readPrefix,bounds:{x:l.minX,y:l.minY,width:l.maxX-l.minX,height:l.maxY-l.minY}}));for(o=Object.keys(this.renderers),n=0,r=o.length;n<r;n++)if(this.renderers[o[n]].process)if(this.settings("skipErrors"))try{this.renderers[o[n]].process()}catch(c){console.log('Warning: The renderer "'+o[n]+'" crashed on ".process()"')}else this.renderers[o[n]].process();return this.render(),this},i.prototype.render=function(){var e,t,i;for(i=Object.keys(this.renderers),e=0,t=i.length;e<t;e++)if(this.settings("skipErrors"))try{this.renderers[i[e]].render()}catch(n){this.settings("verbose")&&console.log('Warning: The renderer "'+i[e]+'" crashed on ".render()"')}else this.renderers[i[e]].render();return this},i.prototype.renderCamera=function(e,t){var i,n,r,s=this;if(t)for(r=this.renderersPerCamera[e.id],i=0,n=r.length;i<n;i++)if(this.settings("skipErrors"))try{r[i].render()}catch(o){this.settings("verbose")&&console.log('Warning: The renderer "'+r[i].id+'" crashed on ".render()"')}else r[i].render();else if(!this.cameraFrames[e.id]){for(r=this.renderersPerCamera[e.id],i=0,n=r.length;i<n;i++)if(this.settings("skipErrors"))try{r[i].render()}catch(o){this.settings("verbose")&&console.log('Warning: The renderer "'+r[i].id+'" crashed on ".render()"')}else r[i].render();this.cameraFrames[e.id]=requestAnimationFrame(function(){delete s.cameraFrames[e.id]})}return this},i.prototype.kill=function(){var e;this.dispatchEvent("kill"),this.graph.kill(),delete this.middlewares;for(e in this.renderers)this.killRenderer(this.renderers[e]);for(e in this.cameras)this.killCamera(this.cameras[e]);delete this.renderers,delete this.cameras;for(e in this)this.hasOwnProperty(e)&&delete this[e];delete t[this.id]},i.instances=function(e){return arguments.length?t[e]:i.utils.extend({},t)},i.version="1.0.3","undefined"!=typeof this.sigma)throw"An object called sigma is already in the global scope.";this.sigma=i}.call(this),function(e){"use strict";function t(e,i){var n,r,s,o;if(arguments.length)if(1===arguments.length&&Object(arguments[0])===arguments[0])for(e in arguments[0])t(e,arguments[0][e]);else if(arguments.length>1)for(o=Array.isArray(e)?e:e.split(/ /),n=0,r=o.length;n!==r;n+=1)s=o[n],N[s]||(N[s]=[]),N[s].push({handler:i})}function i(e,t){var i,n,r,s,o,a,l=Array.isArray(e)?e:e.split(/ /);if(arguments.length)if(t)for(i=0,n=l.length;i!==n;i+=1){if(a=l[i],N[a]){for(o=[],r=0,s=N[a].length;r!==s;r+=1)N[a][r].handler!==t&&o.push(N[a][r]);N[a]=o}N[a]&&0===N[a].length&&delete N[a]}else for(i=0,n=l.length;i!==n;i+=1)delete N[l[i]];else N=Object.create(null)}function n(e,t){var i,n,r,s,o,a,l=Array.isArray(e)?e:e.split(/ /);for(t=void 0===t?{}:t,i=0,r=l.length;i!==r;i+=1)if(a=l[i],N[a])for(o={type:a,data:t||{}},n=0,s=N[a].length;n!==s;n+=1)try{N[a][n].handler(o)}catch(u){}}function r(){var e,t,i,n,r=!1,s=v(),o=k.shift();if(i=o.job(),s=v()-s,o.done++,o.time+=s,o.currentTime+=s,o.weightTime=o.currentTime/(o.weight||1),o.averageTime=o.time/o.done,n=o.count?o.count<=o.done:!i,!n){for(e=0,t=k.length;e<t;e++)if(k[e].weightTime>o.weightTime){k.splice(e,0,o),r=!0;break}r||k.push(o)}return n?o:null}function s(e){var t=k.length;E[e.id]=e,e.status="running",t&&(e.weightTime=k[t-1].weightTime,e.currentTime=e.weightTime*(e.weight||1)),e.startTime=v(),n("jobStarted",m(e)),k.push(e)}function o(){var e,t,i;for(e in w)t=w[e],t.after?S[e]=t:s(t),delete w[e];for(x=!!k.length;k.length&&v()-b<C.frameDuration;)if(i=r()){l(i.id);for(e in S)S[e].after===i.id&&(s(S[e]),delete S[e])}x?(b=v(),n("enterFrame"),setTimeout(o,0)):n("stop")}function a(e,t){var i,r,s;if(Array.isArray(e)){for(A=!0,i=0,r=e.length;i<r;i++)a(e[i].id,g(e[i],t));A=!1,x||(b=v(),n("start"),o())}else if("object"==typeof e)if("string"==typeof e.id)a(e.id,e);else{A=!0;for(i in e)"function"==typeof e[i]?a(i,g({job:e[i]},t)):a(i,g(e[i],t));A=!1,x||(b=v(),n("start"),o())}else{if("string"!=typeof e)throw new Error("[conrad.addJob] Wrong arguments.");if(c(e))throw new Error('[conrad.addJob] Job with id "'+e+'" already exists.');if("function"==typeof t)s={id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:t};else{if("object"!=typeof t)throw new Error("[conrad.addJob] Wrong arguments.");s=g({id:e,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},t)}w[e]=s,n("jobAdded",m(s)),x||A||(b=v(),n("start"),o())}return this}function l(e){var t,i,r,s,o=!1;if(Array.isArray(e))for(t=0,i=e.length;t<i;t++)l(e[t]);else{if("string"!=typeof e)throw new Error("[conrad.killJob] Wrong arguments.");for(r=[E,S,w],t=0,i=r.length;t<i;t++)e in r[t]&&(s=r[t][e],C.history&&(s.status="done",T.push(s)),n("jobEnded",m(s)),delete r[t][e],"function"==typeof s.end&&s.end(),o=!0);for(r=k,t=0,i=r.length;t<i;t++)if(r[t].id===e){r.splice(t,1);break}if(!o)throw new Error('[conrad.killJob] Job "'+e+'" not found.')}return this}function u(){var e,t=g(w,E,S);if(C.history)for(e in t)t[e].status="done",T.push(t[e]),"function"==typeof t[e].end&&t[e].end();return w={},S={},E={},k=[],x=!1,this}function c(e){var t=w[e]||E[e]||S[e];return t?g(t):null}function h(e,t){var i;if("string"==typeof a1&&1===arguments.length)return C[a1];i="object"==typeof a1&&1===arguments.length?a1||{}:{},"string"==typeof a1&&(i[a1]=a2);for(var n in i)void 0!==i[n]?C[n]=i[n]:delete C[n];return this}function d(){return x}function f(){return T=[],this}function p(e,t){var i,n,r,s,o,a,l;if(!arguments.length){o=[];for(n in w)o.push(w[n]);for(n in S)o.push(S[n]);for(n in E)o.push(E[n]);o=o.concat(T)}if("string"==typeof e)switch(e){case"waiting":o=y(S);break;case"running":o=y(E);break;case"done":o=T;break;default:a=e}if(e instanceof RegExp&&(a=e),!a&&("string"==typeof t||t instanceof RegExp)&&(a=t),a){if(l="string"==typeof a,o instanceof Array)i=o;else if("object"==typeof o){i=[];for(n in o)i=i.concat(o[n])}else{i=[];for(n in w)i.push(w[n]);for(n in S)i.push(S[n]);for(n in E)i.push(E[n]);i=i.concat(T)}for(o=[],r=0,s=i.length;r<s;r++)(l?i[r].id===a:i[r].id.match(a))&&o.push(i[r])}return m(o)}function g(){var e,t,i={},n=arguments.length;for(e=n-1;e>=0;e--)for(t in arguments[e])i[t]=arguments[e][t];return i}function m(e){var t,i,n;if(!e)return e;if(Array.isArray(e))for(t=[],i=0,n=e.length;i<n;i++)t.push(m(e[i]));else if("object"==typeof e){t={};for(i in e)t[i]=m(e[i])}else t=e;return t}function y(e){var t,i=[];for(t in e)i.push(e[t]);return i}function v(){return Date.now?Date.now():(new Date).getTime()}if(e.conrad)throw new Error("conrad already exists");var b,x=!1,w={},E={},k=[],S={},T=[],A=!1,C={frameDuration:20,history:!0},N=Object.create(null);Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var _={hasJob:c,addJob:a,killJob:l,killAll:u,settings:h,getStats:p,isRunning:d,clearHistory:f,bind:t,unbind:i,version:"0.1.0"};"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=_),exports.conrad=_),e.conrad=_}(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var t=this;sigma.utils=sigma.utils||{},sigma.utils.extend=function(){var e,t,i={},n=arguments.length;for(e=n-1;e>=0;e--)for(t in arguments[e])i[t]=arguments[e][t];return i},sigma.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},sigma.utils.pkg=function(e){return(e||"").split(".").reduce(function(e,t){return t in e?e[t]:e[t]={}},t)},sigma.utils.id=function(){var e=0;return function(){return++e}}(),sigma.utils.floatColor=function(e){var t=[0,0,0];return e.match(/^#/)?(e=(e||"").replace(/^#/,""),t=3===e.length?[parseInt(e.charAt(0)+e.charAt(0),16),parseInt(e.charAt(1)+e.charAt(1),16),parseInt(e.charAt(2)+e.charAt(2),16)]:[parseInt(e.charAt(0)+e.charAt(1),16),parseInt(e.charAt(2)+e.charAt(3),16),parseInt(e.charAt(4)+e.charAt(5),16)]):e.match(/^ *rgba? *\(/)&&(e=e.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),t=[+e[1],+e[2],+e[3]]),256*t[0]*256+256*t[1]+t[2]},sigma.utils.zoomTo=function(e,t,i,n,r){var s,o,a,l=e.settings;o=Math.max(l("zoomMin"),Math.min(l("zoomMax"),e.ratio*n)),o!==e.ratio&&(n=o/e.ratio,a={x:t*(1-n)+e.x,y:i*(1-n)+e.y,ratio:o},r&&r.duration?(s=sigma.misc.animation.killAll(e),r=sigma.utils.extend(r,{easing:s?"quadraticOut":"quadraticInOut"}),sigma.misc.animation.camera(e,a,r)):(e.goTo(a),r&&r.onComplete&&r.onComplete()))},sigma.utils.getQuadraticControlPoint=function(e,t,i,n){return{x:(e+i)/2+(n-t)/4,y:(t+n)/2+(e-i)/4}},sigma.utils.getPointOnQuadraticCurve=function(e,t,i,n,r,s,o){return{x:Math.pow(1-e,2)*t+2*(1-e)*e*s+Math.pow(e,2)*n,y:Math.pow(1-e,2)*i+2*(1-e)*e*o+Math.pow(e,2)*r}},sigma.utils.getPointOnBezierCurve=function(e,t,i,n,r,s,o,a,l){var u=Math.pow(1-e,3),c=3*e*Math.pow(1-e,2),h=3*Math.pow(e,2)*(1-e),d=Math.pow(e,3);return{x:u*t+c*s+h*a+d*n,y:u*i+c*o+h*l+d*r}},sigma.utils.getSelfLoopControlPoints=function(e,t,i){return{x1:e-7*i,y1:t,x2:e,y2:t+7*i}},sigma.utils.getDistance=function(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))},sigma.utils.getCircleIntersection=function(e,t,i,n,r,s){var o,a,l,u,c,h,d,f,p;if(a=n-e,l=r-t,u=Math.sqrt(l*l+a*a),u>i+s)return!1;if(u<Math.abs(i-s))return!1;o=(i*i-s*s+u*u)/(2*u),f=e+a*o/u,p=t+l*o/u,c=Math.sqrt(i*i-o*o),h=-l*(c/u),d=a*(c/u);var g=f+h,m=f-h,y=p+d,v=p-d;return{xi:g,xi_prime:m,yi:y,yi_prime:v}},sigma.utils.isPointOnSegment=function(e,t,i,n,r,s,o){var a=Math.abs((t-n)*(r-i)-(e-i)*(s-n)),l=sigma.utils.getDistance(i,n,r,s),u=a/l;return u<o&&Math.min(i,r)<=e&&e<=Math.max(i,r)&&Math.min(n,s)<=t&&t<=Math.max(n,s)},sigma.utils.isPointOnQuadraticCurve=function(e,t,i,n,r,s,o,a,l){var u=sigma.utils.getDistance(i,n,r,s);if(Math.abs(e-i)>u||Math.abs(t-n)>u)return!1;for(var c,h=sigma.utils.getDistance(e,t,i,n),d=sigma.utils.getDistance(e,t,r,s),f=.5,p=h<d?-.01:.01,g=.001,m=100,y=sigma.utils.getPointOnQuadraticCurve(f,i,n,r,s,o,a),v=sigma.utils.getDistance(e,t,y.x,y.y);m-- >0&&f>=0&&f<=1&&v>l&&(p>g||p<-g);)c=v,y=sigma.utils.getPointOnQuadraticCurve(f,i,n,r,s,o,a),v=sigma.utils.getDistance(e,t,y.x,y.y),v>c?(p=-p/2,f+=p):f+p<0||f+p>1?(p/=2,v=c):f+=p;return v<l},sigma.utils.isPointOnBezierCurve=function(e,t,i,n,r,s,o,a,l,u,c){var h=sigma.utils.getDistance(i,n,o,a);if(Math.abs(e-i)>h||Math.abs(t-n)>h)return!1;for(var d,f=sigma.utils.getDistance(e,t,i,n),p=sigma.utils.getDistance(e,t,r,s),g=.5,m=f<p?-.01:.01,y=.001,v=100,b=sigma.utils.getPointOnBezierCurve(g,i,n,r,s,o,a,l,u),x=sigma.utils.getDistance(e,t,b.x,b.y);v-- >0&&g>=0&&g<=1&&x>c&&(m>y||m<-y);)d=x,b=sigma.utils.getPointOnBezierCurve(g,i,n,r,s,o,a,l,u),x=sigma.utils.getDistance(e,t,b.x,b.y),x>d?(m=-m/2,g+=m):g+m<0||g+m>1?(m/=2,x=d):g+=m;return x<c},sigma.utils.getX=function(t){return t.offsetX!==e&&t.offsetX||t.layerX!==e&&t.layerX||t.clientX!==e&&t.clientX},sigma.utils.getY=function(t){return t.offsetY!==e&&t.offsetY||t.layerY!==e&&t.layerY||t.clientY!==e&&t.clientY},sigma.utils.getWidth=function(t){var i=t.target.ownerSVGElement?t.target.ownerSVGElement.width:t.target.width;return"number"==typeof i&&i||i!==e&&i.baseVal!==e&&i.baseVal.value},sigma.utils.getHeight=function(t){var i=t.target.ownerSVGElement?t.target.ownerSVGElement.height:t.target.height;return"number"==typeof i&&i||i!==e&&i.baseVal!==e&&i.baseVal.value},sigma.utils.getDelta=function(t){return t.wheelDelta!==e&&t.wheelDelta||t.detail!==e&&-t.detail},sigma.utils.getOffset=function(e){for(var t=0,i=0;e;)i+=parseInt(e.offsetTop),t+=parseInt(e.offsetLeft),e=e.offsetParent;return{top:i,left:t}},sigma.utils.doubleClick=function(e,t,i){var n,r=0;e._doubleClickHandler=e._doubleClickHandler||{},e._doubleClickHandler[t]=e._doubleClickHandler[t]||[],n=e._doubleClickHandler[t],n.push(function(e){return r++,2===r?(r=0,i(e)):void(1===r&&setTimeout(function(){r=0},sigma.settings.doubleClickTimeout))}),e.addEventListener(t,n[n.length-1],!1)},sigma.utils.unbindDoubleClick=function(e,t){for(var i,n=(e._doubleClickHandler||{})[t]||[];i=n.pop();)e.removeEventListener(t,i);delete(e._doubleClickHandler||{})[t]},sigma.utils.easings=sigma.utils.easings||{},sigma.utils.easings.linearNone=function(e){return e},sigma.utils.easings.quadraticIn=function(e){return e*e},sigma.utils.easings.quadraticOut=function(e){return e*(2-e)},sigma.utils.easings.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},sigma.utils.easings.cubicIn=function(e){return e*e*e},sigma.utils.easings.cubicOut=function(e){return--e*e*e+1},sigma.utils.easings.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},sigma.utils.loadShader=function(e,t,i,n){var r,s=e.createShader(i);return e.shaderSource(s,t),e.compileShader(s),r=e.getShaderParameter(s,e.COMPILE_STATUS),r?s:(n&&n('Error compiling shader "'+s+'":'+e.getShaderInfoLog(s)),e.deleteShader(s),null)},sigma.utils.loadProgram=function(e,t,i,n,r){var s,o,a=e.createProgram();for(s=0;s<t.length;++s)e.attachShader(a,t[s]);if(i)for(s=0;s<i.length;++s)e.bindAttribLocation(a,locations?locations[s]:s,opt_attribs[s]);return e.linkProgram(a),o=e.getProgramParameter(a,e.LINK_STATUS),o?a:(r&&r("Error in program linking: "+e.getProgramInfoLog(a)),e.deleteProgram(a),null)},sigma.utils.pkg("sigma.utils.matrices"),sigma.utils.matrices.translation=function(e,t){return[1,0,0,0,1,0,e,t,1]},sigma.utils.matrices.rotation=function(e,t){var i=Math.cos(e),n=Math.sin(e);return t?[i,-n,n,i]:[i,-n,0,n,i,0,0,0,1]},sigma.utils.matrices.scale=function(e,t){return t?[e,0,0,e]:[e,0,0,0,e,0,0,0,1]},sigma.utils.matrices.multiply=function(e,t,i){var n=i?2:3,r=e[0*n+0],s=e[0*n+1],o=e[0*n+2],a=e[1*n+0],l=e[1*n+1],u=e[1*n+2],c=e[2*n+0],h=e[2*n+1],d=e[2*n+2],f=t[0*n+0],p=t[0*n+1],g=t[0*n+2],m=t[1*n+0],y=t[1*n+1],v=t[1*n+2],b=t[2*n+0],x=t[2*n+1],w=t[2*n+2];return i?[r*f+s*m,r*p+s*y,a*f+l*m,a*p+l*y]:[r*f+s*m+o*b,r*p+s*y+o*x,r*g+s*v+o*w,a*f+l*m+u*b,a*p+l*y+u*x,a*g+l*v+u*w,c*f+h*m+d*b,c*p+h*y+d*x,c*g+h*v+d*w]}}.call(this),function(e){"use strict";var t,i=0,n=["ms","moz","webkit","o"];for(t=0;t<n.length&&!e.requestAnimationFrame;t++)e.requestAnimationFrame=e[n[t]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[t]+"CancelAnimationFrame"]||e[n[t]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),s=Math.max(0,16-(r-i)),o=e.setTimeout(function(){t(r+s)},s);return i=r+s,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)}),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t,i,n=Array.prototype.slice.call(arguments,1),r=this;return t=function(){},i=function(){return r.apply(this instanceof t&&e?this:e,n.concat(Array.prototype.slice.call(arguments)))},t.prototype=this.prototype,i.prototype=new t,i})}(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.settings");var t={clone:!0,immutable:!0,verbose:!1,classPrefix:"sigma",defaultNodeType:"def",defaultEdgeType:"def",defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:14,edgeColor:"source",minArrowSize:0,font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,webglOversamplingRatio:2,borderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",singleHover:!1,hoverFontStyle:"",labelHoverShadow:"default",labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",edgeHoverColor:"edge",edgeHoverSizeRatio:1,defaultEdgeHoverColor:"#000",edgeHoverExtremities:!1,drawEdges:!0,drawNodes:!0,drawLabels:!0,drawEdgeLabels:!1,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,touchEnabled:!0,mouseEnabled:!0,mouseWheelEnabled:!0,doubleClickEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoResize:!0,autoRescale:!0,enableCamera:!0,enableHovering:!0,enableEdgeHovering:!1,edgeHoverPrecision:5,rescaleIgnoreSize:!1,skipErrors:!1,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200};sigma.settings=sigma.utils.extend(sigma.settings||{},t)}.call(this),function(){"use strict";var e=function(){Object.defineProperty(this,"_handlers",{value:{}})};e.prototype.bind=function(e,t){var i,n,r,s;if(1===arguments.length&&"object"==typeof arguments[0])for(e in arguments[0])this.bind(e,arguments[0][e]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";for(s="string"==typeof e?e.split(" "):e,i=0,n=s.length;i!==n;i+=1)r=s[i],r&&(this._handlers[r]||(this._handlers[r]=[]),this._handlers[r].push({handler:t}))}return this},e.prototype.unbind=function(e,t){var i,n,r,s,o,a,l,u="string"==typeof e?e.split(" "):e;if(!arguments.length){for(o in this._handlers)delete this._handlers[o];return this}if(t)for(i=0,n=u.length;i!==n;i+=1){if(l=u[i],this._handlers[l]){for(a=[],r=0,s=this._handlers[l].length;r!==s;r+=1)this._handlers[l][r].handler!==t&&a.push(this._handlers[l][r]);this._handlers[l]=a}this._handlers[l]&&0===this._handlers[l].length&&delete this._handlers[l]}else for(i=0,n=u.length;i!==n;i+=1)delete this._handlers[u[i]];return this},e.prototype.dispatchEvent=function(e,t){var i,n,r,s,o,a,l,u=this,c="string"==typeof e?e.split(" "):e;for(t=void 0===t?{}:t,i=0,n=c.length;i!==n;i+=1)if(l=c[i],this._handlers[l]){for(a=u.getEvent(l,t),o=[],r=0,s=this._handlers[l].length;r!==s;r+=1)this._handlers[l][r].handler(a),this._handlers[l][r].one||o.push(this._handlers[l][r]);this._handlers[l]=o}return this},e.prototype.getEvent=function(e,t){return{type:e,data:t||{},target:this}},e.extend=function(t,i){var n;for(n in e.prototype)e.prototype.hasOwnProperty(n)&&(t[n]=e.prototype[n]);e.apply(t,i)},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=e):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.dispatcher=e):this.dispatcher=e}.call(this),function(){"use strict";var e=function(){var t,i,n={},r=Array.prototype.slice.call(arguments,0),s=function(e,o){var a,l;{if(1!==arguments.length||"string"!=typeof e){if("object"==typeof e&&"string"==typeof o)return o in(e||{})?e[o]:s(o);a="object"==typeof e&&void 0===o?e:{},"string"==typeof e&&(a[e]=o);for(l in a)n[l]=a[l];return this}if(e in n&&void 0!==n[e])return n[e];for(t=0,i=r.length;t<i;t++)if(e in r[t]&&void 0!==r[t][e])return r[t][e]}};for(s.embedObjects=function(){var t=r.concat(n).concat(Array.prototype.splice.call(arguments,0));return e.apply({},t)},t=0,i=arguments.length;t<i;t++)s(arguments[t]);return s};"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=e):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.configurable=e):this.configurable=e}.call(this),function(e){"use strict";function t(e,t,i){var n=function(){var n,r;for(n in o[e])o[e][n].apply(t,arguments);r=i.apply(t,arguments);for(n in s[e])s[e][n].apply(t,arguments);return r};return n}var i=Object.create(null),n=Object.create(null),r=Object.create(null),s=Object.create(null),o=Object.create(null),a={immutable:!0,clone:!0},l=function(e){return a[e]},u=function(e){var n,s,o;o={settings:e||l,nodesArray:[],edgesArray:[],nodesIndex:Object.create(null),edgesIndex:Object.create(null),inNeighborsCount:Object.create(null),outNeighborsCount:Object.create(null),allNeighborsCount:Object.create(null)};for(n in r)r[n].call(o);for(n in i)s=t(n,o,i[n]),this[n]=s,o[n]=s};sigma.utils.emptyObject=function(e){var t;for(t in e)"hasOwnProperty"in e&&!e.hasOwnProperty(t)||delete e[t];return e},u.addMethod=function(e,t){if("string"!=typeof e||"function"!=typeof t||2!==arguments.length)throw"addMethod: Wrong arguments.";if(i[e]||u[e])throw'The method "'+e+'" already exists.';return i[e]=t,s[e]=Object.create(null),o[e]=Object.create(null),this},u.hasMethod=function(e){return!(!i[e]&&!u[e])},u.attach=function(e,t,i,n){if("string"!=typeof e||"string"!=typeof t||"function"!=typeof i||arguments.length<3||arguments.length>4)throw"attach: Wrong arguments.";var a;if("constructor"===e)a=r;else if(n){
if(!o[e])throw'The method "'+e+'" does not exist.';a=o[e]}else{if(!s[e])throw'The method "'+e+'" does not exist.';a=s[e]}if(a[t])throw'A function "'+t+'" is already attached to the method "'+e+'".';return a[t]=i,this},u.attachBefore=function(e,t,i){return this.attach(e,t,i,!0)},u.addIndex=function(e,t){if("string"!=typeof e||Object(t)!==t||2!==arguments.length)throw"addIndex: Wrong arguments.";if(n[e])throw'The index "'+e+'" already exists.';var i;n[e]=t;for(i in t)if("object"==typeof t[i])u.attach(i,e,t[i].fn,t[i].before);else{if("function"!=typeof t[i])throw"The bindings must be functions.";u.attach(i,e,t[i])}return this},u.addMethod("addNode",function(e){if(Object(e)!==e||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof e.id&&"number"!=typeof e.id)throw"The node must have a string or number id.";if(this.nodesIndex[e.id])throw'The node "'+e.id+'" already exists.';var t,i=e.id,n=Object.create(null);if(this.settings("clone"))for(t in e)"id"!==t&&(n[t]=e[t]);else n=e;return this.settings("immutable")?Object.defineProperty(n,"id",{value:i,enumerable:!0}):n.id=i,this.inNeighborsCount[i]=0,this.outNeighborsCount[i]=0,this.allNeighborsCount[i]=0,this.nodesArray.push(n),this.nodesIndex[n.id]=n,this}),u.addMethod("addEdge",function(e){if(Object(e)!==e||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof e.id&&"number"!=typeof e.id)throw"The edge must have a string or number id.";if("string"!=typeof e.source&&"number"!=typeof e.source||!this.nodesIndex[e.source])throw"The edge source must have an existing node id.";if("string"!=typeof e.target&&"number"!=typeof e.target||!this.nodesIndex[e.target])throw"The edge target must have an existing node id.";if(this.edgesIndex[e.id])throw'The edge "'+e.id+'" already exists.';var t,i=Object.create(null);if(this.settings("clone"))for(t in e)"id"!==t&&"source"!==t&&"target"!==t&&(i[t]=e[t]);else i=e;return this.settings("immutable")?(Object.defineProperty(i,"id",{value:e.id,enumerable:!0}),Object.defineProperty(i,"source",{value:e.source,enumerable:!0}),Object.defineProperty(i,"target",{value:e.target,enumerable:!0})):(i.id=e.id,i.source=e.source,i.target=e.target),this.edgesArray.push(i),this.edgesIndex[i.id]=i,this.inNeighborsCount[i.target]++,this.outNeighborsCount[i.source]++,this.allNeighborsCount[i.target]++,this.allNeighborsCount[i.source]++,this}),u.addMethod("dropNode",function(e){if("string"!=typeof e&&"number"!=typeof e||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex[e])throw'The node "'+e+'" does not exist.';var t,i;for(delete this.nodesIndex[e],t=0,i=this.nodesArray.length;t<i;t++)if(this.nodesArray[t].id===e){this.nodesArray.splice(t,1);break}for(t=this.edgesArray.length-1;t>=0;t--)this.edgesArray[t].source!==e&&this.edgesArray[t].target!==e||this.dropEdge(this.edgesArray[t].id);return delete this.inNeighborsCount[e],delete this.outNeighborsCount[e],delete this.allNeighborsCount[e],this}),u.addMethod("dropEdge",function(e){if("string"!=typeof e&&"number"!=typeof e||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex[e])throw'The edge "'+e+'" does not exist.';var t,i,n;for(n=this.edgesIndex[e],delete this.edgesIndex[e],t=0,i=this.edgesArray.length;t<i;t++)if(this.edgesArray[t].id===e){this.edgesArray.splice(t,1);break}return this.inNeighborsCount[n.target]--,this.outNeighborsCount[n.source]--,this.allNeighborsCount[n.source]--,this.allNeighborsCount[n.target]--,this}),u.addMethod("kill",function(){this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsCount,delete this.outNeighborsCount,delete this.allNeighborsCount}),u.addMethod("clear",function(){return this.nodesArray.length=0,this.edgesArray.length=0,sigma.utils.emptyObject(this.nodesIndex),sigma.utils.emptyObject(this.edgesIndex),sigma.utils.emptyObject(this.nodesIndex),sigma.utils.emptyObject(this.inNeighborsCount),sigma.utils.emptyObject(this.outNeighborsCount),sigma.utils.emptyObject(this.allNeighborsCount),this}),u.addMethod("read",function(e){var t,i,n;for(i=e.nodes||[],t=0,n=i.length;t<n;t++)this.addNode(i[t]);for(i=e.edges||[],t=0,n=i.length;t<n;t++)this.addEdge(i[t]);return this}),u.addMethod("nodes",function(e){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&("string"==typeof e||"number"==typeof e))return this.nodesIndex[e];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(e)){var t,i,n=[];for(t=0,i=e.length;t<i;t++){if("string"!=typeof e[t]&&"number"!=typeof e[t])throw"nodes: Wrong arguments.";n.push(this.nodesIndex[e[t]])}return n}throw"nodes: Wrong arguments."}),u.addMethod("degree",function(e,t){if(t={"in":this.inNeighborsCount,out:this.outNeighborsCount}[t||""]||this.allNeighborsCount,"string"==typeof e||"number"==typeof e)return t[e];if("[object Array]"===Object.prototype.toString.call(e)){var i,n,r=[];for(i=0,n=e.length;i<n;i++){if("string"!=typeof e[i]&&"number"!=typeof e[i])throw"degree: Wrong arguments.";r.push(t[e[i]])}return r}throw"degree: Wrong arguments."}),u.addMethod("edges",function(e){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&("string"==typeof e||"number"==typeof e))return this.edgesIndex[e];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(e)){var t,i,n=[];for(t=0,i=e.length;t<i;t++){if("string"!=typeof e[t]&&"number"!=typeof e[t])throw"edges: Wrong arguments.";n.push(this.edgesIndex[e[t]])}return n}throw"edges: Wrong arguments."}),"undefined"!=typeof sigma?(sigma.classes=sigma.classes||Object.create(null),sigma.classes.graph=u):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=u),exports.graph=u):this.graph=u}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.classes"),sigma.classes.camera=function(e,t,i,n){sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:t}),Object.defineProperty(this,"id",{value:e}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+e+":"}),Object.defineProperty(this,"prefix",{value:"cam"+e+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof n&&n?i.embedObject(n):i},sigma.classes.camera.prototype.goTo=function(t){if(!this.settings("enableCamera"))return this;var i,n,r=t||{},s=["x","y","ratio","angle"];for(i=0,n=s.length;i<n;i++)if(r[s[i]]!==e){if("number"!=typeof r[s[i]]||isNaN(r[s[i]]))throw'Value for "'+s[i]+'" is not a number.';this[s[i]]=r[s[i]]}return this.dispatchEvent("coordinatesUpdated"),this},sigma.classes.camera.prototype.applyView=function(t,i,n){n=n||{},i=i!==e?i:this.prefix,t=t!==e?t:this.readPrefix;var r,s,o,a=n.nodes||this.graph.nodes(),l=n.edges||this.graph.edges(),u=Math.cos(this.angle),c=Math.sin(this.angle);for(r=0,s=a.length;r<s;r++)o=a[r],o[i+"x"]=(((o[t+"x"]||0)-this.x)*u+((o[t+"y"]||0)-this.y)*c)/this.ratio+(n.width||0)/2,o[i+"y"]=(((o[t+"y"]||0)-this.y)*u-((o[t+"x"]||0)-this.x)*c)/this.ratio+(n.height||0)/2,o[i+"size"]=(o[t+"size"]||0)/Math.pow(this.ratio,this.settings("nodesPowRatio"));for(r=0,s=l.length;r<s;r++)l[r][i+"size"]=(l[r][t+"size"]||0)/Math.pow(this.ratio,this.settings("edgesPowRatio"));return this},sigma.classes.camera.prototype.graphPosition=function(e,t,i){var n=0,r=0,s=Math.cos(this.angle),o=Math.sin(this.angle);return i||(n=-(this.x*s+this.y*o)/this.ratio,r=-(this.y*s-this.x*o)/this.ratio),{x:(e*s+t*o)/this.ratio+n,y:(t*s-e*o)/this.ratio+r}},sigma.classes.camera.prototype.cameraPosition=function(e,t,i){var n=0,r=0,s=Math.cos(this.angle),o=Math.sin(this.angle);return i||(n=-(this.x*s+this.y*o)/this.ratio,r=-(this.y*s-this.x*o)/this.ratio),{x:((e-n)*s-(t-r)*o)*this.ratio,y:((t-r)*s+(e-n)*o)*this.ratio}},sigma.classes.camera.prototype.getMatrix=function(){var e=sigma.utils.matrices.scale(1/this.ratio),t=sigma.utils.matrices.rotation(this.angle),i=sigma.utils.matrices.translation(-this.x,-this.y),n=sigma.utils.matrices.multiply(i,sigma.utils.matrices.multiply(t,e));return n},sigma.classes.camera.prototype.getRectangle=function(e,t){var i=this.cameraPosition(e,0,!0),n=this.cameraPosition(0,t,!0),r=this.cameraPosition(e/2,t/2,!0),s=this.cameraPosition(e/4,0,!0).x,o=this.cameraPosition(0,t/4,!0).y;return{x1:this.x-r.x-s,y1:this.y-r.y-o,x2:this.x-r.x+s+i.x,y2:this.y-r.y-o+i.y,height:Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y+2*o,2))}}}.call(this),function(e){"use strict";function t(e,t){var i=t.x+t.width/2,n=t.y+t.height/2,r=e.y<n,s=e.x<i;return r?s?0:1:s?2:3}function i(e,t){for(var i=[],n=0;n<4;n++)e.x2>=t[n][0].x&&e.x1<=t[n][1].x&&e.y1+e.height>=t[n][0].y&&e.y1<=t[n][2].y&&i.push(n);return i}function n(e,t){for(var i=[],n=0;n<4;n++)u.collision(e,t[n])&&i.push(n);return i}function r(e,t){var i,n,r=t.level+1,s=Math.round(t.bounds.width/2),o=Math.round(t.bounds.height/2),a=Math.round(t.bounds.x),u=Math.round(t.bounds.y);switch(e){case 0:i=a,n=u;break;case 1:i=a+s,n=u;break;case 2:i=a,n=u+o;break;case 3:i=a+s,n=u+o}return l({x:i,y:n,width:s,height:o},r,t.maxElements,t.maxLevel)}function s(t,n,o){if(o.level<o.maxLevel)for(var a=i(n,o.corners),l=0,u=a.length;l<u;l++)o.nodes[a[l]]===e&&(o.nodes[a[l]]=r(a[l],o)),s(t,n,o.nodes[a[l]]);else o.elements.push(t)}function o(i,n){if(n.level<n.maxLevel){var r=t(i,n.bounds);return n.nodes[r]!==e?o(i,n.nodes[r]):[]}return n.elements}function a(t,i,n,r){if(r=r||{},i.level<i.maxLevel)for(var s=n(t,i.corners),o=0,l=s.length;o<l;o++)i.nodes[s[o]]!==e&&a(t,i.nodes[s[o]],n,r);else for(var u=0,c=i.elements.length;u<c;u++)r[i.elements[u].id]===e&&(r[i.elements[u].id]=i.elements[u]);return r}function l(e,t,i,n){return{level:t||0,bounds:e,corners:u.splitSquare(e),maxElements:i||20,maxLevel:n||4,elements:[],nodes:[]}}var u={pointToSquare:function(e){return{x1:e.x-e.size,y1:e.y-e.size,x2:e.x+e.size,y2:e.y-e.size,height:2*e.size}},isAxisAligned:function(e){return e.x1===e.x2||e.y1===e.y2},axisAlignedTopPoints:function(e){return e.y1===e.y2&&e.x1<e.x2?e:e.x1===e.x2&&e.y2>e.y1?{x1:e.x1-e.height,y1:e.y1,x2:e.x1,y2:e.y1,height:e.height}:e.x1===e.x2&&e.y2<e.y1?{x1:e.x1,y1:e.y2,x2:e.x2+e.height,y2:e.y2,height:e.height}:{x1:e.x2,y1:e.y1-e.height,x2:e.x1,y2:e.y1-e.height,height:e.height}},lowerLeftCoor:function(e){var t=Math.sqrt(Math.pow(e.x2-e.x1,2)+Math.pow(e.y2-e.y1,2));return{x:e.x1-(e.y2-e.y1)*e.height/t,y:e.y1+(e.x2-e.x1)*e.height/t}},lowerRightCoor:function(e,t){return{x:t.x-e.x1+e.x2,y:t.y-e.y1+e.y2}},rectangleCorners:function(e){var t=this.lowerLeftCoor(e),i=this.lowerRightCoor(e,t);return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:t.x,y:t.y},{x:i.x,y:i.y}]},splitSquare:function(e){return[[{x:e.x,y:e.y},{x:e.x+e.width/2,y:e.y},{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2}],[{x:e.x+e.width/2,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2}],[{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x,y:e.y+e.height},{x:e.x+e.width/2,y:e.y+e.height}],[{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height},{x:e.x+e.width,y:e.y+e.height}]]},axis:function(e,t){return[{x:e[1].x-e[0].x,y:e[1].y-e[0].y},{x:e[1].x-e[3].x,y:e[1].y-e[3].y},{x:t[0].x-t[2].x,y:t[0].y-t[2].y},{x:t[0].x-t[1].x,y:t[0].y-t[1].y}]},projection:function(e,t){var i=(e.x*t.x+e.y*t.y)/(Math.pow(t.x,2)+Math.pow(t.y,2));return{x:i*t.x,y:i*t.y}},axisCollision:function(e,t,i){for(var n=[],r=[],s=0;s<4;s++){var o=this.projection(t[s],e),a=this.projection(i[s],e);n.push(o.x*e.x+o.y*e.y),r.push(a.x*e.x+a.y*e.y)}var l=Math.max.apply(Math,n),u=Math.max.apply(Math,r),c=Math.min.apply(Math,n),h=Math.min.apply(Math,r);return h<=l&&u>=c},collision:function(e,t){for(var i=this.axis(e,t),n=!0,r=0;r<4;r++)n*=this.axisCollision(i[r],e,t);return!!n}},c=function(){this._geom=u,this._tree=null,this._cache={query:!1,result:!1}};c.prototype.index=function(e,t){if(!t.bounds)throw"sigma.classes.quad.index: bounds information not given.";var i=t.prefix||"";this._tree=l(t.bounds,0,t.maxElements,t.maxLevel);for(var n=0,r=e.length;n<r;n++)s(e[n],u.pointToSquare({x:e[n][i+"x"],y:e[n][i+"y"],size:e[n][i+"size"]}),this._tree);return this._cache={query:!1,result:!1},this._tree},c.prototype.point=function(e,t){return this._tree?o({x:e,y:t},this._tree)||[]:[]},c.prototype.area=function(e){var t,r,s=JSON.stringify(e);if(this._cache.query===s)return this._cache.result;u.isAxisAligned(e)?(t=i,r=u.axisAlignedTopPoints(e)):(t=n,r=u.rectangleCorners(e));var o=this._tree?a(r,this._tree,t):[],l=[];for(var c in o)l.push(o[c]);return this._cache.query=s,this._cache.result=l,l},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=c):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.quad=c):this.quad=c}.call(this),function(e){"use strict";function t(e,t){var i=t.x+t.width/2,n=t.y+t.height/2,r=e.y<n,s=e.x<i;return r?s?0:1:s?2:3}function i(e,t){for(var i=[],n=0;n<4;n++)e.x2>=t[n][0].x&&e.x1<=t[n][1].x&&e.y1+e.height>=t[n][0].y&&e.y1<=t[n][2].y&&i.push(n);return i}function n(e,t){for(var i=[],n=0;n<4;n++)u.collision(e,t[n])&&i.push(n);return i}function r(e,t){var i,n,r=t.level+1,s=Math.round(t.bounds.width/2),o=Math.round(t.bounds.height/2),a=Math.round(t.bounds.x),u=Math.round(t.bounds.y);switch(e){case 0:i=a,n=u;break;case 1:i=a+s,n=u;break;case 2:i=a,n=u+o;break;case 3:i=a+s,n=u+o}return l({x:i,y:n,width:s,height:o},r,t.maxElements,t.maxLevel)}function s(t,n,o){if(o.level<o.maxLevel)for(var a=i(n,o.corners),l=0,u=a.length;l<u;l++)o.nodes[a[l]]===e&&(o.nodes[a[l]]=r(a[l],o)),s(t,n,o.nodes[a[l]]);else o.elements.push(t)}function o(i,n){if(n.level<n.maxLevel){var r=t(i,n.bounds);return n.nodes[r]!==e?o(i,n.nodes[r]):[]}return n.elements}function a(t,i,n,r){if(r=r||{},i.level<i.maxLevel)for(var s=n(t,i.corners),o=0,l=s.length;o<l;o++)i.nodes[s[o]]!==e&&a(t,i.nodes[s[o]],n,r);else for(var u=0,c=i.elements.length;u<c;u++)r[i.elements[u].id]===e&&(r[i.elements[u].id]=i.elements[u]);return r}function l(e,t,i,n){return{level:t||0,bounds:e,corners:u.splitSquare(e),maxElements:i||40,maxLevel:n||8,elements:[],nodes:[]}}var u={pointToSquare:function(e){return{x1:e.x-e.size,y1:e.y-e.size,x2:e.x+e.size,y2:e.y-e.size,height:2*e.size}},lineToSquare:function(e){return e.y1<e.y2?e.x1<e.x2?{x1:e.x1-e.size,y1:e.y1-e.size,x2:e.x2+e.size,y2:e.y1-e.size,height:e.y2-e.y1+2*e.size}:{x1:e.x2-e.size,y1:e.y1-e.size,x2:e.x1+e.size,y2:e.y1-e.size,height:e.y2-e.y1+2*e.size}:e.x1<e.x2?{x1:e.x1-e.size,y1:e.y2-e.size,x2:e.x2+e.size,y2:e.y2-e.size,height:e.y1-e.y2+2*e.size}:{x1:e.x2-e.size,y1:e.y2-e.size,x2:e.x1+e.size,y2:e.y2-e.size,height:e.y1-e.y2+2*e.size}},quadraticCurveToSquare:function(e,t){var i=sigma.utils.getPointOnQuadraticCurve(.5,e.x1,e.y1,e.x2,e.y2,t.x,t.y),n=Math.min(e.x1,e.x2,i.x),r=Math.max(e.x1,e.x2,i.x),s=Math.min(e.y1,e.y2,i.y),o=Math.max(e.y1,e.y2,i.y);return{x1:n-e.size,y1:s-e.size,x2:r+e.size,y2:s-e.size,height:o-s+2*e.size}},selfLoopToSquare:function(e){var t=sigma.utils.getSelfLoopControlPoints(e.x,e.y,e.size),i=Math.min(e.x,t.x1,t.x2),n=Math.max(e.x,t.x1,t.x2),r=Math.min(e.y,t.y1,t.y2),s=Math.max(e.y,t.y1,t.y2);return{x1:i-e.size,y1:r-e.size,x2:n+e.size,y2:r-e.size,height:s-r+2*e.size}},isAxisAligned:function(e){return e.x1===e.x2||e.y1===e.y2},axisAlignedTopPoints:function(e){return e.y1===e.y2&&e.x1<e.x2?e:e.x1===e.x2&&e.y2>e.y1?{x1:e.x1-e.height,y1:e.y1,x2:e.x1,y2:e.y1,height:e.height}:e.x1===e.x2&&e.y2<e.y1?{x1:e.x1,y1:e.y2,x2:e.x2+e.height,y2:e.y2,height:e.height}:{x1:e.x2,y1:e.y1-e.height,x2:e.x1,y2:e.y1-e.height,height:e.height}},lowerLeftCoor:function(e){var t=Math.sqrt(Math.pow(e.x2-e.x1,2)+Math.pow(e.y2-e.y1,2));return{x:e.x1-(e.y2-e.y1)*e.height/t,y:e.y1+(e.x2-e.x1)*e.height/t}},lowerRightCoor:function(e,t){return{x:t.x-e.x1+e.x2,y:t.y-e.y1+e.y2}},rectangleCorners:function(e){var t=this.lowerLeftCoor(e),i=this.lowerRightCoor(e,t);return[{x:e.x1,y:e.y1},{x:e.x2,y:e.y2},{x:t.x,y:t.y},{x:i.x,y:i.y}]},splitSquare:function(e){return[[{x:e.x,y:e.y},{x:e.x+e.width/2,y:e.y},{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2}],[{x:e.x+e.width/2,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2}],[{x:e.x,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x,y:e.y+e.height},{x:e.x+e.width/2,y:e.y+e.height}],[{x:e.x+e.width/2,y:e.y+e.height/2},{x:e.x+e.width,y:e.y+e.height/2},{x:e.x+e.width/2,y:e.y+e.height},{x:e.x+e.width,y:e.y+e.height}]]},axis:function(e,t){return[{x:e[1].x-e[0].x,y:e[1].y-e[0].y},{x:e[1].x-e[3].x,y:e[1].y-e[3].y},{x:t[0].x-t[2].x,y:t[0].y-t[2].y},{x:t[0].x-t[1].x,y:t[0].y-t[1].y}]},projection:function(e,t){var i=(e.x*t.x+e.y*t.y)/(Math.pow(t.x,2)+Math.pow(t.y,2));return{x:i*t.x,y:i*t.y}},axisCollision:function(e,t,i){for(var n=[],r=[],s=0;s<4;s++){var o=this.projection(t[s],e),a=this.projection(i[s],e);n.push(o.x*e.x+o.y*e.y),r.push(a.x*e.x+a.y*e.y)}var l=Math.max.apply(Math,n),u=Math.max.apply(Math,r),c=Math.min.apply(Math,n),h=Math.min.apply(Math,r);return h<=l&&u>=c},collision:function(e,t){for(var i=this.axis(e,t),n=!0,r=0;r<4;r++)n*=this.axisCollision(i[r],e,t);return!!n}},c=function(){this._geom=u,this._tree=null,this._cache={query:!1,result:!1},this._enabled=!0};c.prototype.index=function(e,t){if(!this._enabled)return this._tree;if(!t.bounds)throw"sigma.classes.edgequad.index: bounds information not given.";var i,n,r,o,a,c=t.prefix||"";this._tree=l(t.bounds,0,t.maxElements,t.maxLevel);for(var h=e.edges(),d=0,f=h.length;d<f;d++)n=e.nodes(h[d].source),r=e.nodes(h[d].target),a={x1:n[c+"x"],y1:n[c+"y"],x2:r[c+"x"],y2:r[c+"y"],size:h[d][c+"size"]||0},"curve"===h[d].type||"curvedArrow"===h[d].type?n.id===r.id?(o={x:n[c+"x"],y:n[c+"y"],size:n[c+"size"]||0},s(h[d],u.selfLoopToSquare(o),this._tree)):(i=sigma.utils.getQuadraticControlPoint(a.x1,a.y1,a.x2,a.y2),s(h[d],u.quadraticCurveToSquare(a,i),this._tree)):s(h[d],u.lineToSquare(a),this._tree);return this._cache={query:!1,result:!1},this._tree},c.prototype.point=function(e,t){return this._enabled&&this._tree?o({x:e,y:t},this._tree)||[]:[]},c.prototype.area=function(e){if(!this._enabled)return[];var t,r,s=JSON.stringify(e);if(this._cache.query===s)return this._cache.result;u.isAxisAligned(e)?(t=i,r=u.axisAlignedTopPoints(e)):(t=n,r=u.rectangleCorners(e));var o=this._tree?a(r,this._tree,t):[],l=[];for(var c in o)l.push(o[c]);return this._cache.query=s,this._cache.result=l,l},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.edgequad=c):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=c),exports.edgequad=c):this.edgequad=c}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.mouse=function(e,t,i){function n(e){var t,i,n;if(S("mouseEnabled")&&w.dispatchEvent("mousemove",{x:sigma.utils.getX(e)-sigma.utils.getWidth(e)/2,y:sigma.utils.getY(e)-sigma.utils.getHeight(e)/2,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey}),S("mouseEnabled")&&m)return y=!0,v=!0,x&&clearTimeout(x),x=setTimeout(function(){y=!1},S("dragTimeout")),sigma.misc.animation.killAll(k),k.isMoving=!0,n=k.cameraPosition(sigma.utils.getX(e)-p,sigma.utils.getY(e)-g,!0),t=c-n.x,i=h-n.y,t===k.x&&i===k.y||(d=k.x,f=k.y,k.goTo({x:t,y:i})),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1}function r(e){if(S("mouseEnabled")&&m){m=!1,x&&clearTimeout(x),k.isMoving=!1;var t=sigma.utils.getX(e),i=sigma.utils.getY(e);y?(sigma.misc.animation.killAll(k),sigma.misc.animation.camera(k,{x:k.x+S("mouseInertiaRatio")*(k.x-d),y:k.y+S("mouseInertiaRatio")*(k.y-f)},{easing:"quadraticOut",duration:S("mouseInertiaDuration")})):p===t&&g===i||k.goTo({x:k.x,y:k.y}),w.dispatchEvent("mouseup",{x:t-sigma.utils.getWidth(e)/2,y:i-sigma.utils.getHeight(e)/2,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey}),y=!1}}function s(e){if(S("mouseEnabled"))switch(c=k.x,h=k.y,d=k.x,f=k.y,p=sigma.utils.getX(e),g=sigma.utils.getY(e),v=!1,b=(new Date).getTime(),e.which){case 2:break;case 3:w.dispatchEvent("rightclick",{x:p-sigma.utils.getWidth(e)/2,y:g-sigma.utils.getHeight(e)/2,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey});break;default:m=!0,w.dispatchEvent("mousedown",{x:p-sigma.utils.getWidth(e)/2,y:g-sigma.utils.getHeight(e)/2,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey})}}function o(e){S("mouseEnabled")&&w.dispatchEvent("mouseout")}function a(e){return S("mouseEnabled")&&w.dispatchEvent("click",{x:sigma.utils.getX(e)-sigma.utils.getWidth(e)/2,y:sigma.utils.getY(e)-sigma.utils.getHeight(e)/2,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey,isDragging:(new Date).getTime()-b>100&&v}),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1}function l(e){var t,i,n;if(S("mouseEnabled"))return i=1/S("doubleClickZoomingRatio"),w.dispatchEvent("doubleclick",{x:p-sigma.utils.getWidth(e)/2,y:g-sigma.utils.getHeight(e)/2,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey}),S("doubleClickEnabled")&&(t=k.cameraPosition(sigma.utils.getX(e)-sigma.utils.getWidth(e)/2,sigma.utils.getY(e)-sigma.utils.getHeight(e)/2,!0),n={duration:S("doubleClickZoomDuration")},sigma.utils.zoomTo(k,t.x,t.y,i,n)),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1}function u(e){var t,i,n;if(S("mouseEnabled")&&S("mouseWheelEnabled"))return i=sigma.utils.getDelta(e)>0?1/S("zoomingRatio"):S("zoomingRatio"),t=k.cameraPosition(sigma.utils.getX(e)-sigma.utils.getWidth(e)/2,sigma.utils.getY(e)-sigma.utils.getHeight(e)/2,!0),n={duration:S("mouseZoomDuration")},sigma.utils.zoomTo(k,t.x,t.y,i,n),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1}var c,h,d,f,p,g,m,y,v,b,x,w=this,E=e,k=t,S=i;sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(E,"click",l),E.addEventListener("DOMMouseScroll",u,!1),E.addEventListener("mousewheel",u,!1),E.addEventListener("mousemove",n,!1),E.addEventListener("mousedown",s,!1),E.addEventListener("click",a,!1),E.addEventListener("mouseout",o,!1),document.addEventListener("mouseup",r,!1),this.kill=function(){sigma.utils.unbindDoubleClick(E,"click"),E.removeEventListener("DOMMouseScroll",u),E.removeEventListener("mousewheel",u),E.removeEventListener("mousemove",n),E.removeEventListener("mousedown",s),E.removeEventListener("click",a),E.removeEventListener("mouseout",o),document.removeEventListener("mouseup",r)}}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.touch=function(e,t,i){function n(e){var t=sigma.utils.getOffset(C);return{x:e.pageX-t.left,y:e.pageY-t.top}}function r(e){if(_("touchEnabled")){var t,i,r,s,o,a;switch(P=e.touches,P.length){case 1:N.isMoving=!0,E=1,l=N.x,u=N.y,d=N.x,f=N.y,o=n(P[0]),m=o.x,y=o.y;break;case 2:return N.isMoving=!0,E=2,o=n(P[0]),a=n(P[1]),t=o.x,r=o.y,i=a.x,s=a.y,d=N.x,f=N.y,c=N.angle,h=N.ratio,l=N.x,u=N.y,m=t,y=r,v=i,b=s,x=Math.atan2(b-y,v-m),w=Math.sqrt(Math.pow(b-y,2)+Math.pow(v-m,2)),e.preventDefault(),!1}}}function s(e){if(_("touchEnabled")){P=e.touches;var t=_("touchInertiaRatio");switch(T&&(k=!1,clearTimeout(T)),E){case 2:if(1===e.touches.length){r(e),e.preventDefault();break}case 1:N.isMoving=!1,A.dispatchEvent("stopDrag"),k&&(S=!1,sigma.misc.animation.camera(N,{x:N.x+t*(N.x-d),y:N.y+t*(N.y-f)},{easing:"quadraticOut",duration:_("touchInertiaDuration")})),k=!1,E=0}}}function o(e){if(!S&&_("touchEnabled")){var t,i,r,s,o,a,C,M,L,O,R,j,D,I,H,z,F;switch(P=e.touches,k=!0,T&&clearTimeout(T),T=setTimeout(function(){k=!1},_("dragTimeout")),E){case 1:M=n(P[0]),t=M.x,r=M.y,O=N.cameraPosition(t-m,r-y,!0),I=l-O.x,H=u-O.y,I===N.x&&H===N.y||(d=N.x,f=N.y,N.goTo({x:I,y:H}),A.dispatchEvent("mousemove",{x:M.x-sigma.utils.getWidth(e)/2,y:M.y-sigma.utils.getHeight(e)/2,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey}),A.dispatchEvent("drag"));break;case 2:M=n(P[0]),L=n(P[1]),t=M.x,r=M.y,i=L.x,s=L.y,R=N.cameraPosition((m+v)/2-sigma.utils.getWidth(e)/2,(y+b)/2-sigma.utils.getHeight(e)/2,!0),C=N.cameraPosition((t+i)/2-sigma.utils.getWidth(e)/2,(r+s)/2-sigma.utils.getHeight(e)/2,!0),j=Math.atan2(s-r,i-t)-x,D=Math.sqrt(Math.pow(s-r,2)+Math.pow(i-t,2))/w,t=R.x,r=R.y,z=h/D,t*=D,r*=D,F=c-j,o=Math.cos(-j),a=Math.sin(-j),i=t*o+r*a,s=r*o-t*a,t=i,r=s,I=t-C.x+l,H=r-C.y+u,z===N.ratio&&F===N.angle&&I===N.x&&H===N.y||(d=N.x,f=N.y,p=N.angle,g=N.ratio,N.goTo({x:I,y:H,angle:F,ratio:z}),A.dispatchEvent("drag"))}return e.preventDefault(),!1}}function a(e){var t,i,r;if(e.touches&&1===e.touches.length&&_("touchEnabled"))return S=!0,i=1/_("doubleClickZoomingRatio"),t=n(e.touches[0]),A.dispatchEvent("doubleclick",{x:t.x-sigma.utils.getWidth(e)/2,y:t.y-sigma.utils.getHeight(e)/2,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey,shiftKey:e.shiftKey}),_("doubleClickEnabled")&&(t=N.cameraPosition(t.x-sigma.utils.getWidth(e)/2,t.y-sigma.utils.getHeight(e)/2,!0),r={duration:_("doubleClickZoomDuration"),onComplete:function(){S=!1}},sigma.utils.zoomTo(N,t.x,t.y,i,r)),e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation(),!1}var l,u,c,h,d,f,p,g,m,y,v,b,x,w,E,k,S,T,A=this,C=e,N=t,_=i,P=[];sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(C,"touchstart",a),C.addEventListener("touchstart",r,!1),C.addEventListener("touchend",s,!1),C.addEventListener("touchcancel",s,!1),C.addEventListener("touchleave",s,!1),C.addEventListener("touchmove",o,!1),this.kill=function(){sigma.utils.unbindDoubleClick(C,"touchstart"),C.addEventListener("touchstart",r),C.addEventListener("touchend",s),C.addEventListener("touchcancel",s),C.addEventListener("touchleave",s),C.addEventListener("touchmove",o)}}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.canvas=function(e,t,i,n){if("object"!=typeof n)throw"sigma.renderers.canvas: Wrong arguments.";if(!(n.container instanceof HTMLElement))throw"Container not found.";var r,s,o,a;for(sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=e,this.camera=t,this.contexts={},this.domElements={},this.options=n,this.container=this.options.container,this.settings="object"==typeof n.settings&&n.settings?i.embedObjects(n.settings):i,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene"),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene,this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],o=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],r=0,s=o.length;r<s;r++)a="function"==typeof o[r]?o[r]:sigma.captors[o[r]],this.captors.push(new a(this.domElements.mouse,this.camera,this.settings));sigma.misc.bindEvents.call(this,this.options.prefix),sigma.misc.drawHovers.call(this,this.options.prefix),this.resize(!1)},sigma.renderers.canvas.prototype.render=function(t){t=t||{};var i,n,r,s,o,a,l,u,c,h,d,f,p,g={},m=this.graph,y=this.graph.nodes,v=(this.options.prefix||"",this.settings(t,"drawEdges")),b=this.settings(t,"drawNodes"),x=this.settings(t,"drawLabels"),w=this.settings(t,"drawEdgeLabels"),E=this.settings.embedObjects(t,{prefix:this.options.prefix});this.resize(!1),this.settings(t,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(v=!1),this.camera.applyView(e,this.options.prefix,{width:this.width,height:this.height}),this.clear();for(r in this.jobs)conrad.hasJob(r)&&conrad.killJob(r);for(this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),i=this.nodesOnScreen,n=0,s=i.length;n<s;n++)g[i[n].id]=i[n];if(v){for(i=m.edges(),n=0,s=i.length;n<s;n++)o=i[n],!g[o.source]&&!g[o.target]||o.hidden||y(o.source).hidden||y(o.target).hidden||this.edgesOnScreen.push(o);if(this.settings(t,"batchEdgesDrawing"))a="edges_"+this.conradId,f=E("canvasEdgesBatchSize"),h=this.edgesOnScreen,s=h.length,c=0,l=Math.min(h.length,c+f),u=function(){for(p=this.contexts.edges.globalCompositeOperation,this.contexts.edges.globalCompositeOperation="destination-over",d=sigma.canvas.edges,n=c;n<l;n++)o=h[n],(d[o.type||this.settings(t,"defaultEdgeType")]||d.def)(o,m.nodes(o.source),m.nodes(o.target),this.contexts.edges,E);if(w)for(d=sigma.canvas.edges.labels,n=c;n<l;n++)o=h[n],o.hidden||(d[o.type||this.settings(t,"defaultEdgeType")]||d.def)(o,m.nodes(o.source),m.nodes(o.target),this.contexts.labels,E);return this.contexts.edges.globalCompositeOperation=p,l===h.length?(delete this.jobs[a],!1):(c=l+1,l=Math.min(h.length,c+f),!0)},this.jobs[a]=u,conrad.addJob(a,u.bind(this));else{for(d=sigma.canvas.edges,i=this.edgesOnScreen,n=0,s=i.length;n<s;n++)o=i[n],(d[o.type||this.settings(t,"defaultEdgeType")]||d.def)(o,m.nodes(o.source),m.nodes(o.target),this.contexts.edges,E);if(w)for(d=sigma.canvas.edges.labels,i=this.edgesOnScreen,n=0,s=i.length;n<s;n++)i[n].hidden||(d[i[n].type||this.settings(t,"defaultEdgeType")]||d.def)(i[n],m.nodes(i[n].source),m.nodes(i[n].target),this.contexts.labels,E)}}if(b)for(d=sigma.canvas.nodes,i=this.nodesOnScreen,n=0,s=i.length;n<s;n++)i[n].hidden||(d[i[n].type||this.settings(t,"defaultNodeType")]||d.def)(i[n],this.contexts.nodes,E);if(x)for(d=sigma.canvas.labels,i=this.nodesOnScreen,n=0,s=i.length;n<s;n++)i[n].hidden||(d[i[n].type||this.settings(t,"defaultNodeType")]||d.def)(i[n],this.contexts.labels,E);return this.dispatchEvent("render"),this},sigma.renderers.canvas.prototype.initDOM=function(e,t){var i=document.createElement(e);i.style.position="absolute",i.setAttribute("class","sigma-"+t),this.domElements[t]=i,this.container.appendChild(i),"canvas"===e.toLowerCase()&&(this.contexts[t]=i.getContext("2d"))},sigma.renderers.canvas.prototype.resize=function(t,i){var n,r=this.width,s=this.height,o=1;if(t!==e&&i!==e?(this.width=t,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,i=this.height),r!==this.width||s!==this.height)for(n in this.domElements)this.domElements[n].style.width=t+"px",this.domElements[n].style.height=i+"px","canvas"===this.domElements[n].tagName.toLowerCase()&&(this.domElements[n].setAttribute("width",t*o+"px"),this.domElements[n].setAttribute("height",i*o+"px"),1!==o&&this.contexts[n].scale(o,o));return this},sigma.renderers.canvas.prototype.clear=function(){var e;for(e in this.domElements)"CANVAS"===this.domElements[e].tagName&&(this.domElements[e].width=this.domElements[e].width);return this},sigma.renderers.canvas.prototype.kill=function(){for(var e,t;t=this.captors.pop();)t.kill();delete this.captors;for(e in this.domElements)this.domElements[e].parentNode.removeChild(this.domElements[e]),delete this.domElements[e],delete this.contexts[e];delete this.domElements,delete this.contexts},sigma.utils.pkg("sigma.canvas.nodes"),sigma.utils.pkg("sigma.canvas.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.webgl=function(e,t,i,n){if("object"!=typeof n)throw"sigma.renderers.webgl: Wrong arguments.";if(!(n.container instanceof HTMLElement))throw"Container not found.";
var r,s,o,a;for(sigma.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=e,this.camera=t,this.contexts={},this.domElements={},this.options=n,this.container=this.options.container,this.settings="object"==typeof n.settings&&n.settings?i.embedObjects(n.settings):i,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),this.settings(n,"batchEdgesDrawing")?(this.initDOM("canvas","edges",!0),this.initDOM("canvas","nodes",!0)):(this.initDOM("canvas","scene",!0),this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],o=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],r=0,s=o.length;r<s;r++)a="function"==typeof o[r]?o[r]:sigma.captors[o[r]],this.captors.push(new a(this.domElements.mouse,this.camera,this.settings));sigma.misc.bindEvents.call(this,this.camera.prefix),sigma.misc.drawHovers.call(this,this.camera.prefix),this.resize()},sigma.renderers.webgl.prototype.process=function(){var e,t,i,n,r,s,o=this.graph,a=sigma.utils.extend(a,this.options);for(n in this.nodeFloatArrays)delete this.nodeFloatArrays[n];for(n in this.edgeFloatArrays)delete this.edgeFloatArrays[n];for(e=o.edges(),t=0,i=e.length;t<i;t++)r=e[t].type||this.settings(a,"defaultEdgeType"),n=r&&sigma.webgl.edges[r]?r:"def",this.edgeFloatArrays[n]||(this.edgeFloatArrays[n]={edges:[]}),this.edgeFloatArrays[n].edges.push(e[t]);for(e=o.nodes(),t=0,i=e.length;t<i;t++)r=e[t].type||this.settings(a,"defaultNodeType"),n=r&&sigma.webgl.nodes[r]?r:"def",this.nodeFloatArrays[n]||(this.nodeFloatArrays[n]={nodes:[]}),this.nodeFloatArrays[n].nodes.push(e[t]);for(n in this.edgeFloatArrays)for(s=sigma.webgl.edges[n],e=this.edgeFloatArrays[n].edges,t=0,i=e.length;t<i;t++)this.edgeFloatArrays[n].array||(this.edgeFloatArrays[n].array=new Float32Array(e.length*s.POINTS*s.ATTRIBUTES)),e[t].hidden||o.nodes(e[t].source).hidden||o.nodes(e[t].target).hidden||s.addEdge(e[t],o.nodes(e[t].source),o.nodes(e[t].target),this.edgeFloatArrays[n].array,t*s.POINTS*s.ATTRIBUTES,a.prefix,this.settings);for(n in this.nodeFloatArrays)for(s=sigma.webgl.nodes[n],e=this.nodeFloatArrays[n].nodes,t=0,i=e.length;t<i;t++)this.nodeFloatArrays[n].array||(this.nodeFloatArrays[n].array=new Float32Array(e.length*s.POINTS*s.ATTRIBUTES)),e[t].hidden||s.addNode(e[t],this.nodeFloatArrays[n].array,t*s.POINTS*s.ATTRIBUTES,a.prefix,this.settings);return this},sigma.renderers.webgl.prototype.render=function(t){var i,n,r,s,o,a,l=this,u=(this.graph,this.contexts.nodes),c=this.contexts.edges,h=this.camera.getMatrix(),d=sigma.utils.extend(t,this.options),f=this.settings(d,"drawLabels"),p=this.settings(d,"drawEdges"),g=this.settings(d,"drawNodes");this.resize(!1),this.settings(d,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(p=!1),this.clear(),h=sigma.utils.matrices.multiply(h,sigma.utils.matrices.translation(this.width/2,this.height/2));for(s in this.jobs)conrad.hasJob(s)&&conrad.killJob(s);if(p)if(this.settings(d,"batchEdgesDrawing"))(function(){var e,t,i,n,r,s,o,a,l;i="edges_"+this.conradId,l=this.settings(d,"webglEdgesBatchSize"),e=Object.keys(this.edgeFloatArrays),e.length&&(t=0,a=sigma.webgl.edges[e[t]],r=this.edgeFloatArrays[e[t]].array,o=0,s=Math.min(o+l*a.POINTS,r.length/a.ATTRIBUTES),n=function(){return this.edgePrograms[e[t]]||(this.edgePrograms[e[t]]=a.initProgram(c)),o<s&&(c.useProgram(this.edgePrograms[e[t]]),a.render(c,this.edgePrograms[e[t]],r,{settings:this.settings,matrix:h,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(d,"webglOversamplingRatio"),start:o,count:s-o})),s>=r.length/a.ATTRIBUTES&&t===e.length-1?(delete this.jobs[i],!1):(s>=r.length/a.ATTRIBUTES?(t++,r=this.edgeFloatArrays[e[t]].array,a=sigma.webgl.edges[e[t]],o=0,s=Math.min(o+l*a.POINTS,r.length/a.ATTRIBUTES)):(o=s,s=Math.min(o+l*a.POINTS,r.length/a.ATTRIBUTES)),!0)},this.jobs[i]=n,conrad.addJob(i,n.bind(this)))}).call(this);else for(s in this.edgeFloatArrays)a=sigma.webgl.edges[s],this.edgePrograms[s]||(this.edgePrograms[s]=a.initProgram(c)),this.edgeFloatArrays[s]&&(c.useProgram(this.edgePrograms[s]),a.render(c,this.edgePrograms[s],this.edgeFloatArrays[s].array,{settings:this.settings,matrix:h,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(d,"webglOversamplingRatio")}));if(g){u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),u.enable(u.BLEND);for(s in this.nodeFloatArrays)a=sigma.webgl.nodes[s],this.nodePrograms[s]||(this.nodePrograms[s]=a.initProgram(u)),this.nodeFloatArrays[s]&&(u.useProgram(this.nodePrograms[s]),a.render(u,this.nodePrograms[s],this.nodeFloatArrays[s].array,{settings:this.settings,matrix:h,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings(d,"webglOversamplingRatio")}))}if(f)for(i=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(e,e,{nodes:i,edges:[],width:this.width,height:this.height}),o=function(e){return l.settings({prefix:l.camera.prefix},e)},n=0,r=i.length;n<r;n++)i[n].hidden||(sigma.canvas.labels[i[n].type||this.settings(d,"defaultNodeType")]||sigma.canvas.labels.def)(i[n],this.contexts.labels,o);return this.dispatchEvent("render"),this},sigma.renderers.webgl.prototype.initDOM=function(e,t,i){var n=document.createElement(e),r=this;n.style.position="absolute",n.setAttribute("class","sigma-"+t),this.domElements[t]=n,this.container.appendChild(n),"canvas"===e.toLowerCase()&&(this.contexts[t]=n.getContext(i?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}),i&&(n.addEventListener("webglcontextlost",function(e){e.preventDefault()},!1),n.addEventListener("webglcontextrestored",function(e){r.render()},!1)))},sigma.renderers.webgl.prototype.resize=function(t,i){var n,r=this.width,s=this.height;if(t!==e&&i!==e?(this.width=t,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,i=this.height),r!==this.width||s!==this.height)for(n in this.domElements)this.domElements[n].style.width=t+"px",this.domElements[n].style.height=i+"px","canvas"===this.domElements[n].tagName.toLowerCase()&&(this.contexts[n]&&this.contexts[n].scale?(this.domElements[n].setAttribute("width",t+"px"),this.domElements[n].setAttribute("height",i+"px")):(this.domElements[n].setAttribute("width",t*this.settings("webglOversamplingRatio")+"px"),this.domElements[n].setAttribute("height",i*this.settings("webglOversamplingRatio")+"px")));for(n in this.contexts)this.contexts[n]&&this.contexts[n].viewport&&this.contexts[n].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},sigma.renderers.webgl.prototype.clear=function(){var e;for(e in this.domElements)"CANVAS"===this.domElements[e].tagName&&(this.domElements[e].width=this.domElements[e].width);return this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},sigma.renderers.webgl.prototype.kill=function(){for(var e,t;t=this.captors.pop();)t.kill();delete this.captors;for(e in this.domElements)this.domElements[e].parentNode.removeChild(this.domElements[e]),delete this.domElements[e],delete this.contexts[e];delete this.domElements,delete this.contexts},sigma.utils.pkg("sigma.webgl.nodes"),sigma.utils.pkg("sigma.webgl.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.svg=function(e,t,i,n){if("object"!=typeof n)throw"sigma.renderers.svg: Wrong arguments.";if(!(n.container instanceof HTMLElement))throw"Container not found.";var r,s,o,a,l=this;for(sigma.classes.dispatcher.extend(this),this.graph=e,this.camera=t,this.domElements={graph:null,groups:{},nodes:{},edges:{},labels:{},hovers:{}},this.measurementCanvas=null,this.options=n,this.container=this.options.container,this.settings="object"==typeof n.settings&&n.settings?i.embedObjects(n.settings):i,this.settings("freeStyle",!!this.options.freeStyle),this.settings("xmlns","http://www.w3.org/2000/svg"),this.nodesOnScreen=[],this.edgesOnScreen=[],this.options.prefix="renderer"+sigma.utils.id()+":",this.initDOM("svg"),this.captors=[],o=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],r=0,s=o.length;r<s;r++)a="function"==typeof o[r]?o[r]:sigma.captors[o[r]],this.captors.push(new a(this.domElements.graph,this.camera,this.settings));window.addEventListener("resize",function(){l.resize()}),sigma.misc.bindDOMEvents.call(this,this.domElements.graph),this.bindHovers(this.options.prefix),this.resize(!1)},sigma.renderers.svg.prototype.render=function(t){t=t||{};var i,n,r,s,o,a,l,u,c,h={},d=this.graph,f=this.graph.nodes,p=(this.options.prefix||"",this.settings(t,"drawEdges")),g=this.settings(t,"drawNodes"),m=(this.settings(t,"drawLabels"),this.settings.embedObjects(t,{prefix:this.options.prefix,forceLabels:this.options.forceLabels}));for(this.settings(t,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(p=!1),this.camera.applyView(e,this.options.prefix,{width:this.width,height:this.height}),this.hideDOMElements(this.domElements.nodes),this.hideDOMElements(this.domElements.edges),this.hideDOMElements(this.domElements.labels),this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),i=this.nodesOnScreen,n=0,s=i.length;n<s;n++)h[i[n].id]=i[n];for(i=d.edges(),n=0,s=i.length;n<s;n++)o=i[n],!h[o.source]&&!h[o.target]||o.hidden||f(o.source).hidden||f(o.target).hidden||this.edgesOnScreen.push(o);if(u=sigma.svg.nodes,c=sigma.svg.labels,g)for(i=this.nodesOnScreen,n=0,s=i.length;n<s;n++)i[n].hidden||this.domElements.nodes[i[n].id]||(r=(u[i[n].type]||u.def).create(i[n],m),this.domElements.nodes[i[n].id]=r,this.domElements.groups.nodes.appendChild(r),r=(c[i[n].type]||c.def).create(i[n],m),this.domElements.labels[i[n].id]=r,this.domElements.groups.labels.appendChild(r));if(g)for(i=this.nodesOnScreen,n=0,s=i.length;n<s;n++)i[n].hidden||((u[i[n].type]||u.def).update(i[n],this.domElements.nodes[i[n].id],m),(c[i[n].type]||c.def).update(i[n],this.domElements.labels[i[n].id],m));if(u=sigma.svg.edges,p)for(i=this.edgesOnScreen,n=0,s=i.length;n<s;n++)this.domElements.edges[i[n].id]||(a=f(i[n].source),l=f(i[n].target),r=(u[i[n].type]||u.def).create(i[n],a,l,m),this.domElements.edges[i[n].id]=r,this.domElements.groups.edges.appendChild(r));if(p)for(i=this.edgesOnScreen,n=0,s=i.length;n<s;n++)a=f(i[n].source),l=f(i[n].target),(u[i[n].type]||u.def).update(i[n],this.domElements.edges[i[n].id],a,l,m);return this.dispatchEvent("render"),this},sigma.renderers.svg.prototype.initDOM=function(e){var t,i,n,r=document.createElementNS(this.settings("xmlns"),e),s=this.settings("classPrefix");r.style.position="absolute",r.setAttribute("class",s+"-svg"),r.setAttribute("xmlns",this.settings("xmlns")),r.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),r.setAttribute("version","1.1");var o=document.createElement("canvas");o.setAttribute("class",s+"-measurement-canvas"),this.domElements.graph=this.container.appendChild(r);var a=["edges","nodes","labels","hovers"];for(n=0,i=a.length;n<i;n++)t=document.createElementNS(this.settings("xmlns"),"g"),t.setAttributeNS(null,"id",s+"-group-"+a[n]),t.setAttributeNS(null,"class",s+"-group"),this.domElements.groups[a[n]]=this.domElements.graph.appendChild(t);this.container.appendChild(o),this.measurementCanvas=o.getContext("2d")},sigma.renderers.svg.prototype.hideDOMElements=function(e){var t,i;for(i in e)t=e[i],sigma.svg.utils.hide(t);return this},sigma.renderers.svg.prototype.bindHovers=function(e){function t(t){var i=t.data.node,n=o.settings.embedObjects({prefix:e});if(n("enableHovering")){var a=(s[i.type]||s.def).create(i,o.domElements.nodes[i.id],o.measurementCanvas,n);o.domElements.hovers[i.id]=a,o.domElements.groups.hovers.appendChild(a),r=i}}function i(t){var i=t.data.node,n=o.settings.embedObjects({prefix:e});n("enableHovering")&&(o.domElements.groups.hovers.removeChild(o.domElements.hovers[i.id]),r=null,delete o.domElements.hovers[i.id],o.domElements.groups.nodes.appendChild(o.domElements.nodes[i.id]))}function n(){if(r){var t=o.settings.embedObjects({prefix:e});o.domElements.groups.hovers.removeChild(o.domElements.hovers[r.id]),delete o.domElements.hovers[r.id];var i=(s[r.type]||s.def).create(r,o.domElements.nodes[r.id],o.measurementCanvas,t);o.domElements.hovers[r.id]=i,o.domElements.groups.hovers.appendChild(i)}}var r,s=sigma.svg.hovers,o=this;this.bind("overNode",t),this.bind("outNode",i),this.bind("render",n)},sigma.renderers.svg.prototype.resize=function(t,i){var n=this.width,r=this.height,s=1;return t!==e&&i!==e?(this.width=t,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,t=this.width,i=this.height),n===this.width&&r===this.height||(this.domElements.graph.style.width=t+"px",this.domElements.graph.style.height=i+"px","svg"===this.domElements.graph.tagName.toLowerCase()&&(this.domElements.graph.setAttribute("width",t*s),this.domElements.graph.setAttribute("height",i*s))),this},sigma.utils.pkg("sigma.svg.nodes"),sigma.utils.pkg("sigma.svg.edges"),sigma.utils.pkg("sigma.svg.labels")}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers");var t,i=!!e.WebGLRenderingContext;if(i){t=document.createElement("canvas");try{i=!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(n){i=!1}}sigma.renderers.def=i?sigma.renderers.webgl:sigma.renderers.canvas}(this),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.def={POINTS:3,ATTRIBUTES:5,addNode:function(e,t,i,n,r){var s=sigma.utils.floatColor(e.color||r("defaultNodeColor"));t[i++]=e[n+"x"],t[i++]=e[n+"y"],t[i++]=e[n+"size"],t[i++]=s,t[i++]=0,t[i++]=e[n+"x"],t[i++]=e[n+"y"],t[i++]=e[n+"size"],t[i++]=s,t[i++]=2*Math.PI/3,t[i++]=e[n+"x"],t[i++]=e[n+"y"],t[i++]=e[n+"size"],t[i++]=s,t[i++]=4*Math.PI/3},render:function(e,t,i,n){var r,s=e.getAttribLocation(t,"a_position"),o=e.getAttribLocation(t,"a_size"),a=e.getAttribLocation(t,"a_color"),l=e.getAttribLocation(t,"a_angle"),u=e.getUniformLocation(t,"u_resolution"),c=e.getUniformLocation(t,"u_matrix"),h=e.getUniformLocation(t,"u_ratio"),d=e.getUniformLocation(t,"u_scale");r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(u,n.width,n.height),e.uniform1f(h,1/Math.pow(n.ratio,n.settings("nodesPowRatio"))),e.uniform1f(d,n.scalingRatio),e.uniformMatrix3fv(c,!1,n.matrix),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.enableVertexAttribArray(l),e.vertexAttribPointer(s,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(o,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(a,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),e.vertexAttribPointer(l,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.drawArrays(e.TRIANGLES,n.start||0,n.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,n;return t=sigma.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","attribute float a_angle;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","varying vec2 center;","varying float radius;","void main() {","radius = a_size * u_ratio;","vec2 position = (u_matrix * vec3(a_position, 1)).xy;","center = position * u_scale;","center = vec2(center.x, u_scale * u_resolution.y - center.y);","position = position +","2.0 * radius * vec2(cos(a_angle), sin(a_angle));","position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);","radius = radius * u_scale;","gl_Position = vec4(position, 0, 1);","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=sigma.utils.loadShader(e,["precision mediump float;","varying vec4 color;","varying vec2 center;","varying float radius;","void main(void) {","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_FragCoord.xy - center;","float diff = radius - sqrt(m.x * m.x + m.y * m.y);","if (diff > 0.0)","gl_FragColor = color;","else","gl_FragColor = color0;","}"].join("\n"),e.FRAGMENT_SHADER),n=sigma.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.fast={POINTS:1,ATTRIBUTES:4,addNode:function(e,t,i,n,r){t[i++]=e[n+"x"],t[i++]=e[n+"y"],t[i++]=e[n+"size"],t[i++]=sigma.utils.floatColor(e.color||r("defaultNodeColor"))},render:function(e,t,i,n){var r,s=e.getAttribLocation(t,"a_position"),o=e.getAttribLocation(t,"a_size"),a=e.getAttribLocation(t,"a_color"),l=e.getUniformLocation(t,"u_resolution"),u=e.getUniformLocation(t,"u_matrix"),c=e.getUniformLocation(t,"u_ratio"),h=e.getUniformLocation(t,"u_scale");r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(l,n.width,n.height),e.uniform1f(c,1/Math.pow(n.ratio,n.settings("nodesPowRatio"))),e.uniform1f(h,n.scalingRatio),e.uniformMatrix3fv(u,!1,n.matrix),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.vertexAttribPointer(s,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(o,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(a,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),e.drawArrays(e.POINTS,n.start||0,n.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,n;return t=sigma.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","gl_PointSize = a_size * u_ratio * u_scale * 2.0;","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=sigma.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),n=sigma.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.def={POINTS:6,ATTRIBUTES:7,addEdge:function(e,t,i,n,r,s,o){var a=(e[s+"size"]||1)/2,l=t[s+"x"],u=t[s+"y"],c=i[s+"x"],h=i[s+"y"],d=e.color;if(!d)switch(o("edgeColor")){case"source":d=t.color||o("defaultNodeColor");break;case"target":d=i.color||o("defaultNodeColor");break;default:d=o("defaultEdgeColor")}d=sigma.utils.floatColor(d),n[r++]=l,n[r++]=u,n[r++]=c,n[r++]=h,n[r++]=a,n[r++]=0,n[r++]=d,n[r++]=c,n[r++]=h,n[r++]=l,n[r++]=u,n[r++]=a,n[r++]=1,n[r++]=d,n[r++]=c,n[r++]=h,n[r++]=l,n[r++]=u,n[r++]=a,n[r++]=0,n[r++]=d,n[r++]=c,n[r++]=h,n[r++]=l,n[r++]=u,n[r++]=a,n[r++]=0,n[r++]=d,n[r++]=l,n[r++]=u,n[r++]=c,n[r++]=h,n[r++]=a,n[r++]=1,n[r++]=d,n[r++]=l,n[r++]=u,n[r++]=c,n[r++]=h,n[r++]=a,n[r++]=0,n[r++]=d},render:function(e,t,i,n){var r,s=e.getAttribLocation(t,"a_color"),o=e.getAttribLocation(t,"a_position1"),a=e.getAttribLocation(t,"a_position2"),l=e.getAttribLocation(t,"a_thickness"),u=e.getAttribLocation(t,"a_minus"),c=e.getUniformLocation(t,"u_resolution"),h=e.getUniformLocation(t,"u_matrix"),d=e.getUniformLocation(t,"u_matrixHalfPi"),f=e.getUniformLocation(t,"u_matrixHalfPiMinus"),p=e.getUniformLocation(t,"u_ratio"),g=e.getUniformLocation(t,"u_scale");r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),e.uniform2f(c,n.width,n.height),e.uniform1f(p,n.ratio/Math.pow(n.ratio,n.settings("edgesPowRatio"))),e.uniform1f(g,n.scalingRatio),e.uniformMatrix3fv(h,!1,n.matrix),e.uniformMatrix2fv(d,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),e.uniformMatrix2fv(f,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.enableVertexAttribArray(l),e.enableVertexAttribArray(u),e.vertexAttribPointer(o,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(a,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(l,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(u,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(s,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),e.drawArrays(e.TRIANGLES,n.start||0,n.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,n;return t=sigma.utils.loadShader(e,["attribute vec2 a_position1;","attribute vec2 a_position2;","attribute float a_thickness;","attribute float a_minus;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 position = a_thickness * u_ratio *","normalize(a_position2 - a_position1);","mat2 matrix = a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi;","position = matrix * position + a_position1;","gl_Position = vec4(","((u_matrix * vec3(position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=sigma.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),n=sigma.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.fast={POINTS:2,ATTRIBUTES:3,addEdge:function(e,t,i,n,r,s,o){var a=((e[s+"size"]||1)/2,t[s+"x"]),l=t[s+"y"],u=i[s+"x"],c=i[s+"y"],h=e.color;if(!h)switch(o("edgeColor")){case"source":h=t.color||o("defaultNodeColor");break;case"target":h=i.color||o("defaultNodeColor");break;default:h=o("defaultEdgeColor")}h=sigma.utils.floatColor(h),n[r++]=a,n[r++]=l,n[r++]=h,n[r++]=u,n[r++]=c,n[r++]=h},render:function(e,t,i,n){var r,s=e.getAttribLocation(t,"a_color"),o=e.getAttribLocation(t,"a_position"),a=e.getUniformLocation(t,"u_resolution"),l=e.getUniformLocation(t,"u_matrix");r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,i,e.DYNAMIC_DRAW),e.uniform2f(a,n.width,n.height),e.uniformMatrix3fv(l,!1,n.matrix),e.enableVertexAttribArray(o),e.enableVertexAttribArray(s),e.vertexAttribPointer(o,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(s,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.lineWidth(3),e.drawArrays(e.LINES,n.start||0,n.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,n;return t=sigma.utils.loadShader(e,["attribute vec2 a_position;","attribute float a_color;","uniform vec2 u_resolution;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=sigma.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),n=sigma.utils.loadProgram(e,[t,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.arrow={POINTS:9,ATTRIBUTES:11,addEdge:function(e,t,i,n,r,s,o){var a=(e[s+"size"]||1)/2,l=t[s+"x"],u=t[s+"y"],c=i[s+"x"],h=i[s+"y"],d=i[s+"size"],f=e.color;if(!f)switch(o("edgeColor")){case"source":f=t.color||o("defaultNodeColor");break;case"target":f=i.color||o("defaultNodeColor");break;default:f=o("defaultEdgeColor")}f=sigma.utils.floatColor(f),n[r++]=l,n[r++]=u,n[r++]=c,n[r++]=h,n[r++]=a,n[r++]=d,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=f,n[r++]=c,n[r++]=h,n[r++]=l,n[r++]=u,n[r++]=a,n[r++]=d,n[r++]=1,n[r++]=1,n[r++]=0,n[r++]=0,n[r++]=f,n[r++]=c,n[r++]=h,n[r++]=l,n[r++]=u,n[r++]=a,n[r++]=d,n[r++]=1,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=f,n[r++]=c,n[r++]=h,n[r++]=l,n[r++]=u,n[r++]=a,n[r++]=d,n[r++]=1,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=f,n[r++]=l,n[r++]=u,n[r++]=c,n[r++]=h,n[r++]=a,n[r++]=d,n[r++]=0,n[r++]=1,n[r++]=0,n[r++]=0,n[r++]=f,n[r++]=l,n[r++]=u,n[r++]=c,n[r++]=h,n[r++]=a,n[r++]=d,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=f,n[r++]=c,n[r++]=h,n[r++]=l,n[r++]=u,n[r++]=a,n[r++]=d,n[r++]=1,n[r++]=0,n[r++]=1,n[r++]=-1,n[r++]=f,n[r++]=c,n[r++]=h,n[r++]=l,n[r++]=u,n[r++]=a,n[r++]=d,n[r++]=1,n[r++]=0,n[r++]=1,n[r++]=0,n[r++]=f,n[r++]=c,n[r++]=h,n[r++]=l,n[r++]=u,n[r++]=a,n[r++]=d,n[r++]=1,n[r++]=0,n[r++]=1,n[r++]=1,n[r++]=f},render:function(e,t,i,n){var r,s=e.getAttribLocation(t,"a_pos1"),o=e.getAttribLocation(t,"a_pos2"),a=e.getAttribLocation(t,"a_thickness"),l=e.getAttribLocation(t,"a_tSize"),u=e.getAttribLocation(t,"a_delay"),c=e.getAttribLocation(t,"a_minus"),h=e.getAttribLocation(t,"a_head"),d=e.getAttribLocation(t,"a_headPosition"),f=e.getAttribLocation(t,"a_color"),p=e.getUniformLocation(t,"u_resolution"),g=e.getUniformLocation(t,"u_matrix"),m=e.getUniformLocation(t,"u_matrixHalfPi"),y=e.getUniformLocation(t,"u_matrixHalfPiMinus"),v=e.getUniformLocation(t,"u_ratio"),b=e.getUniformLocation(t,"u_nodeRatio"),x=e.getUniformLocation(t,"u_arrowHead"),w=e.getUniformLocation(t,"u_scale");r=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,r),e.bufferData(e.ARRAY_BUFFER,i,e.STATIC_DRAW),e.uniform2f(p,n.width,n.height),e.uniform1f(v,n.ratio/Math.pow(n.ratio,n.settings("edgesPowRatio"))),e.uniform1f(b,Math.pow(n.ratio,n.settings("nodesPowRatio"))/n.ratio),e.uniform1f(x,5),e.uniform1f(w,n.scalingRatio),e.uniformMatrix3fv(g,!1,n.matrix),e.uniformMatrix2fv(m,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),e.uniformMatrix2fv(y,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),e.enableVertexAttribArray(s),e.enableVertexAttribArray(o),e.enableVertexAttribArray(a),e.enableVertexAttribArray(l),e.enableVertexAttribArray(u),e.enableVertexAttribArray(c),e.enableVertexAttribArray(h),e.enableVertexAttribArray(d),e.enableVertexAttribArray(f),e.vertexAttribPointer(s,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(o,2,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(a,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(l,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(u,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),e.vertexAttribPointer(c,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,28),e.vertexAttribPointer(h,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,32),e.vertexAttribPointer(d,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,36),e.vertexAttribPointer(f,1,e.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,40),e.drawArrays(e.TRIANGLES,n.start||0,n.count||i.length/this.ATTRIBUTES)},initProgram:function(e){var t,i,n;return t=sigma.utils.loadShader(e,["attribute vec2 a_pos1;","attribute vec2 a_pos2;","attribute float a_thickness;","attribute float a_tSize;","attribute float a_delay;","attribute float a_minus;","attribute float a_head;","attribute float a_headPosition;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_nodeRatio;","uniform float u_arrowHead;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 pos = normalize(a_pos2 - a_pos1);","mat2 matrix = (1.0 - a_head) *","(","a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi",") + a_head * (","a_headPosition * u_matrixHalfPiMinus * 0.6 +","(a_headPosition * a_headPosition - 1.0) * mat2(1.0)",");","pos = a_pos1 + (","(1.0 - a_head) * a_thickness * u_ratio * matrix * pos +","a_head * u_arrowHead * a_thickness * u_ratio * matrix * pos +","a_delay * pos * (","a_tSize / u_nodeRatio +","u_arrowHead * a_thickness * u_ratio",")",");","gl_Position = vec4(","((u_matrix * vec3(pos, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),e.VERTEX_SHADER),i=sigma.utils.loadShader(e,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),e.FRAGMENT_SHADER),n=sigma.utils.loadProgram(e,[t,i])}}}(),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.labels"),sigma.canvas.labels.def=function(e,t,i){var n,r=i("prefix")||"",s=e[r+"size"];s<i("labelThreshold")||e.label&&"string"==typeof e.label&&(n="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*s,t.font=(i("fontStyle")?i("fontStyle")+" ":"")+n+"px "+i("font"),t.fillStyle="node"===i("labelColor")?e.color||i("defaultNodeColor"):i("defaultLabelColor"),t.fillText(e.label,Math.round(e[r+"x"]+s+3),Math.round(e[r+"y"]+n/3)))}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.hovers"),sigma.canvas.hovers.def=function(e,t,i){var n,r,s,o,a,l=i("hoverFontStyle")||i("fontStyle"),u=i("prefix")||"",c=e[u+"size"],h="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*c;t.font=(l?l+" ":"")+h+"px "+(i("hoverFont")||i("font")),t.beginPath(),t.fillStyle="node"===i("labelHoverBGColor")?e.color||i("defaultNodeColor"):i("defaultHoverLabelBGColor"),e.label&&i("labelHoverShadow")&&(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=8,t.shadowColor=i("labelHoverShadowColor")),e.label&&"string"==typeof e.label&&(n=Math.round(e[u+"x"]-h/2-2),r=Math.round(e[u+"y"]-h/2-2),s=Math.round(t.measureText(e.label).width+h/2+c+7),o=Math.round(h+4),a=Math.round(h/2+2),t.moveTo(n,r+a),t.arcTo(n,r,n+a,r,a),t.lineTo(n+s,r),t.lineTo(n+s,r+o),t.lineTo(n+a,r+o),t.arcTo(n,r+o,n,r+o-a,a),t.lineTo(n,r+a),t.closePath(),t.fill(),t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0),i("borderSize")>0&&(t.beginPath(),t.fillStyle="node"===i("nodeBorderColor")?e.color||i("defaultNodeColor"):i("defaultNodeBorderColor"),t.arc(e[u+"x"],e[u+"y"],c+i("borderSize"),0,2*Math.PI,!0),t.closePath(),t.fill());var d=sigma.canvas.nodes[e.type]||sigma.canvas.nodes.def;d(e,t,i),e.label&&"string"==typeof e.label&&(t.fillStyle="node"===i("labelHoverColor")?e.color||i("defaultNodeColor"):i("defaultLabelHoverColor"),t.fillText(e.label,Math.round(e[u+"x"]+c+3),Math.round(e[u+"y"]+h/3)))}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.canvas.nodes"),sigma.canvas.nodes.def=function(e,t,i){var n=i("prefix")||"";t.fillStyle=e.color||i("defaultNodeColor"),t.beginPath(),t.arc(e[n+"x"],e[n+"y"],e[n+"size"],0,2*Math.PI,!0),t.closePath(),t.fill();
}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.def=function(e,t,i,n,r){var s=e.color,o=r("prefix")||"",a=e[o+"size"]||1,l=r("edgeColor"),u=r("defaultNodeColor"),c=r("defaultEdgeColor");if(!s)switch(l){case"source":s=t.color||u;break;case"target":s=i.color||u;break;default:s=c}n.strokeStyle=s,n.lineWidth=a,n.beginPath(),n.moveTo(t[o+"x"],t[o+"y"]),n.lineTo(i[o+"x"],i[o+"y"]),n.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curve=function(e,t,i,n,r){var s=e.color,o=r("prefix")||"",a=e[o+"size"]||1,l=r("edgeColor"),u=r("defaultNodeColor"),c=r("defaultEdgeColor"),h={},d=t[o+"size"],f=t[o+"x"],p=t[o+"y"],g=i[o+"x"],m=i[o+"y"];if(h=t.id===i.id?sigma.utils.getSelfLoopControlPoints(f,p,d):sigma.utils.getQuadraticControlPoint(f,p,g,m),!s)switch(l){case"source":s=t.color||u;break;case"target":s=i.color||u;break;default:s=c}n.strokeStyle=s,n.lineWidth=a,n.beginPath(),n.moveTo(f,p),t.id===i.id?n.bezierCurveTo(h.x1,h.y1,h.x2,h.y2,g,m):n.quadraticCurveTo(h.x,h.y,g,m),n.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.arrow=function(e,t,i,n,r){var s=e.color,o=r("prefix")||"",a=r("edgeColor"),l=r("defaultNodeColor"),u=r("defaultEdgeColor"),c=e[o+"size"]||1,h=i[o+"size"],d=t[o+"x"],f=t[o+"y"],p=i[o+"x"],g=i[o+"y"],m=Math.max(2.5*c,r("minArrowSize")),y=Math.sqrt(Math.pow(p-d,2)+Math.pow(g-f,2)),v=d+(p-d)*(y-m-h)/y,b=f+(g-f)*(y-m-h)/y,x=(p-d)*m/y,w=(g-f)*m/y;if(!s)switch(a){case"source":s=t.color||l;break;case"target":s=i.color||l;break;default:s=u}n.strokeStyle=s,n.lineWidth=c,n.beginPath(),n.moveTo(d,f),n.lineTo(v,b),n.stroke(),n.fillStyle=s,n.beginPath(),n.moveTo(v+x,b+w),n.lineTo(v+.6*w,b-.6*x),n.lineTo(v-.6*w,b+.6*x),n.lineTo(v+x,b+w),n.closePath(),n.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.curvedArrow=function(e,t,i,n,r){var s,o,a,l,u,c=e.color,h=r("prefix")||"",d=r("edgeColor"),f=r("defaultNodeColor"),p=r("defaultEdgeColor"),g={},m=e[h+"size"]||1,y=i[h+"size"],v=t[h+"x"],b=t[h+"y"],x=i[h+"x"],w=i[h+"y"],E=Math.max(2.5*m,r("minArrowSize"));if(g=t.id===i.id?sigma.utils.getSelfLoopControlPoints(v,b,y):sigma.utils.getQuadraticControlPoint(v,b,x,w),t.id===i.id?(s=Math.sqrt(Math.pow(x-g.x1,2)+Math.pow(w-g.y1,2)),o=g.x1+(x-g.x1)*(s-E-y)/s,a=g.y1+(w-g.y1)*(s-E-y)/s,l=(x-g.x1)*E/s,u=(w-g.y1)*E/s):(s=Math.sqrt(Math.pow(x-g.x,2)+Math.pow(w-g.y,2)),o=g.x+(x-g.x)*(s-E-y)/s,a=g.y+(w-g.y)*(s-E-y)/s,l=(x-g.x)*E/s,u=(w-g.y)*E/s),!c)switch(d){case"source":c=t.color||f;break;case"target":c=i.color||f;break;default:c=p}n.strokeStyle=c,n.lineWidth=m,n.beginPath(),n.moveTo(v,b),t.id===i.id?n.bezierCurveTo(g.x2,g.y2,g.x1,g.y1,o,a):n.quadraticCurveTo(g.x,g.y,o,a),n.stroke(),n.fillStyle=c,n.beginPath(),n.moveTo(o+l,a+u),n.lineTo(o+.6*u,a-.6*l),n.lineTo(o-.6*u,a+.6*l),n.lineTo(o+l,a+u),n.closePath(),n.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.def=function(e,t,i,n,r){var s=e.color,o=r("prefix")||"",a=e[o+"size"]||1,l=r("edgeColor"),u=r("defaultNodeColor"),c=r("defaultEdgeColor");if(!s)switch(l){case"source":s=t.color||u;break;case"target":s=i.color||u;break;default:s=c}s="edge"===r("edgeHoverColor")?e.hover_color||s:e.hover_color||r("defaultEdgeHoverColor")||s,a*=r("edgeHoverSizeRatio"),n.strokeStyle=s,n.lineWidth=a,n.beginPath(),n.moveTo(t[o+"x"],t[o+"y"]),n.lineTo(i[o+"x"],i[o+"y"]),n.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curve=function(e,t,i,n,r){var s=e.color,o=r("prefix")||"",a=r("edgeHoverSizeRatio")*(e[o+"size"]||1),l=r("edgeColor"),u=r("defaultNodeColor"),c=r("defaultEdgeColor"),h={},d=t[o+"size"],f=t[o+"x"],p=t[o+"y"],g=i[o+"x"],m=i[o+"y"];if(h=t.id===i.id?sigma.utils.getSelfLoopControlPoints(f,p,d):sigma.utils.getQuadraticControlPoint(f,p,g,m),!s)switch(l){case"source":s=t.color||u;break;case"target":s=i.color||u;break;default:s=c}s="edge"===r("edgeHoverColor")?e.hover_color||s:e.hover_color||r("defaultEdgeHoverColor")||s,n.strokeStyle=s,n.lineWidth=a,n.beginPath(),n.moveTo(f,p),t.id===i.id?n.bezierCurveTo(h.x1,h.y1,h.x2,h.y2,g,m):n.quadraticCurveTo(h.x,h.y,g,m),n.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.arrow=function(e,t,i,n,r){var s=e.color,o=r("prefix")||"",a=r("edgeColor"),l=r("defaultNodeColor"),u=r("defaultEdgeColor"),c=e[o+"size"]||1,h=i[o+"size"],d=t[o+"x"],f=t[o+"y"],p=i[o+"x"],g=i[o+"y"];c=e.hover?r("edgeHoverSizeRatio")*c:c;var m=2.5*c,y=Math.sqrt(Math.pow(p-d,2)+Math.pow(g-f,2)),v=d+(p-d)*(y-m-h)/y,b=f+(g-f)*(y-m-h)/y,x=(p-d)*m/y,w=(g-f)*m/y;if(!s)switch(a){case"source":s=t.color||l;break;case"target":s=i.color||l;break;default:s=u}s="edge"===r("edgeHoverColor")?e.hover_color||s:e.hover_color||r("defaultEdgeHoverColor")||s,n.strokeStyle=s,n.lineWidth=c,n.beginPath(),n.moveTo(d,f),n.lineTo(v,b),n.stroke(),n.fillStyle=s,n.beginPath(),n.moveTo(v+x,b+w),n.lineTo(v+.6*w,b-.6*x),n.lineTo(v-.6*w,b+.6*x),n.lineTo(v+x,b+w),n.closePath(),n.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edgehovers"),sigma.canvas.edgehovers.curvedArrow=function(e,t,i,n,r){var s,o,a,l,u,c,h=e.color,d=r("prefix")||"",f=r("edgeColor"),p=r("defaultNodeColor"),g=r("defaultEdgeColor"),m={},y=r("edgeHoverSizeRatio")*(e[d+"size"]||1),v=i[d+"size"],b=t[d+"x"],x=t[d+"y"],w=i[d+"x"],E=i[d+"y"];if(m=t.id===i.id?sigma.utils.getSelfLoopControlPoints(b,x,v):sigma.utils.getQuadraticControlPoint(b,x,w,E),t.id===i.id?(s=Math.sqrt(Math.pow(w-m.x1,2)+Math.pow(E-m.y1,2)),o=2.5*y,a=m.x1+(w-m.x1)*(s-o-v)/s,l=m.y1+(E-m.y1)*(s-o-v)/s,u=(w-m.x1)*o/s,c=(E-m.y1)*o/s):(s=Math.sqrt(Math.pow(w-m.x,2)+Math.pow(E-m.y,2)),o=2.5*y,a=m.x+(w-m.x)*(s-o-v)/s,l=m.y+(E-m.y)*(s-o-v)/s,u=(w-m.x)*o/s,c=(E-m.y)*o/s),!h)switch(f){case"source":h=t.color||p;break;case"target":h=i.color||p;break;default:h=g}h="edge"===r("edgeHoverColor")?e.hover_color||h:e.hover_color||r("defaultEdgeHoverColor")||h,n.strokeStyle=h,n.lineWidth=y,n.beginPath(),n.moveTo(b,x),t.id===i.id?n.bezierCurveTo(m.x2,m.y2,m.x1,m.y1,a,l):n.quadraticCurveTo(m.x,m.y,a,l),n.stroke(),n.fillStyle=h,n.beginPath(),n.moveTo(a+u,l+c),n.lineTo(a+.6*c,l-.6*u),n.lineTo(a-.6*c,l+.6*u),n.lineTo(a+u,l+c),n.closePath(),n.fill()}}(),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.extremities"),sigma.canvas.extremities.def=function(e,t,i,n,r){(sigma.canvas.hovers[t.type]||sigma.canvas.hovers.def)(t,n,r),(sigma.canvas.hovers[i.type]||sigma.canvas.hovers.def)(i,n,r)}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.svg.utils"),sigma.svg.utils={show:function(e){return e.style.display="",this},hide:function(e){return e.style.display="none",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.nodes"),sigma.svg.nodes.def={create:function(e,t){var i=(t("prefix")||"",document.createElementNS(t("xmlns"),"circle"));return i.setAttributeNS(null,"data-node-id",e.id),i.setAttributeNS(null,"class",t("classPrefix")+"-node"),i.setAttributeNS(null,"fill",e.color||t("defaultNodeColor")),i},update:function(e,t,i){var n=i("prefix")||"";return t.setAttributeNS(null,"cx",e[n+"x"]),t.setAttributeNS(null,"cy",e[n+"y"]),t.setAttributeNS(null,"r",e[n+"size"]),i("freeStyle")||t.setAttributeNS(null,"fill",e.color||i("defaultNodeColor")),t.style.display="",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.edges"),sigma.svg.edges.def={create:function(e,t,i,n){var r=e.color,s=(n("prefix")||"",n("edgeColor")),o=n("defaultNodeColor"),a=n("defaultEdgeColor");if(!r)switch(s){case"source":r=t.color||o;break;case"target":r=i.color||o;break;default:r=a}var l=document.createElementNS(n("xmlns"),"line");return l.setAttributeNS(null,"data-edge-id",e.id),l.setAttributeNS(null,"class",n("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",r),l},update:function(e,t,i,n,r){var s=r("prefix")||"";return t.setAttributeNS(null,"stroke-width",e[s+"size"]||1),t.setAttributeNS(null,"x1",i[s+"x"]),t.setAttributeNS(null,"y1",i[s+"y"]),t.setAttributeNS(null,"x2",n[s+"x"]),t.setAttributeNS(null,"y2",n[s+"y"]),t.style.display="",this}}}(),function(){"use strict";sigma.utils.pkg("sigma.svg.edges"),sigma.svg.edges.curve={create:function(e,t,i,n){var r=e.color,s=(n("prefix")||"",n("edgeColor")),o=n("defaultNodeColor"),a=n("defaultEdgeColor");if(!r)switch(s){case"source":r=t.color||o;break;case"target":r=i.color||o;break;default:r=a}var l=document.createElementNS(n("xmlns"),"path");return l.setAttributeNS(null,"data-edge-id",e.id),l.setAttributeNS(null,"class",n("classPrefix")+"-edge"),l.setAttributeNS(null,"stroke",r),l},update:function(e,t,i,n,r){var s=r("prefix")||"";t.setAttributeNS(null,"stroke-width",e[s+"size"]||1);var o=(i[s+"x"]+n[s+"x"])/2+(n[s+"y"]-i[s+"y"])/4,a=(i[s+"y"]+n[s+"y"])/2+(i[s+"x"]-n[s+"x"])/4,l="M"+i[s+"x"]+","+i[s+"y"]+" Q"+o+","+a+" "+n[s+"x"]+","+n[s+"y"];return t.setAttributeNS(null,"d",l),t.setAttributeNS(null,"fill","none"),t.style.display="",this}}}(),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.svg.labels"),sigma.svg.labels.def={create:function(e,t){var i=t("prefix")||"",n=e[i+"size"],r=document.createElementNS(t("xmlns"),"text"),s="fixed"===t("labelSize")?t("defaultLabelSize"):t("labelSizeRatio")*n,o="node"===t("labelColor")?e.color||t("defaultNodeColor"):t("defaultLabelColor");return r.setAttributeNS(null,"data-label-target",e.id),r.setAttributeNS(null,"class",t("classPrefix")+"-label"),r.setAttributeNS(null,"font-size",s),r.setAttributeNS(null,"font-family",t("font")),r.setAttributeNS(null,"fill",o),r.innerHTML=e.label,r.textContent=e.label,r},update:function(e,t,i){var n=i("prefix")||"",r=e[n+"size"],s="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*r;if((i("forceLabels")||!(r<i("labelThreshold")))&&"string"==typeof e.label)return t.setAttributeNS(null,"x",Math.round(e[n+"x"]+r+3)),t.setAttributeNS(null,"y",Math.round(e[n+"y"]+s/3)),t.style.display="",this}}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.svg.hovers"),sigma.svg.hovers.def={create:function(e,t,i,n){var r,s,o,a,l,u=(n("hoverFontStyle")||n("fontStyle"),n("prefix")||""),c=e[u+"size"],h="fixed"===n("labelSize")?n("defaultLabelSize"):n("labelSizeRatio")*c,d="node"===n("labelHoverColor")?e.color||n("defaultNodeColor"):n("defaultLabelHoverColor"),f=document.createElementNS(n("xmlns"),"g"),p=document.createElementNS(n("xmlns"),"rect"),g=document.createElementNS(n("xmlns"),"circle"),m=document.createElementNS(n("xmlns"),"text");return f.setAttributeNS(null,"class",n("classPrefix")+"-hover"),f.setAttributeNS(null,"data-node-id",e.id),"string"==typeof e.label&&(m.innerHTML=e.label,m.textContent=e.label,m.setAttributeNS(null,"class",n("classPrefix")+"-hover-label"),m.setAttributeNS(null,"font-size",h),m.setAttributeNS(null,"font-family",n("font")),m.setAttributeNS(null,"fill",d),m.setAttributeNS(null,"x",Math.round(e[u+"x"]+c+3)),m.setAttributeNS(null,"y",Math.round(e[u+"y"]+h/3)),r=Math.round(e[u+"x"]-h/2-2),s=Math.round(e[u+"y"]-h/2-2),o=Math.round(i.measureText(e.label).width+h/2+c+9),a=Math.round(h+4),l=Math.round(h/2+2),g.setAttributeNS(null,"class",n("classPrefix")+"-hover-area"),g.setAttributeNS(null,"fill","#fff"),g.setAttributeNS(null,"cx",e[u+"x"]),g.setAttributeNS(null,"cy",e[u+"y"]),g.setAttributeNS(null,"r",l),p.setAttributeNS(null,"class",n("classPrefix")+"-hover-area"),p.setAttributeNS(null,"fill","#fff"),p.setAttributeNS(null,"x",e[u+"x"]+l/4),p.setAttributeNS(null,"y",e[u+"y"]-l),p.setAttributeNS(null,"width",o),p.setAttributeNS(null,"height",a)),f.appendChild(g),f.appendChild(p),f.appendChild(m),f.appendChild(t),f}}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.utils.pkg("sigma.utils"),sigma.middlewares.rescale=function(e,t,i){var n,r,s,o,a,l,u,c,h=this.graph.nodes(),d=this.graph.edges(),f=this.settings.embedObjects(i||{}),p=f("bounds")||sigma.utils.getBoundaries(this.graph,e,!0),g=p.minX,m=p.minY,y=p.maxX,v=p.maxY,b=p.sizeMax,x=p.weightMax,w=f("width")||1,E=f("height")||1,k=f("autoRescale"),S={nodePosition:1,nodeSize:1,edgeSize:1};for(k instanceof Array||(k=["nodePosition","nodeSize","edgeSize"]),n=0,r=k.length;n<r;n++)if(!S[k[n]])throw new Error('The rescale setting "'+k[n]+'" is not recognized.');var T=~k.indexOf("nodePosition"),A=~k.indexOf("nodeSize"),C=~k.indexOf("edgeSize");for(u="outside"===f("scalingMode")?Math.max(w/Math.max(y-g,1),E/Math.max(v-m,1)):Math.min(w/Math.max(y-g,1),E/Math.max(v-m,1)),c=(f("rescaleIgnoreSize")?0:(f("maxNodeSize")||b)/u)+(f("sideMargin")||0),y+=c,g-=c,v+=c,m-=c,u="outside"===f("scalingMode")?Math.max(w/Math.max(y-g,1),E/Math.max(v-m,1)):Math.min(w/Math.max(y-g,1),E/Math.max(v-m,1)),f("maxNodeSize")||f("minNodeSize")?f("maxNodeSize")===f("minNodeSize")?(s=0,o=+f("maxNodeSize")):(s=(f("maxNodeSize")-f("minNodeSize"))/b,o=+f("minNodeSize")):(s=1,o=0),f("maxEdgeSize")||f("minEdgeSize")?f("maxEdgeSize")===f("minEdgeSize")?(a=0,l=+f("minEdgeSize")):(a=(f("maxEdgeSize")-f("minEdgeSize"))/x,l=+f("minEdgeSize")):(a=1,l=0),n=0,r=d.length;n<r;n++)d[n][t+"size"]=d[n][e+"size"]*(C?a:1)+(C?l:0);for(n=0,r=h.length;n<r;n++)h[n][t+"size"]=h[n][e+"size"]*(A?s:1)+(A?o:0),h[n][t+"x"]=(h[n][e+"x"]-(y+g)/2)*(T?u:1),h[n][t+"y"]=(h[n][e+"y"]-(v+m)/2)*(T?u:1)},sigma.utils.getBoundaries=function(e,t,i){var n,r,s=e.edges(),o=e.nodes(),a=-(1/0),l=-(1/0),u=1/0,c=1/0,h=-(1/0),d=-(1/0);if(i)for(n=0,r=s.length;n<r;n++)a=Math.max(s[n][t+"size"],a);for(n=0,r=o.length;n<r;n++)l=Math.max(o[n][t+"size"],l),h=Math.max(o[n][t+"x"],h),u=Math.min(o[n][t+"x"],u),d=Math.max(o[n][t+"y"],d),c=Math.min(o[n][t+"y"],c);return a=a||1,l=l||1,{weightMax:a,sizeMax:l,minX:u,minY:c,maxX:h,maxY:d}}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.middlewares.copy=function(e,t){var i,n,r;if(t+""!=e+""){for(r=this.graph.nodes(),i=0,n=r.length;i<n;i++)r[i][t+"x"]=r[i][e+"x"],r[i][t+"y"]=r[i][e+"y"],r[i][t+"size"]=r[i][e+"size"];for(r=this.graph.edges(),i=0,n=r.length;i<n;i++)r[i][t+"size"]=r[i][e+"size"]}}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc.animation.running");var t=function(){var e=0;return function(){return""+ ++e}}();sigma.misc.animation.camera=function(i,n,r){if(!(i instanceof sigma.classes.camera&&"object"==typeof n&&n))throw"animation.camera: Wrong arguments.";if("number"!=typeof n.x&&"number"!=typeof n.y&&"number"!=typeof n.ratio&&"number"!=typeof n.angle)throw"There must be at least one valid coordinate in the given val.";var s,o,a,l,u,c,h=r||{},d=sigma.utils.dateNow();return c={x:i.x,y:i.y,ratio:i.ratio,angle:i.angle},u=h.duration,l="function"!=typeof h.easing?sigma.utils.easings[h.easing||"quadraticInOut"]:h.easing,s=function(){var t,r=h.duration?(sigma.utils.dateNow()-d)/h.duration:1;r>=1?(i.isAnimated=!1,i.goTo({x:n.x!==e?n.x:c.x,y:n.y!==e?n.y:c.y,ratio:n.ratio!==e?n.ratio:c.ratio,angle:n.angle!==e?n.angle:c.angle}),cancelAnimationFrame(o),delete sigma.misc.animation.running[o],"function"==typeof h.onComplete&&h.onComplete()):(t=l(r),i.isAnimated=!0,i.goTo({x:n.x!==e?c.x+(n.x-c.x)*t:c.x,y:n.y!==e?c.y+(n.y-c.y)*t:c.y,ratio:n.ratio!==e?c.ratio+(n.ratio-c.ratio)*t:c.ratio,angle:n.angle!==e?c.angle+(n.angle-c.angle)*t:c.angle}),"function"==typeof h.onNewFrame&&h.onNewFrame(),a.frameId=requestAnimationFrame(s))},o=t(),a={frameId:requestAnimationFrame(s),target:i,type:"camera",options:h,fn:s},sigma.misc.animation.running[o]=a,o},sigma.misc.animation.kill=function(e){if(1!==arguments.length||"number"!=typeof e)throw"animation.kill: Wrong arguments.";var t=sigma.misc.animation.running[e];return t&&(cancelAnimationFrame(e),delete sigma.misc.animation.running[t.frameId],"camera"===t.type&&(t.target.isAnimated=!1),"function"==typeof(t.options||{}).onComplete&&t.options.onComplete()),this},sigma.misc.animation.killAll=function(e){var t,i,n=0,r="string"==typeof e?e:null,s="object"==typeof e?e:null,o=sigma.misc.animation.running;for(i in o)r&&o[i].type!==r||s&&o[i].target!==s||(t=sigma.misc.animation.running[i],cancelAnimationFrame(t.frameId),delete sigma.misc.animation.running[i],"camera"===t.type&&(t.target.isAnimated=!1),n++,"function"==typeof(t.options||{}).onComplete&&t.options.onComplete());return n},sigma.misc.animation.has=function(e){var t,i="string"==typeof e?e:null,n="object"==typeof e?e:null,r=sigma.misc.animation.running;for(t in r)if(!(i&&r[t].type!==i||n&&r[t].target!==n))return!0;return!1}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindEvents=function(t){function i(e){e&&(a="x"in e.data?e.data.x:a,l="y"in e.data?e.data.y:l);var i,n,r,s,o,c,h,d,f=[],p=a+u.width/2,g=l+u.height/2,m=u.camera.cameraPosition(a,l),y=u.camera.quadtree.point(m.x,m.y);if(y.length)for(i=0,r=y.length;i<r;i++)if(s=y[i],o=s[t+"x"],c=s[t+"y"],h=s[t+"size"],!s.hidden&&p>o-h&&p<o+h&&g>c-h&&g<c+h&&Math.sqrt(Math.pow(p-o,2)+Math.pow(g-c,2))<h){for(d=!1,n=0;n<f.length;n++)if(s.size>f[n].size){f.splice(n,0,s),d=!0;break}d||f.push(s)}return f}function n(i){function n(e,t){for(y=!1,o=0;o<e.length;o++)if(t.size>e[o].size){e.splice(o,0,t),y=!0;break}y||e.push(t)}if(!u.settings("enableEdgeHovering"))return[];var r=sigma.renderers.canvas&&u instanceof sigma.renderers.canvas;if(!r)throw new Error("The edge events feature is not compatible with the WebGL renderer");i&&(a="x"in i.data?i.data.x:a,l="y"in i.data?i.data.y:l);var s,o,c,h,d,f,p,g,m,y,v=u.settings("edgeHoverPrecision"),b={},x=[],w=a+u.width/2,E=l+u.height/2,k=u.camera.cameraPosition(a,l),S=[];if(r){var T=u.camera.quadtree.area(u.camera.getRectangle(u.width,u.height));for(h=T,s=0,c=h.length;s<c;s++)b[h[s].id]=h[s]}if(u.camera.edgequadtree!==e&&(S=u.camera.edgequadtree.point(k.x,k.y)),S.length)for(s=0,c=S.length;s<c;s++)d=S[s],p=u.graph.nodes(d.source),g=u.graph.nodes(d.target),f=d[t+"size"]||d["read_"+t+"size"],!d.hidden&&!p.hidden&&!g.hidden&&(!r||b[d.source]||b[d.target])&&sigma.utils.getDistance(p[t+"x"],p[t+"y"],w,E)>p[t+"size"]&&sigma.utils.getDistance(g[t+"x"],g[t+"y"],w,E)>g[t+"size"]&&("curve"==d.type||"curvedArrow"==d.type?p.id===g.id?(m=sigma.utils.getSelfLoopControlPoints(p[t+"x"],p[t+"y"],p[t+"size"]),sigma.utils.isPointOnBezierCurve(w,E,p[t+"x"],p[t+"y"],g[t+"x"],g[t+"y"],m.x1,m.y1,m.x2,m.y2,Math.max(f,v))&&n(x,d)):(m=sigma.utils.getQuadraticControlPoint(p[t+"x"],p[t+"y"],g[t+"x"],g[t+"y"]),sigma.utils.isPointOnQuadraticCurve(w,E,p[t+"x"],p[t+"y"],g[t+"x"],g[t+"y"],m.x,m.y,Math.max(f,v))&&n(x,d)):sigma.utils.isPointOnSegment(w,E,p[t+"x"],p[t+"y"],g[t+"x"],g[t+"y"],Math.max(f,v))&&n(x,d));return x}function r(e){function t(e){u.settings("eventsEnabled")&&(u.dispatchEvent("click",e.data),l=i(e),c=n(e),l.length?(u.dispatchEvent("clickNode",{node:l[0],captor:e.data}),u.dispatchEvent("clickNodes",{node:l,captor:e.data})):c.length?(u.dispatchEvent("clickEdge",{edge:c[0],captor:e.data}),u.dispatchEvent("clickEdges",{edge:c,captor:e.data})):u.dispatchEvent("clickStage",{captor:e.data}))}function r(e){u.settings("eventsEnabled")&&(u.dispatchEvent("doubleClick",e.data),l=i(e),c=n(e),l.length?(u.dispatchEvent("doubleClickNode",{node:l[0],captor:e.data}),u.dispatchEvent("doubleClickNodes",{node:l,captor:e.data})):c.length?(u.dispatchEvent("doubleClickEdge",{edge:c[0],captor:e.data}),u.dispatchEvent("doubleClickEdges",{edge:c,captor:e.data})):u.dispatchEvent("doubleClickStage",{captor:e.data}))}function s(e){u.settings("eventsEnabled")&&(u.dispatchEvent("rightClick",e.data),l=i(e),c=n(e),l.length?(u.dispatchEvent("rightClickNode",{node:l[0],captor:e.data}),u.dispatchEvent("rightClickNodes",{node:l,captor:e.data})):c.length?(u.dispatchEvent("rightClickEdge",{edge:c[0],captor:e.data}),u.dispatchEvent("rightClickEdges",{edge:c,captor:e.data})):u.dispatchEvent("rightClickStage",{captor:e.data}))}function o(e){if(u.settings("eventsEnabled")){var t,i,n,r,s=[],o=[];for(t in h)s.push(h[t]);for(h={},i=0,n=s.length;i<n;i++)u.dispatchEvent("outNode",{node:s[i],captor:e.data});for(s.length&&u.dispatchEvent("outNodes",{nodes:s,captor:e.data}),d={},i=0,r=o.length;i<r;i++)u.dispatchEvent("outEdge",{edge:o[i],captor:e.data});o.length&&u.dispatchEvent("outEdges",{edges:o,captor:e.data})}}function a(e){if(u.settings("eventsEnabled")){l=i(e),c=n(e);var t,r,s,o,a=[],f=[],p={},g=l.length,m=[],y=[],v={},b=c.length;for(t=0;t<g;t++)s=l[t],p[s.id]=s,h[s.id]||(f.push(s),h[s.id]=s);for(r in h)p[r]||(a.push(h[r]),delete h[r]);for(t=0,g=f.length;t<g;t++)u.dispatchEvent("overNode",{node:f[t],captor:e.data});for(t=0,g=a.length;t<g;t++)u.dispatchEvent("outNode",{node:a[t],captor:e.data});for(f.length&&u.dispatchEvent("overNodes",{nodes:f,captor:e.data}),a.length&&u.dispatchEvent("outNodes",{nodes:a,captor:e.data}),t=0;t<b;t++)o=c[t],v[o.id]=o,d[o.id]||(y.push(o),d[o.id]=o);for(r in d)v[r]||(m.push(d[r]),delete d[r]);for(t=0,b=y.length;t<b;t++)u.dispatchEvent("overEdge",{edge:y[t],captor:e.data});for(t=0,b=m.length;t<b;t++)u.dispatchEvent("outEdge",{edge:m[t],captor:e.data});y.length&&u.dispatchEvent("overEdges",{edges:y,captor:e.data}),m.length&&u.dispatchEvent("outEdges",{edges:m,captor:e.data})}}var l,c,h={},d={};e.bind("click",t),e.bind("mousedown",a),e.bind("mouseup",a),e.bind("mousemove",a),e.bind("mouseout",o),e.bind("doubleclick",r),e.bind("rightclick",s),u.bind("render",a)}var s,o,a,l,u=this;for(s=0,o=this.captors.length;s<o;s++)r(this.captors[s])}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindDOMEvents=function(e){function t(e){this.attr=function(t){return e.getAttributeNS(null,t)},this.tag=e.tagName,this["class"]=this.attr("class"),this.id=this.attr("id"),this.isNode=function(){return!!~this["class"].indexOf(o.settings("classPrefix")+"-node")},this.isEdge=function(){return!!~this["class"].indexOf(o.settings("classPrefix")+"-edge")},this.isHover=function(){return!!~this["class"].indexOf(o.settings("classPrefix")+"-hover")}}function i(e){if(o.settings("eventsEnabled")){o.dispatchEvent("click",e);var i=new t(e.target);i.isNode()?o.dispatchEvent("clickNode",{node:a.nodes(i.attr("data-node-id"))}):o.dispatchEvent("clickStage"),e.preventDefault(),e.stopPropagation()}}function n(e){if(o.settings("eventsEnabled")){o.dispatchEvent("doubleClick",e);var i=new t(e.target);i.isNode()?o.dispatchEvent("doubleClickNode",{node:a.nodes(i.attr("data-node-id"))}):o.dispatchEvent("doubleClickStage"),e.preventDefault(),e.stopPropagation()}}function r(e){var i=e.toElement||e.target;if(o.settings("eventsEnabled")&&i){var n=new t(i);if(n.isNode())o.dispatchEvent("overNode",{node:a.nodes(n.attr("data-node-id"))});else if(n.isEdge()){var r=a.edges(n.attr("data-edge-id"));o.dispatchEvent("overEdge",{edge:r,source:a.nodes(r.source),target:a.nodes(r.target)})}}}function s(e){var i=e.fromElement||e.originalTarget;if(o.settings("eventsEnabled")){var n=new t(i);if(n.isNode())o.dispatchEvent("outNode",{node:a.nodes(n.attr("data-node-id"))});else if(n.isEdge()){var r=a.edges(n.attr("data-edge-id"));o.dispatchEvent("outEdge",{edge:r,source:a.nodes(r.source),target:a.nodes(r.target)})}}}var o=this,a=this.graph;e.addEventListener("click",i,!1),sigma.utils.doubleClick(e,"click",n),e.addEventListener("touchstart",i,!1),sigma.utils.doubleClick(e,"touchstart",n),e.addEventListener("mouseover",r,!0),e.addEventListener("mouseout",s,!0)}}.call(this),function(e){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.drawHovers=function(e){function t(){i.contexts.hover.canvas.width=i.contexts.hover.canvas.width;var t,s,o,a,l,u=i.settings("defaultNodeType"),c=i.settings("defaultEdgeType"),h=sigma.canvas.hovers,d=sigma.canvas.edgehovers,f=sigma.canvas.extremities,p=i.settings.embedObjects({prefix:e});if(p("enableHovering")&&p("singleHover")&&Object.keys(n).length&&(a=n[Object.keys(n)[0]],(h[a.type]||h[u]||h.def)(a,i.contexts.hover,p)),p("enableHovering")&&!p("singleHover"))for(t in n)(h[n[t].type]||h[u]||h.def)(n[t],i.contexts.hover,p);if(p("enableEdgeHovering")&&p("singleHover")&&Object.keys(r).length&&(l=r[Object.keys(r)[0]],s=i.graph.nodes(l.source),o=i.graph.nodes(l.target),l.hidden||((d[l.type]||d[c]||d.def)(l,s,o,i.contexts.hover,p),p("edgeHoverExtremities")?(f[l.type]||f.def)(l,s,o,i.contexts.hover,p):((sigma.canvas.nodes[s.type]||sigma.canvas.nodes.def)(s,i.contexts.hover,p),(sigma.canvas.nodes[o.type]||sigma.canvas.nodes.def)(o,i.contexts.hover,p)))),p("enableEdgeHovering")&&!p("singleHover"))for(t in r)l=r[t],s=i.graph.nodes(l.source),o=i.graph.nodes(l.target),l.hidden||((d[l.type]||d[c]||d.def)(l,s,o,i.contexts.hover,p),p("edgeHoverExtremities")?(f[l.type]||f.def)(l,s,o,i.contexts.hover,p):((sigma.canvas.nodes[s.type]||sigma.canvas.nodes.def)(s,i.contexts.hover,p),(sigma.canvas.nodes[o.type]||sigma.canvas.nodes.def)(o,i.contexts.hover,p)))}var i=this,n={},r={};this.bind("overNode",function(e){var i=e.data.node;i.hidden||(n[i.id]=i,t())}),this.bind("outNode",function(e){delete n[e.data.node.id],t()}),this.bind("overEdge",function(e){var i=e.data.edge;i.hidden||(r[i.id]=i,t())}),this.bind("outEdge",function(e){delete r[e.data.edge.id],t()}),this.bind("render",function(e){t()})}}.call(this),function(e){sigma.prototype.saveCamera=function(e){var t=this.cameras[e],i=sigma.utils.getBoundaries(this.graph,"read_cam"+t.id+":"),n=i.maxX-i.minX,r=i.maxY-i.minY;return{x:100*t.x/n,y:100*t.y/r,ratio:t.ratio,angle:t.angle}},sigma.prototype.retrieveCamera=function(e,t){var i=this.cameras[e],n=sigma.utils.getBoundaries(this.graph,"read_cam"+i.id+":"),r=n.maxX-n.minX,s=n.maxY-n.minY;return{x:t.x*r/100,y:t.y*s/100,ratio:t.ratio,angle:t.angle}},sigma.prototype.loadCamera=function(e,t){var i=this.cameras[e],n=this.retrieveCamera(e,t);i.goTo(n)}}.call(this),function(e){function t(e){this.pipes=[],this.iterator=null,this.src=function(t){return this.iterator=e.graph[t],this},this.pipe=function(e){return this.pipes.push(e),this},this.exec=function(){var t,i,n,r,s=this.iterator();for(t=0,i=s.length;t<i;t++)for(n=0,r=this.pipes.length;n<r;n++)this.pipes[n].call(e,s[t]);return this.pipes=[],this},this.refresh=function(){return this.exec(),e.refresh(),this}}var i=this;if(!("sigma"in i))throw Error("sigma.pipe: sigma is not present on your context.");sigma.tasks={},sigma.task=function(e,t){if("function"!=typeof t)throw Error("sigma.task: you did not provide a procedure.");sigma.tasks=sigma.tasks||{},sigma.tasks[e]=t},sigma.prototype.run=function(e){if(!(e in sigma.tasks))throw Error('sigma.run: inexistent task: "'+e+'".');sigma.tasks[e].apply(this,[new t(this)].concat(Array.prototype.slice.call(arguments,1)))}}.call(this),function(e){function t(){var e=window.location.hash,t=e.split("/");return{view:t[1],id:t[2]}}function i(){var e={};return $("[id^=tpl]").each(function(){var t=$(this).attr("id").replace(/tpl\-/,"");e[t]=Handlebars.compile($(this).text())}),e}function n(e,t,i){return $.get("/api/embed/"+e+"/"+t,i)}function r(e,t,i){return $.get("/manylines_data/"+t+".json",i)}function s(e){var t=f.data.narrative.slides.indexOf(e);return 0===t?"first":t===f.data.narrative.slides.length-1?"last":"middle"}function o(){var e=f.data.narrative.slides.indexOf(f.currentSlide);return f.data.narrative.slides[e+1]}function a(){var e=f.data.narrative.slides.indexOf(f.currentSlide);return f.data.narrative.slides[e-1]}function l(){var e=$(".view-content"),t=($(".view-content-wrapper"),$(".left-arrow-container")),i=$(".right-arrow-container");e.empty(),t.empty(),i.empty(),f.currentSlide.text=marked(f.currentSlide.text),f.currentSlide.total=f.data.narrative.slides.length,e.append(f.templates.slide(f.currentSlide));var n=s(f.currentSlide);if(f.currentSlide.total>1&&("first"===n||"middle"===n)){var r=o();i.append(f.templates.right(r))}if(f.currentSlide.total>1&&("last"===n||"middle"===n)){var l=a();t.append(f.templates.left(l))}e.scrollTop(0),u(),d()}function u(){var e=$("#view-legend"),t=$(".legend-wrapper"),i=f.data.snapshots[f.currentSlide.snapshot],n=i.filters.length?i.filters[0]:{};if(e.empty(),!n.category)return void t.removeClass("opened").css("height","").removeClass("active");t.addClass("active");var r=f.data.categories[n.category],s={title:r.title,values:n.values.length?r.values.filter(function(e){return~n.values.indexOf(e.id)}):r.values};$("#view-legend").empty().append(f.templates.categories(s)),c()}function c(){var e=$(".legend-wrapper"),t=e.find(".category-items"),i=t[0].scrollHeight+1+t.position().top;i=Math.min(i,e.parent().height()-92),e.hasClass("opened")?(e.css("max-height","100%"),e.height(i)):(e.css("max-height",""),e.css("height",""))}function h(e){var e=$.extend({open:"toggle"},e);console.log(e.open)}function d(){var e=f.data.snapshots[f.currentSlide.snapshot],t=e.filters[0]||{};f.graphLoaded||(f.sig.graph.read(f.data.graph),f.graphLoaded=!0),f.sig.run("highlightCategoryValues",f.data.categories[t.category],t.values),f.currentCamera=f.sig.retrieveCamera("main",e.view.camera),sigma.misc.animation.camera(f.sig.cameras.main,f.currentCamera,{duration:500,easing:"cubicInOut"})}var f={};if(document.body.getAttribute("archived")&&(n=r),f.templates=i(),f.params=t(),f.data={},f.graphLoaded=!1,f.sig=new sigma({settings:{animationsTime:1e3,hideEdgesOnMove:!0,font:"Roboto Condensed",fontStyle:"300",defaultLabelSize:13,minEdgeSize:1.5,maxEdgeSize:1.5,maxNodeSize:4,defaultEdgeColor:"#ddd",defaultNodeColor:"#ccc",edgeColor:"default",rescaleIgnoreSize:!1,labelThreshold:8,singleHover:!0,zoomMin:.002,zoomMax:2}}),f.sig.addCamera("main"),f.sig.addRenderer({id:"main",camera:"main",container:document.getElementsByClassName("sigma-expand")[0]}),window.addEventListener("resize",function(){window.setTimeout(f.sig.refresh.bind(f.sig),0)}),!f.params.id||!f.params.view)throw Error("embed: wrong hash parameters.");setTimeout(function(){n(f.params.view,f.params.id,function(e){f.data=e;for(var t=0;t<e.narrative.slides.length;t++)e.narrative.slides[t].meta={total:f.data.narrative.slides.length,index:t+1};f.currentSlide=e.narrative.slides[0],f.data.categories=f.utils.indexBy(((f.data.meta||{}).model||{}).node||[],"id"),u(),l()}).fail(function(e,t,i){$("body").empty().text(i)})},0),$('*[data-embed-sigma-action="zoom"]').click(function(){var e=f.sig.cameras.main;sigma.misc.animation.camera(e,{ratio:e.ratio/1.5},{duration:150})}),$('*[data-embed-sigma-action="unzoom"]').click(function(){var e=f.sig.cameras.main;sigma.misc.animation.camera(e,{ratio:1.5*e.ratio},{duration:150})}),$('*[data-embed-sigma-action="recenter"]').click(function(){var e=f.sig.cameras.main;sigma.misc.animation.camera(e,f.currentCamera,{duration:500,easing:"cubicInOut"})}),$("body").on("click",'*[data-embed-action="fullscreen"]',function(){var e=document.getElementById("fullscreen-container"),t=document.isFullScreen||document.msIsFullscreen||document.mozIsFullScreen||document.webkitIsFullScreen;t?($(this).text("fullscreen"),document.cancelFullscreen?document.cancelFullscreen():document.msCancelFullscreen?document.msCancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()):($(this).text("exit fullscreen"),e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen())}),$("body").on("click","#left",function(){f.currentSlide=a(),l()}),$("body").on("click","#right",function(){f.currentSlide=o(),l()}),$("body").on("click",'[data-embed-legend-action="close"]',function(){var e=$(".view-content-wrapper");e.hasClass("show-legend")||h({open:!1})}),$("body").on("click",'*[data-embed-legend-action="toggle"]',function(){var e=$(".legend-wrapper");e.hasClass("active")&&(e.toggleClass("opened"),
c())}),this.embed=f}.call(this),function(e){function t(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)}function i(){var e,n,r={},s=arguments.length;for(e=s-1;e>=0;e--)for(n in arguments[e])r[n]&&t(arguments[e][n])?r[n]=i(arguments[e][n],r[n]):r[n]=arguments[e][n];return r}function n(e,t,i){for(var n=0,r=e.length;n<r;n++)if(t.call(i||null,e[n]))return e[n]}function r(e,t){var i,n,r={};for(i=0,n=e.length;i<n;i++)if("function"==typeof t){var s=t(e[i]);r[s[0]]=s[1]}else r[e[i][t]]=e[i];return r}function s(e,t){var i,n;for(i=0,n=e.length;i<n;i++)if(t(e[i]))return i;return-1}function o(e){for(var t=chroma(e).rgb(),i=248,n=0;n<3;n++)t[n]=i-.1*(i-t[n]);return chroma.rgb(t).hex()}function a(e){var t=e.split("/");return{pane:t[1],spaceId:t[2],version:t[3]}}("app"in this?app:embed).utils={extend:i,first:n,indexBy:r,indexOf:s,muteColor:o,parseHash:a}}.call(this),function(e){function t(e){return function(t){t.original=t.original||{},t.original[e]||(t.original[e]=t[e]||null)}}function i(e){return function(t){t[e]=(t.original||{})[e]||t[e],t.original&&t.original[e]&&delete t.original[e],t.original&&null===t.original[e]&&delete t[e]}}function n(e){delete e.hidden,delete e.muted}function r(e){return function(t){"original"===e?t.size=t.original.size:"degree"===e?t.size=1+2*Math.sqrt(this.graph.degree(t.id)):"indegree"===e?t.size=1+2*Math.sqrt(this.graph.degree(t.id,"in")):t.size=1+2*Math.sqrt(this.graph.degree(t.id,"out"))}}function s(e,t){return function(i){i.color=t?t[i.attributes[e.id]]:i.original.id}}function o(e,t,i){return function(n){var r=!t.some(function(t){return n.attributes[e.id]===t}),s=i[n.attributes[e.id]];n.color=r?u.utils.muteColor(s):s,n.muted=r}}function a(e){var t=this.graph.nodes;t(e.source).muted||t(e.target).muted?e.hidden=!0:delete e.hidden}function l(e){var t,i={};for(t in e)~t.indexOf(":")||~t.indexOf("true")||"muted"===t||"hidden"===t||e.original&&null===e.original[t]||(i[t]="size"!==t&&e.original&&e.original[t]||e[t]);return i}var u="app"in this?app:embed;sigma.task("mapSizes",function(e,i){return e.src("nodes").pipe(t("size")).pipe(r(i)).refresh()}),sigma.task("mapColors",function(e,i){if(!i)return this.run("resetColors");var r=i?u.utils.indexBy(i.values,function(e){return[e.id,e.color]}):null;return e.src("edges").pipe(n).exec(),e.src("nodes").pipe(t("color")).pipe(n).pipe(s(i,r)).refresh()}),sigma.task("resetColors",function(e){return e.src("edges").pipe(n).exec(),e.src("nodes").pipe(i("color")).refresh()}),sigma.task("highlightCategoryValues",function(e,i,n){if(!i)return this.run("resetColors");if(!(n||[]).length)return this.run("mapColors",i);var r=u.utils.indexBy(i.values,function(e){return[e.id,e.color]});e.src("nodes").pipe(t("color")).pipe(o(i,n,r)).exec(),e.src("edges").pipe(a).refresh()}),sigma.prototype.retrieveGraphData=function(){return{nodes:this.graph.nodes().map(l),edges:this.graph.edges().map(l)}}}.call(this);